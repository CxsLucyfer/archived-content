<p>This paper is for engineers performing formal release for the NetScape Portable Runtime (NSPR) across all platforms.</p>
<p>NSPR generally follows the iPlanet product lifecycle.</p>


<h2 id="Feature_Complete" name="Feature_Complete">Feature Complete</h2>
<ol>
  <li>Update ...pr/include/prinit.h with release numbers</li>
  <li>Build all targets, debug and optimized on all platforms using local directories</li>
  <li>Run the test suite on all targets</li>
  <li>Verify release numbers show up in binaries</li>
  <li>Resolve testing anomalies</li>
  <li>Tag the tree with NSPRPUB_RELEASE_x_y_z_BETA</li>
</ol>


<h2 id="Beta_Release" name="Beta_Release">Beta Release</h2>
<ol>
  <li>Checkout a whole new tree using the tag from above</li>
  <li>Build all targets, debug and optimized on all platforms using the command:</li>
</ol>
<pre class="eval"> gmake release MDIST=&lt;dir&gt;/MDist BUILD_NUMBER=vx.y.z [BUILD_OPT=1 | USE_DEBUG_RTL=1]
</pre>
<ol>
  <li>Copy the bits from MDist to /share/builds/components/nspr20/.vx.y.z <sup>1</sup></li>
  <li>Run <code>explode.pl</code></li>
  <li>Run the test suite on all targets, using binaries &amp; headers from shipped bits</li>
  <li>Resolve testing anomalies</li>
  <li>Tag the tree with NSPRPUB_RELEASE_x_y[_z]</li>
</ol>


<h2 id="Release_Candidate" name="Release_Candidate">Release Candidate</h2>
<ol>
  <li>Checkout a whole new tree using tag (including fixes)</li>
  <li>Tag the treey with NSPRPUB_RELEASE_x_y_z</li>
  <li>Build all targets, debug and optimized on all platforms using the command:</li>
</ol>

<pre class="eval"> gmake release MDIST=&lt;dir&gt;/MDist BUILD_NUMBER=vx.y.z [BUILD_OPT=1 | USE_DEBUG_RTL=1]
</pre>

<ol>
  <li>Copy the bits from MDist to <code>/share/builds/components/nspr20/.vx.y.z</code></li>
  <li>In <code>/share/builds/components/nspr20/</code> run the following scripts:</li>
</ol>
<ul>
  <li><code>explode.pl</code></li>
  <li><code>rename.sh</code></li>
  <li><code>symlink.sh</code></li>
</ul>


<h2 id="RTM_Bits" name="RTM_Bits">RTM Bits</h2>
<p>Rename the <code>.vx.y.z</code> directory to <code>vx.y.z</code> (remove the hidden directory 'dot').</p>
<p>Copy <code>/share/builds/components/nspr20/vx.y.z/*</code> to <code>/share/systems/mozilla/pub/nspr/vx.y.z/</code></p>

<h2 id="Original_Document_Information" name="Original_Document_Information">Original Document Information</h2>
<div class="originaldocinfo">
  <ul>
    <li>Author: <a class="link-mailto" href="mailto:larryh@netscape.com">larryh@netscape.com</a></li>
    <li>Last Updated Date: September 20, 2000</li>
  </ul>
</div>
<p><sup>1</sup> Copying files to <code>/share/builds/components</code> requires that one be logged on to a machine named "smithers" as user "svbld". The password to this account is restricted to a small set of designated release engineers.</p>