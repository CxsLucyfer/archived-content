---
title: IdentityManager.request()
slug: Archive/IdentityManager/request
tags:
  - API
  - BrowserID
  - DOM
  - DOM Reference
  - Method
  - Persona
  - Reference
  - Référence(2)
  - Security
---
<div><section class="Quick_links" id="Quick_Links"><ol><li><strong><a href="/en-US/docs/Web/API/Archive"><code>Archive</code></a></strong></li></ol></section></div>

<h2 id="Summary" name="Summary">Summary</h2>

<p>This function enables a web site to use <a href="/en-US/docs/Persona" title="BrowserID">Persona</a> to authenticate its users. It must be invoked from within a click handler. For example, you should call it when a user clicks your &quot;log in with Persona&quot; button.</p>

<p>When invoked, <code>navigator.id.request()</code> will ask the user to choose an email address to sign in with, and may ask the user to authenticate with their identity provider if the user&apos;s certificate has expired. It will then generate a signed <strong>assertion</strong> containing the user&apos;s email address and pass that assertion to the <code>onlogin</code> callback registered with <a href="/en-US/docs/Web/API/Navigator/id/watch" title="The documentation about this has not yet been written; please consider contributing!"><code>navigator.id.watch()</code></a>.</p>

<p>This function <strong>must</strong> be used in conjunction with <a href="/en-US/docs/Web/API/Navigator/id/watch" title="The documentation about this has not yet been written; please consider contributing!"><code>navigator.id.watch()</code></a><code>.</code></p>

<h2 id="Syntax" name="Syntax">Syntax</h2>

<pre class="syntaxbox">navigator.id.request();
navigator.id.request({siteName: &apos;Example Site&apos;, siteLogo: &apos;/logo.png&apos;});
navigator.id.request({termsOfService: &apos;/tos.html&apos;, privacyPolicy: &apos;/privacy.html&apos;});
</pre>

<h3 id="Parameters" name="Parameters">Parameters</h3>

<dl>
 <dt><code>backgroundColor</code> <span class="optional optionalInline notecard inline">Optional</span></dt>
 <dd>A hexadecimal color to use as the login dialog&apos;s background. Format: <code>&quot;#rgb&quot;</code> or <code>&quot;#rrggbb&quot;</code>.</dd>
 <dt><code>oncancel</code> <span class="optional optionalInline notecard inline">Optional</span></dt>
 <dd>A function that will be invoked if the user refuses to share an identity with the site.</dd>
 <dt><code>privacyPolicy</code> <span class="optional optionalInline notecard inline">Optional</span></dt>
 <dd><em>Must be served over SSL. The <code>termsOfService</code> parameter must also be provided.</em></dd>
 <dd>Absolute path or URL to the web site&apos;s privacy policy. If provided, then <code>termsOfService</code> must also be provided. When both <code>termsOfService</code> and <code>privacyPolicy</code> are given, the login dialog informs the user that, by continuing, &quot;you confirm that you accept this site&apos;s Terms of Use and Privacy Policy.&quot; The dialog provides links to the the respective policies.</dd>
 <dt><code>returnTo</code> <span class="optional optionalInline notecard inline">Optional</span></dt>
 <dd>Absolute path to send new users to after they&apos;ve completed email verification for the first time. The path must begin with &apos;<code>/</code>&apos;. This parameter only affects users who are certified by Mozilla&apos;s fallback Identity Provider. This value passed in should be a valid path which could be used to set window.location too.</dd>
 <dt><code>siteLogo</code> <span class="optional optionalInline notecard inline">Optional</span></dt>
 <dd><em>Must be served over SSL.</em></dd>
 <dd>Absolute path to an image to show in the login dialog. The path must begin with &apos;<code>/</code>&apos;. Larger images will be scaled down to fit within 100x100 pixels.</dd>
 <dt><code>siteName</code> <span class="optional optionalInline notecard inline">Optional</span></dt>
 <dd>Plain text name of your site to show in the login dialog. Unicode and whitespace are allowed, but markup is not.</dd>
 <dt><code>termsOfService</code> <span class="optional optionalInline notecard inline">Optional</span></dt>
 <dd><em>Must be served over SSL. The <code>privacyPolicy</code> parameter must also be provided.</em></dd>
 <dd>Absolute path or URL to the web site&apos;s terms of service. If provided, then <code>privacyPolicy</code> must also be provided. When both <code>termsOfService</code> and <code>privacyPolicy</code> are given, the login dialog informs the user that, by continuing, &quot;you confirm that you accept this site&apos;s Terms of Use and Privacy Policy.&quot; The dialog provides links to the the respective policies.</dd>
</dl>

<h2 id="Example" name="Example">Example</h2>

<pre class="brush:js;">var signinLink = document.getElementById(&apos;signin&apos;);

if (signinLink) {
  signinLink.onclick = function(evt) {
    // Requests a signed identity assertion from the user.
    navigator.id.request({
      siteName: &apos;My Example Site&apos;,
      siteLogo: &apos;/logo.png&apos;,
      termsOfService: &apos;/tos.html&apos;,
      privacyPolicy: &apos;/privacy.html&apos;,
      returnTo: &apos;/welcome.html&apos;,
      oncancel: function() { alert(&apos;user refuses to share identity.&apos;); }
    });
  };
}</pre>

<h2 id="Specification" name="Specification">Specification</h2>

<p>Not included in any specification.</p>

<h2 id="See_also" name="See_also">See also</h2>

<ul>
 <li><a href="/en-US/docs/BrowserID">BrowserID</a></li>
 <li><a href="/en-US/docs/Web/API/Navigator/id"><code>navigator.id</code></a></li>
 <li><a href="/en-US/docs/Web/API/Navigator/id/watch"><code>navigator.id.watch()</code></a></li>
 <li><a href="/en-US/docs/Web/API/Navigator/id/logout"><code>navigator.id.logout()</code></a></li>
</ul>
