---
title: Service worker port API reference
slug: Archive/Social_API/Service_worker_port_API_reference
---
<div class="note">
 <p><strong>Note</strong>: This Service worker is part of Mozilla&apos;s Social API. If you are looking for information on the new W3C ServiceWorker proposal for caching, http response control , etc., go to the <a href="/en-US/docs/Web/API/ServiceWorker_API">ServiceWorker landing page</a> instead.</p>
</div>
<h3 id="Summary" name="Summary">Summary</h3>
<p>The Service Worker is a background worker based on the <a href="http://www.w3.org/TR/workers/" class="external" title="http://www.w3.org/TR/workers/">W3C Worker proposal</a>.Â  The worker object is returned by calling <a href="https://developer.mozilla.org/en-US/docs/DOM/MozSocial.getWorker" title="/en-US/docs/DOM/MozSocial.getWorker">MozSocial.getWorker</a> and has one property, port.</p>
<h2 id="Attributes" name="Attributes">Attributes</h2>
<dl>
 <dt>
  <a href="#port" title="/en-US/docs/Social_API/Service_worker_port_API_reference">port</a></dt>
 <dd>
  Returns an instance of a <a href="#port" title="/en-US/docs/Social_API/Service_worker_port_API_reference">worker port</a>.</dd>
</dl>
<h3 id="Specification" name="Specification">Specification</h3>
<p>Not part of any specification.</p>
<h2 id="Port"><a href="/en-US/docs/" name="port" title="/en-US/docs/">Port</a></h2>
<h2 id="Method_overview">Method overview</h2>
<table class="standard-table">
 <tbody>
  <tr>
   <td>
    <p><code>void <a href="/en/DOM/Worker#postMessage()" title="en/DOM/Worker#postMessage()">postMessage</a>(in JSObject message);</code></p>
   </td>
  </tr>
  <tr>
   <td><code>void close();</code></td>
  </tr>
 </tbody>
</table>
<h2 id="Properties">Properties</h2>
<table class="standard-table">
 <tbody>
  <tr>
   <td class="header">Property</td>
   <td class="header">Type</td>
   <td class="header">Description</td>
  </tr>
  <tr>
   <td><code>onmessage</code></td>
   <td><a href="/en-US/docs/Web/API/EventListener" title="This method is called whenever an event occurs of the type for which the EventListener interface was registered."><code>EventListener</code></a></td>
   <td>An event listener that is called whenever a <code>MessageEvent</code> with type <code>message</code> bubbles through the worker. The message is stored in the event&apos;s <code>data</code> member.</td>
  </tr>
 </tbody>
</table>
<h2 id="Methods">Methods</h2>
<h3 id="postMessage()">postMessage()</h3>
<p>Sends a message to the worker&apos;s inner scope. This accepts a single parameter, which is the data to send to the worker. The data may be any value or JavaScript object handled by the <a href="http://www.whatwg.org/specs/web-apps/current-work/multipage/common-dom-interfaces.html#transferable" title="http://www.whatwg.org/specs/web-apps/current-work/multipage/common-dom-interfaces.html#transferable">structured clone</a> algorithm, which includes cyclical references.</p>
<pre>void postMessage( Object aMessage );
</pre>
<h3 id="Parameters">Parameters</h3>
<dl>
 <dt>
  aMessage</dt>
 <dd>
  The object to deliver to the worker; this will be in the data field in the event delivered to the <code>onmessage</code> handler. This may be any value or JavaScript object handled by the <a href="http://www.whatwg.org/specs/web-apps/current-work/multipage/common-dom-interfaces.html#transferable" title="http://www.whatwg.org/specs/web-apps/current-work/multipage/common-dom-interfaces.html#transferable">structured clone</a> algorithm, which includes cyclical references.</dd>
</dl>
<h3 id="close()">close()</h3>
<p>Immediately closes the port.</p>
<pre>void close();
</pre>
<h2 id="See_also">See also</h2>
<ul>
 <li><a href="/En/Using_web_workers" class="internal">Using web workers</a></li>
 <li><a href="/En/DOM/Worker/Functions_available_to_workers">Functions available to workers</a></li>
 <li><a href="http://www.w3.org/TR/workers/">Web Workers - W3C</a><span style="color: #fff; background: #e66e33; display: inline-block; font-size: x-small; margin-left: 6px; white-space: nowrap; padding: 2px 5px;" title="Working Draft">WD</span></li>
 <li><a href="http://www.whatwg.org/specs/web-workers/current-work/" class="external">Web Workers specification - WHATWG</a></li>
 <li><a href="/en-US/docs/Web/API/SharedWorker"><code>SharedWorker</code></a></li>
 <li><a href="/en-US/docs/Web/API/ChromeWorker"><code>ChromeWorker</code></a></li>
</ul>
