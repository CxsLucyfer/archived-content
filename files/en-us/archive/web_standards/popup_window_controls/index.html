---
title: Popup Window Controls
slug: Archive/Web_Standards/Popup_Window_Controls
tags:
  - Web Development
  - create this idea
---
<p>Mozilla and Firefox allow users to control most unsolicited attempts to open new windows such as popup and popunder windows. Learn how to detect Popup Controls, how to ask your readers to enable popups for your site and how to get the benefits of popup windows without using popup windows.</p>

<h3 id="Popup_Window_Controls_Configuration" name="Popup_Window_Controls_Configuration">Popup Window Controls Configuration</h3>

<p>Using the Preference for <em>Privacy &amp; Security &gt; Popup Windows</em>, users can:</p>

<ul>
 <li>allow all sites to open Popup windows except for sites which the user has explicity denied permission</li>
</ul>

<h3 id="What_Popup_Windows_are_suppressed.3F" name="What_Popup_Windows_are_suppressed.3F">What Popup Windows are suppressed?</h3>

<p>Mozilla will attempt to suppress all calls to <code>window.open()</code> which occur in the following circumstances:</p>

<ul>
 <li>global script which is executed as the document is loading</li>
 <li>script executed as part of a onload event handler</li>
 <li>script executed in <code>setTimeout()</code> or <code>setInterval()</code></li>
</ul>

<h3 id="What_Popup_Windows_are_not_suppressed.3F" name="What_Popup_Windows_are_not_suppressed.3F">What Popup Windows are not suppressed?</h3>

<p>Any attempt to open a popup window that is the direct result of user action, such as clicking on a hyperlink, should succeed in opening popup windows even if the user has popup controls enabled on your site.</p>

<h3 id="Detecting_Suppressed_Popups_Windows" name="Detecting_Suppressed_Popups_Windows">Detecting Suppressed Popups Windows</h3>

<p>If a user has popup controls enabled for your site, any attempt to call <code>window.open</code> in global script, in an <code>onload</code> handler or in <code>setTimeout()</code> or <code>setInterval()</code> will return null rather than a reference to the opened window.</p>

<pre class="brush: js notranslate">&lt;html&gt;
 &lt;head&gt;
  &lt;title&gt;Detecting Popup Controls&lt;/title&gt;
  &lt;script type="text/javascript"&gt;
    &lt;!--
    // attempt to open an unsolicited window
    var popup = window.open('about:blank', 'popup');
    <strong>if (!popup)</strong>
     {
      // the user has suppressed the popup
     }
    // --&gt;
  &lt;/script&gt;
 &lt;/head&gt;
 &lt;body&gt;
   &lt;!-- your page here --&gt;
 &lt;/body&gt;
&lt;/html&gt;
</pre>

<p>If your popup window is crucial to the operation of your web site you can notify the user and ask them to add your site to the list of sites which are allowed to use unsolicited popup windows. You can also provide a hyperlink which can be used to open a popup window even in the event that the user has suppressed unsolicited popups on your site.</p>

<h3 id="Replacements_for_Popup_Windows" name="Replacements_for_Popup_Windows">Replacements for Popup Windows</h3>

<p>If your popup was created during the time the web page was loading, you may consider using <code>document.write()</code> to emit appropriate HTML which will contain the same information as the popup window. You can also use either the advanced features in the Document Object Model (DOM) or <code>innerHTML</code> to create the appropriate HTML.</p>

<h3 id="Example" name="Example">Example</h3>

<p><span class="comment">The example tag links to devedge-temp.mozilla.org</span> This <a class="external" href="http://devedge-temp.mozilla.org/viewsource/2002/popup-control/example.html">example</a> illustrates detecting suppressed popup windows as well as an approach for replacing popup windows with inline HTML using <code>innerHTML</code>.</p>

<div class="originaldocinfo">
<h3 id="Original_Document_Information" name="Original_Document_Information">Original Document Information</h3>

<ul>
 <li>Author(s): Bob Clary</li>
 <li>Last Updated Date: December 5th, 2002</li>
 <li>Copyright © 2001-2003 Netscape.</li>
</ul>
</div>
