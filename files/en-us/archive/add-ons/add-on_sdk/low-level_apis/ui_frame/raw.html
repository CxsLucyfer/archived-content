<div>
<div class="warning">
<p>Support for extensions using XUL/XPCOM or the Add-on SDK was removed in Firefox 57, released November 2017. As there is no supported version of Firefox enabling these technologies, this page will be removed by December 2020.</p>

<p>Add-ons using the techniques described in this document are considered a legacy technology in Firefox. Don't use these techniques to develop new add-ons. Use <a href="/en-US/Add-ons/WebExtensions">WebExtensions</a> instead. If you maintain an add-on which uses the techniques described here, consider migrating it to use WebExtensions.</p>

<p><strong>Starting from <a href="https://wiki.mozilla.org/RapidRelease/Calendar">Firefox 53</a>, no new legacy add-ons will be accepted on addons.mozilla.org (AMO) for desktop Firefox and Firefox for Android.</strong></p>

<p><strong>Starting from <a href="https://wiki.mozilla.org/RapidRelease/Calendar">Firefox 57</a>, only extensions developed using WebExtensions APIs will be supported on Desktop Firefox and Firefox for Android. </strong></p>

<p>Even before Firefox 57, changes coming up in the Firefox platform will break many legacy extensions. These changes include multiprocess Firefox (e10s), sandboxing, and multiple content processes. Legacy extensions that are affected by these changes should migrate to use WebExtensions APIs if they can. See the <a href="https://blog.mozilla.org/addons/2017/02/16/the-road-to-firefox-57-compatibility-milestones/">"Compatibility Milestones" document</a> for more information.</p>

<p>A wiki page containing <a href="https://wiki.mozilla.org/Add-ons/developer/communication">resources, migration paths, office hours, and more</a>, is available to help developers transition to the new technologies.</p>
</div>

<section class="Quick_links" id="Quick_Links">
<ol>
 <li><a href="/en-US/docs/Mozilla/Add-ons/WebExtensions"><strong>Browser extensions</strong></a></li>
 <li><a href="/en-US/docs/Mozilla/Add-ons/WebExtensions#Getting_started">Getting started</a>
  <ol>
   <li><a href="/en-US/docs/Mozilla/Add-ons/WebExtensions/What_are_WebExtensions">What are extensions?</a></li>
   <li><a href="/en-US/docs/Mozilla/Add-ons/WebExtensions/Your_first_WebExtension">Your first extension</a></li>
   <li><a href="/en-US/docs/Mozilla/Add-ons/WebExtensions/Your_second_WebExtension">Your second extension</a></li>
   <li><a href="/en-US/docs/Mozilla/Add-ons/WebExtensions/Anatomy_of_a_WebExtension">Anatomy of an extension</a></li>
   <li><a href="/en-US/docs/Mozilla/Add-ons/WebExtensions/Examples">Example extensions</a></li>
   <li><a href="/en-US/docs/Mozilla/Add-ons/WebExtensions/What_next_">What next?</a></li>
  </ol>
 </li>
 <li><a href="/en-US/docs/Mozilla/Add-ons/WebExtensions#Concepts">Concepts</a>
  <ol>
   <li><a href="/en-US/docs/Mozilla/Add-ons/WebExtensions/Using_the_JavaScript_APIs">Using the JavaScript APIs</a></li>
   <li><a href="/en-US/docs/Mozilla/Add-ons/WebExtensions/Content_scripts">Content scripts</a></li>
   <li><a href="/en-US/docs/Mozilla/Add-ons/WebExtensions/Match_patterns">Match patterns</a></li>
   <li><a href="/en-US/docs/Mozilla/Add-ons/WebExtensions/Working_with_files">Working with files</a></li>
   <li><a href="/en-US/docs/Mozilla/Add-ons/WebExtensions/Internationalization">Internationalization</a></li>
   <li><a href="/en-US/docs/Mozilla/Add-ons/WebExtensions/Security_best_practices">Security best practices</a></li>
   <li><a href="/en-US/docs/Mozilla/Add-ons/WebExtensions/Content_Security_Policy">Content Security Policy</a></li>
   <li><a href="/en-US/docs/Mozilla/Add-ons/WebExtensions/Native_messaging">Native messaging</a></li>
  </ol>
 </li>
 <li><a href="/en-US/docs/Mozilla/Add-ons/WebExtensions#User_Interface">User interface</a>
  <ol>
   <li><a href="/en-US/docs/Mozilla/Add-ons/WebExtensions/user_interface">User Interface</a></li>
   <li><a href="/en-US/docs/Mozilla/Add-ons/WebExtensions/user_interface/Browser_action">Toolbar button</a></li>
   <li><a href="/en-US/docs/Mozilla/Add-ons/WebExtensions/user_interface/Page_actions">Address bar button</a></li>
   <li><a href="/en-US/docs/Mozilla/Add-ons/WebExtensions/user_interface/Sidebars">Sidebars</a></li>
   <li><a href="/en-US/docs/Mozilla/Add-ons/WebExtensions/user_interface/Context_menu_items">Context menu items</a></li>
   <li><a href="/en-US/docs/Mozilla/Add-ons/WebExtensions/user_interface/Options_pages">Options page</a></li>
   <li><a href="/en-US/docs/Mozilla/Add-ons/WebExtensions/user_interface/Extension_pages">Extension pages</a></li>
   <li><a href="/en-US/docs/Mozilla/Add-ons/WebExtensions/user_interface/Notifications">Notifications</a></li>
   <li><a href="/en-US/docs/Mozilla/Add-ons/WebExtensions/user_interface/Omnibox">Address bar suggestions</a></li>
   <li><a href="/en-US/docs/Mozilla/Add-ons/WebExtensions/user_interface/devtools_panels">Developer tools panels</a></li>
  </ol>
 </li>
 <li><a href="/en-US/docs/Mozilla/Add-ons/WebExtensions#How_to">How to</a>
  <ol>
   <li><a href="/en-US/docs/Mozilla/Add-ons/WebExtensions/Intercept_HTTP_requests">Intercept HTTP requests</a></li>
   <li><a href="/en-US/docs/Mozilla/Add-ons/WebExtensions/Modify_a_web_page">Modify a web page</a></li>
   <li><a href="/en-US/docs/Mozilla/Add-ons/WebExtensions/Safely_inserting_external_content_into_a_page">Insert external content</a></li>
   <li><a href="/en-US/docs/Mozilla/Add-ons/WebExtensions/Add_a_button_to_the_toolbar">Add a button to the toolbar</a></li>
   <li><a href="/en-US/docs/Mozilla/Add-ons/WebExtensions/Implement_a_settings_page">Implement a settings page</a></li>
   <li><a href="/en-US/docs/Mozilla/Add-ons/WebExtensions/Working_with_the_Tabs_API">Work with the Tabs API</a></li>
   <li><a href="/en-US/docs/Mozilla/Add-ons/WebExtensions/Work_with_the_Bookmarks_API">Work with the Bookmarks API</a></li>
   <li><a href="/en-US/docs/Mozilla/Add-ons/WebExtensions/Work_with_the_Cookies_API">Work with the Cookies API</a></li>
   <li><a href="/en-US/docs/Mozilla/Add-ons/WebExtensions/Work_with_contextual_identities">Work with contextual identities</a></li>
  </ol>
 </li>
 <li><a href="/en-US/docs/Mozilla/Add-ons/WebExtensions#Porting">Porting</a>
  <ol>
   <li><a href="/en-US/docs/Mozilla/Add-ons/WebExtensions/Porting_a_Google_Chrome_extension">Porting a Google Chrome extension</a></li>
   <li><a href="/en-US/docs/Mozilla/Add-ons/WebExtensions/Porting_a_legacy_Firefox_add-on">Porting a legacy Firefox extension</a></li>
   <li><a href="/en-US/docs/Mozilla/Add-ons/WebExtensions/Embedded_WebExtensions">Embedded WebExtensions</a></li>
   <li><a href="/en-US/docs/Mozilla/Add-ons/WebExtensions/Comparison_with_the_Add-on_SDK">Comparison with the Add-on SDK</a></li>
   <li><a href="/en-US/docs/Mozilla/Add-ons/WebExtensions/Comparison_with_XUL_XPCOM_extensions">Comparison with XUL/XPCOM extensions</a></li>
   <li><a href="/en-US/docs/Mozilla/Add-ons/WebExtensions/Chrome_incompatibilities">Chrome incompatibilities</a></li>
   <li><a href="/en-US/docs/Mozilla/Add-ons/WebExtensions/Differences_between_desktop_and_Android">Differences between desktop and Android</a></li>
  </ol>
 </li>
 <li><a href="/en-US/docs/Mozilla/Add-ons/WebExtensions#Firefox_workflow">Firefox workflow</a>
  <ol>
   <li><a href="/en-US/docs/Mozilla/Add-ons/WebExtensions/User_experience_best_practices">User Experience</a></li>
   <li><a href="/en-US/docs/Mozilla/Add-ons/WebExtensions/Temporary_Installation_in_Firefox">Temporary Installation in Firefox</a></li>
   <li><a href="/en-US/docs/Mozilla/Add-ons/WebExtensions/Debugging">Debugging</a></li>
   <li><a href="/en-US/docs/Mozilla/Add-ons/WebExtensions/Testing_persistent_and_restart_features">Testing persistent and restart features</a></li>
   <li><a href="/en-US/docs/Mozilla/Add-ons/WebExtensions/Developing_WebExtensions_for_Firefox_for_Android">Developing for Firefox for Android</a></li>
   <li><a href="/en-US/docs/Mozilla/Add-ons/WebExtensions/Getting_started_with_web-ext">Getting started with web-ext</a></li>
   <li><a href="/en-US/docs/Mozilla/Add-ons/WebExtensions/web-ext_command_reference">web-ext command reference</a></li>
   <li><a href="/en-US/docs/Mozilla/Add-ons/WebExtensions/WebExtensions_and_the_Add-on_ID">Extensions and the Add-on ID</a></li>
   <li><a href="/en-US/docs/Mozilla/Add-ons/WebExtensions/Request_the_right_permissions">Request the right permissions</a></li>
  </ol>
 </li>
 <li data-default-state="closed"><a href="/en-US/docs/Mozilla/Add-ons/WebExtensions/API">JavaScript APIs</a>
  <ol>
   <li><a href="/en-US/docs/Mozilla/Add-ons/WebExtensions/Browser_support_for_JavaScript_APIs">Browser support for JavaScript APIs</a></li>
   <li><a href="/en-US/docs/Mozilla/Add-ons/WebExtensions/API/alarms">alarms</a></li>
   <li><a href="/en-US/docs/Mozilla/Add-ons/WebExtensions/API/bookmarks">bookmarks</a></li>
   <li><a href="/en-US/docs/Mozilla/Add-ons/WebExtensions/API/browserAction">browserAction</a></li>
   <li><a href="/en-US/docs/Mozilla/Add-ons/WebExtensions/API/browserSettings">browserSettings</a></li>
   <li><a href="/en-US/docs/Mozilla/Add-ons/WebExtensions/API/browsingData">browsingData</a></li>
   <li><a href="/en-US/docs/Mozilla/Add-ons/WebExtensions/API/clipboard">clipboard</a></li>
   <li><a href="/en-US/docs/Mozilla/Add-ons/WebExtensions/API/commands">commands</a></li>
   <li><a href="/en-US/docs/Mozilla/Add-ons/WebExtensions/API/contentScripts">contentScripts</a></li>
   <li><a href="/en-US/docs/Mozilla/Add-ons/WebExtensions/API/contextualIdentities">contextualIdentities</a></li>
   <li><a href="/en-US/docs/Mozilla/Add-ons/WebExtensions/API/cookies">cookies</a></li>
   <li><a href="/en-US/docs/Mozilla/Add-ons/WebExtensions/API/devtools.inspectedWindow">devtools.inspectedWindow</a></li>
   <li><a href="/en-US/docs/Mozilla/Add-ons/WebExtensions/API/devtools.network">devtools.network</a></li>
   <li><a href="/en-US/docs/Mozilla/Add-ons/WebExtensions/API/devtools.panels">devtools.panels</a></li>
   <li><a href="/en-US/docs/Mozilla/Add-ons/WebExtensions/API/dns">dns</a></li>
   <li><a href="/en-US/docs/Mozilla/Add-ons/WebExtensions/API/downloads">downloads</a></li>
   <li><a href="/en-US/docs/Mozilla/Add-ons/WebExtensions/API/events">events</a></li>
   <li><a href="/en-US/docs/Mozilla/Add-ons/WebExtensions/API/extension">extension</a></li>
   <li><a href="/en-US/docs/Mozilla/Add-ons/WebExtensions/API/extensionTypes">extensionTypes</a></li>
   <li><a href="/en-US/docs/Mozilla/Add-ons/WebExtensions/API/find">find</a></li>
   <li><a href="/en-US/docs/Mozilla/Add-ons/WebExtensions/API/history">history</a></li>
   <li><a href="/en-US/docs/Mozilla/Add-ons/WebExtensions/API/i18n">i18n</a></li>
   <li><a href="/en-US/docs/Mozilla/Add-ons/WebExtensions/API/identity">identity</a></li>
   <li><a href="/en-US/docs/Mozilla/Add-ons/WebExtensions/API/idle">idle</a></li>
   <li><a href="/en-US/docs/Mozilla/Add-ons/WebExtensions/API/management">management</a></li>
   <li><a href="/en-US/docs/Mozilla/Add-ons/WebExtensions/API/menus">menus</a></li>
   <li><a href="/en-US/docs/Mozilla/Add-ons/WebExtensions/API/notifications">notifications</a></li>
   <li><a href="/en-US/docs/Mozilla/Add-ons/WebExtensions/API/omnibox">omnibox</a></li>
   <li><a href="/en-US/docs/Mozilla/Add-ons/WebExtensions/API/pageAction">pageAction</a></li>
   <li><a href="/en-US/docs/Mozilla/Add-ons/WebExtensions/API/permissions">permissions</a></li>
   <li><a href="/en-US/docs/Mozilla/Add-ons/WebExtensions/API/pkcs11">pkcs11</a></li>
   <li><a href="/en-US/docs/Mozilla/Add-ons/WebExtensions/API/privacy">privacy</a></li>
   <li><a href="/en-US/docs/Mozilla/Add-ons/WebExtensions/API/proxy">proxy</a></li>
   <li><a href="/en-US/docs/Mozilla/Add-ons/WebExtensions/API/runtime">runtime</a></li>
   <li><a href="/en-US/docs/Mozilla/Add-ons/WebExtensions/API/search">search</a></li>
   <li><a href="/en-US/docs/Mozilla/Add-ons/WebExtensions/API/sessions">sessions</a></li>
   <li><a href="/en-US/docs/Mozilla/Add-ons/WebExtensions/API/sidebarAction">sidebarAction</a></li>
   <li><a href="/en-US/docs/Mozilla/Add-ons/WebExtensions/API/storage">storage</a></li>
   <li><a href="/en-US/docs/Mozilla/Add-ons/WebExtensions/API/tabs">tabs</a></li>
   <li><a href="/en-US/docs/Mozilla/Add-ons/WebExtensions/API/theme">theme</a></li>
   <li><a href="/en-US/docs/Mozilla/Add-ons/WebExtensions/API/topSites">topSites</a></li>
   <li><a href="/en-US/docs/Mozilla/Add-ons/WebExtensions/API/types">types</a></li>
   <li><a href="/en-US/docs/Mozilla/Add-ons/WebExtensions/API/webNavigation">webNavigation</a></li>
   <li><a href="/en-US/docs/Mozilla/Add-ons/WebExtensions/API/webRequest">webRequest</a></li>
   <li><a href="/en-US/docs/Mozilla/Add-ons/WebExtensions/API/windows">windows</a></li>
  </ol>
 </li>
 <li><a href="/en-US/docs/Mozilla/Add-ons/WebExtensions/manifest.json">Manifest keys</a>
  <ol>
   <li><a href="/en-US/docs/Mozilla/Add-ons/WebExtensions/manifest.json/applications">applications</a></li>
   <li><a href="/en-US/docs/Mozilla/Add-ons/WebExtensions/manifest.json/author">author</a></li>
   <li><a href="/en-US/docs/Mozilla/Add-ons/WebExtensions/manifest.json/background">background</a></li>
   <li><a href="/en-US/docs/Mozilla/Add-ons/WebExtensions/manifest.json/browser_action">browser_action</a></li>
   <li><a href="/en-US/docs/Mozilla/Add-ons/WebExtensions/manifest.json/chrome_settings_overrides">chrome_settings_overrides</a></li>
   <li><a href="/en-US/docs/Mozilla/Add-ons/WebExtensions/manifest.json/chrome_url_overrides">chrome_url_overrides</a></li>
   <li><a href="/en-US/docs/Mozilla/Add-ons/WebExtensions/manifest.json/commands">commands</a></li>
   <li><a href="/en-US/docs/Mozilla/Add-ons/WebExtensions/manifest.json/content_scripts">content_scripts</a></li>
   <li><a href="/en-US/docs/Mozilla/Add-ons/WebExtensions/manifest.json/content_security_policy">content_security_policy</a></li>
   <li><a href="/en-US/docs/Mozilla/Add-ons/WebExtensions/manifest.json/default_locale">default_locale</a></li>
   <li><a href="/en-US/docs/Mozilla/Add-ons/WebExtensions/manifest.json/description">description</a></li>
   <li><a href="/en-US/docs/Mozilla/Add-ons/WebExtensions/manifest.json/developer">developer</a></li>
   <li><a href="/en-US/docs/Mozilla/Add-ons/WebExtensions/manifest.json/devtools_page">devtools_page</a></li>
   <li><a href="/en-US/docs/Mozilla/Add-ons/WebExtensions/manifest.json/homepage_url">homepage_url</a></li>
   <li><a href="/en-US/docs/Mozilla/Add-ons/WebExtensions/manifest.json/icons">icons</a></li>
   <li><a href="/en-US/docs/Mozilla/Add-ons/WebExtensions/manifest.json/incognito">incognito</a></li>
   <li><a href="/en-US/docs/Mozilla/Add-ons/WebExtensions/manifest.json/manifest_version">manifest_version</a></li>
   <li><a href="/en-US/docs/Mozilla/Add-ons/WebExtensions/manifest.json/name">name</a></li>
   <li><a href="/en-US/docs/Mozilla/Add-ons/WebExtensions/manifest.json/omnibox">omnibox</a></li>
   <li><a href="/en-US/docs/Mozilla/Add-ons/WebExtensions/manifest.json/optional_permissions">optional_permissions</a></li>
   <li><a href="/en-US/docs/Mozilla/Add-ons/WebExtensions/manifest.json/options_ui">options_ui</a></li>
   <li><a href="/en-US/docs/Mozilla/Add-ons/WebExtensions/manifest.json/page_action">page_action</a></li>
   <li><a href="/en-US/docs/Mozilla/Add-ons/WebExtensions/manifest.json/permissions">permissions</a></li>
   <li><a href="/en-US/docs/Mozilla/Add-ons/WebExtensions/manifest.json/protocol_handlers">protocol_handlers</a></li>
   <li><a href="/en-US/docs/Mozilla/Add-ons/WebExtensions/manifest.json/short_name">short_name</a></li>
   <li><a href="/en-US/docs/Mozilla/Add-ons/WebExtensions/manifest.json/sidebar_action">sidebar_action</a></li>
   <li><a href="/en-US/docs/Mozilla/Add-ons/WebExtensions/manifest.json/theme">theme</a></li>
   <li><a href="/en-US/docs/Mozilla/Add-ons/WebExtensions/manifest.json/version">version</a></li>
   <li><a href="/en-US/docs/Mozilla/Add-ons/WebExtensions/manifest.json/version_name">version_name</a></li>
   <li><a href="/en-US/docs/Mozilla/Add-ons/WebExtensions/manifest.json/web_accessible_resources">web_accessible_resources</a></li>
  </ol>
 </li>
 <li><a href="/en-US/docs/Mozilla/Add-ons/Themes"><strong>Themes</strong></a></li>
 <li><a href="/en-US/docs/Mozilla/Add-ons/Themes/Theme_concepts">Browser themes</a>
  <ol>
   <li><a href="/en-US/docs/Mozilla/Add-ons/Themes/Theme_concepts">Browser theme concepts</a></li>
  </ol>
 </li>
 <li><a href="/en-US/docs/Mozilla/Add-ons/Themes/Lightweight_themes">Lightweight themes</a>
  <ol>
   <li><a href="/en-US/docs/Mozilla/Add-ons/Themes/Lightweight_themes">Lightweight themes</a></li>
   <li><a href="/en-US/docs/Mozilla/Add-ons/Themes/Lightweight_Themes/FAQ">Lightweight themes FAQ</a></li>
  </ol>
 </li>
 <li><a href="/en-US/docs/Mozilla/Add-ons/Distribution"><strong>Publishing and Distribution</strong></a></li>
 <li><a href="/en-US/docs/Mozilla/Add-ons/Distribution">Publishing add-ons</a>
  <ol>
   <li><a href="/en-US/docs/Mozilla/Add-ons/Distribution">Signing and distribution overview</a></li>
   <li><a href="/en-US/docs/Mozilla/Add-ons/WebExtensions/Package_your_extension_">Package your extension</a></li>
   <li><a href="/en-US/docs/Mozilla/Add-ons/Distribution/Submitting_an_add-on">Submit an add-on</a></li>
   <li><a href="/en-US/docs/Mozilla/Add-ons/Source_Code_Submission">Source code submission</a></li>
   <li><a href="/en-US/docs/Mozilla/Add-ons/Distribution/Resources_for_publishers">Resources for publishers</a></li>
   <li><a href="/en-US/docs/Mozilla/Add-ons/Listing">Creating an appealing listing</a></li>
   <li><a href="/en-US/docs/Mozilla/Add-ons/AMO/Policy/Reviews">Review policies</a></li>
   <li><a href="/en-US/docs/Mozilla/Add-ons/AMO/Policy/Agreement">Developer agreement</a></li>
   <li><a href="/en-US/docs/Mozilla/Add-ons/AMO/Policy/Featured">Featured add-ons</a></li>
   <li><a href="/en-US/docs/Mozilla/Add-ons/Distribution/Retiring_your_extension">Retiring your extension</a></li>
  </ol>
 </li>
 <li><a href="/en-US/docs/Mozilla/Add-ons/WebExtensions/Alternative_distribution_options">Distributing add-ons</a>
  <ol>
   <li><a href="/en-US/docs/Mozilla/Add-ons/WebExtensions/Alternative_distribution_options/Sideloading_add-ons">For sideloading</a></li>
   <li><a href="/en-US/docs/Mozilla/Add-ons/WebExtensions/Alternative_distribution_options/Add-ons_for_desktop_apps">For desktop apps</a></li>
   <li><a href="/en-US/docs/Mozilla/Add-ons/WebExtensions/Alternative_distribution_options/Add-ons_in_the_enterprise">For an enterprise</a></li>
  </ol>
 </li>
 <li><a href="https://discourse.mozilla.org/c/add-ons"><strong>Community and Support</strong></a></li>
 <li><a href="#">Channels</a>
  <ol>
   <li><a href="https://blog.mozilla.org/addons">Add-ons blog</a></li>
   <li><a href="https://discourse.mozilla.org/c/add-ons">Add-on forums</a></li>
   <li><a href="http://stackoverflow.com/questions/tagged/firefox-addon">Stack Overflow</a></li>
   <li><a href="/en-US/docs/Mozilla/Add-ons/#Contact_us">Contact us</a></li>
  </ol>
 </li>
</ol>
</section>
</div>

<div class="note">
<p>Experimental</p>
</div>

<p><span class="seoSummary">Create HTML <a href="/en-US/docs/Web/HTML/Element/iframe">iframes</a>, using bundled HTML, CSS and JavaScript, that can be added to a designated area of the Firefox user interface.</span> At the moment you can only add frames to a <a href="/en-US/Add-ons/SDK/Low-Level_APIs/ui_toolbar">toolbar</a>.</p>

<h2 id="Usage">Usage</h2>

<p>This module exports the <a href="/en-US/Add-ons/SDK/Low-Level_APIs/ui_frame#Frame(options)"><code>Frame</code></a> constructor, which can be used to create frame components. Right now it can be used in conjunction with a <a href="/en-US/Add-ons/SDK/Low-Level_APIs/ui_toolbar"><code>Toolbar</code></a>: you create a <code>Frame</code>, then supply it to the <code>Toolbar</code>'s constructor, and the content is then displayed inside the toolbar.</p>

<h3 id="Constructing_frames">Constructing frames</h3>

<p>The <code>Frame</code> constructor takes one mandatory option, which is a url pointing to an HTML document supplied under your add-ons "data" directory.</p>

<p>For example, this HTML document defines a <a href="/en-US/docs/Web/HTML/Element/select"><code>&lt;select&gt;</code></a> element and a couple of <a href="/en-US/docs/Web/HTML/Element/span"><code>&lt;span&gt;</code></a> elements, and includes a CSS file to style the content and a JavaScript script to implement behavior:</p>

<pre class="brush: html">&lt;!DOCTYPE html&gt;
&lt;html&gt;
  &lt;head&gt;
    &lt;link href="city-info.css" rel="stylesheet"&gt;&lt;/link&gt;
  &lt;/head&gt;

  &lt;body&gt;
    &lt;select name="city" id="city-selector"&gt;&lt;/select&gt;
    &lt;span id="time" class="info-element"&gt;&lt;/span&gt;
    &lt;span id="weather" class="info-element"&gt;&lt;/span&gt;

    &lt;script type="text/javascript" src="city-info.js"&gt;&lt;/script&gt;
  &lt;/body&gt;
&lt;/html&gt;
</pre>

<p>If we save this document as "city-info.html" under the add-on's "data" directory, we can create a frame hosting it and add the frame to a toolbar like this:</p>

<pre class="brush: js">var { Frame } = require("sdk/ui/frame");
var { Toolbar } = require("sdk/ui/toolbar");

var frame = new Frame({
  url: "./city-info.html"
});

var toolbar = Toolbar({
  name: "city-info",
  title: "City info",
  items: [frame]
});</pre>

<p>The toolbar is positioned between the address bar and the content window. It occupies the whole width of the browser window and is 18 pixels high on a normal-resolution display or 36 pixels high on a high-resolution (<a href="https://en.wikipedia.org/wiki/Retina_Display">HiDPI</a>) display. This toolbar might look something like:</p>

<p><img alt="" src="https://mdn.mozillademos.org/files/7855/frame-screenshot.png" style="display: block; margin-left: auto; margin-right: auto;"></p>

<h3 id="Scripting_frames">Scripting frames</h3>

<p>To add scripts to frames, include them directly from the frame's HTML content, as with a normal web page:</p>

<pre class="brush: html">&lt;script type="text/javascript" src="frame.js"&gt;&lt;/script&gt;</pre>

<p>As usual, the path to the script is relative to the HTML file's location.</p>

<div class="note">
<p>Messages logged from a frame script using the <a href="/en-US/Add-ons/SDK/Tools/console">console</a> will not appear in the terminal when you run the add-on using <a href="/en-US/Add-ons/SDK/Tools/jpm">jpm run</a>. However, they will appear in the <a href="/en-US/docs/Tools/Browser_Console">Browser Console</a>. This issue is being tracked as <a href="https://bugzilla.mozilla.org/show_bug.cgi?id=982385">bug 982385</a>.</p>
</div>

<h3 id="Communicating_with_frames">Communicating with frames</h3>

<p>You can exchange messages between the main add-on code and scripts loaded into the frame using an API modeled on <code><a href="/en-US/docs/Web/API/Window.postMessage">window.postMessage()</a></code>. A frame creates a separate <code><a href="/en-US/docs/Web/HTML/Element/iframe">iframe</a></code> instance for each browser window. So there are three cases to consider:</p>

<ul>
 <li>sending messages from a frame script to the main add-on code</li>
 <li>sending messages from the main add-on code to all instances of a frame, across all browser windows</li>
 <li>sending messages from the main add-on code to a single instance of a frame, attached to a specific browser window</li>
</ul>

<p>In all cases, <code>postMessage()</code> takes two arguments: the message itself and a <code>targetOrigin</code>. The <code>targetOrigin</code> argument can be either the URI of the document hosted by the target, or the wildcard "*". If you use the URI, then the message will only be dispatched to the window whose document matches that URI.</p>

<p>If you know the target URI, you should use it, as this is more secure: it prevents another window from intercepting messages that were intended for someone else.</p>

<h4 id="From_frame_to_add-on">From frame to add-on</h4>

<p>To send a message from a frame script to the add-on, use <code>window.parent.postMessage()</code>. This takes two arguments, the message itself and a target origin.</p>

<p>If the frame script initiates the conversation, you need to specify <code>"*"</code> as the origin:</p>

<pre class="brush: js">window.parent.postMessage("ping", "*");</pre>

<p>If the frame script has received a message from the add-on already, it can use the <code>origin</code> property of the <code>event</code> object passed to the message hander:</p>

<pre class="brush: js">// listen for messages from the add-on, and send a reply
window.addEventListener("message", function(event) {
  event.source.postMessage("pong", event.origin)
}, false);</pre>

<p>This frame script listens to <a href="/en-US/docs/Web/Reference/Events/change"><code>change</code></a> events on the "city-selector" <code>&lt;select&gt;</code> element, and sends a message to the add-on containing the value for the newly selected element.</p>

<pre class="brush: js">// city-info.js
var citySelector = window.document.getElementById("city-selector");
citySelector.addEventListener("change", cityChanged);

function cityChanged() {
  window.parent.postMessage(citySelector.value, "*");
}</pre>

<p>To listen for these messages in the main add-on code, you can assign a listener to the frame's <a href="/en-US/Add-ons/SDK/Low-Level_APIs/ui_frame#message"><code>message</code></a> event. The <code>data</code> property of the event is the message payload.</p>

<pre class="brush: js">var { Frame } = require("sdk/ui/frame");
var { Toolbar } = require("sdk/ui/toolbar");

var frame = new Frame({
  url: "./city-info.html",
  onMessage: (e) =&gt; {
    console.log("New city: " + e.data);
  }
});

var toolbar = Toolbar({
  name: "city-info",
  title: "City info",
  items: [frame]
});
</pre>

<h4 id="From_add-on_to_all_frames">From add-on to all frames</h4>

<p>To send a message from the add-on code to all frames, attached to all open browser windows, you can use <a href="/en-US/Add-ons/SDK/Low-Level_APIs/ui_frame#postMessage(message.2C_target)"><code>Frame.postMessage()</code></a>. You can specify the frame's <code>url</code> property as the <code>targetOrigin</code>:</p>

<pre class="brush: js">frame.postMessage(message, frame.url);</pre>

<p>This add-on listens for a frame script to send the "city changed" message above, and in response, updates all frames across all browser windows with that city's current weather (it just reads this from a dictionary, where in a real case it might ask a web service):</p>

<pre class="brush: js">var { Frame } = require("sdk/ui/frame");
var { Toolbar } = require("sdk/ui/toolbar");

var weather = {
  "London" : "Rainy",
  "Toronto" : "Snowy",
  "San Francisco" : "Foggy"
}

var frame = new Frame({
  url: "./city-info.html",
  onMessage: (e) =&gt; {
    updateWeather(e.data);
  }
});

var toolbar = Toolbar({
  name: "city-info",
  title: "City info",
  items: [frame]
});

function updateWeather(location) {
  frame.postMessage(weather[location], frame.url);
}</pre>

<p>To listen to these messages in the frame script, add a listener to the window's <code>message</code> event:</p>

<pre class="brush: js">window.addEventListener("message", updateWeather, false);

function updateWeather(message) {
  var label = window.document.getElementById("weather");
  label.textContent = message.data;
}
</pre>

<h4 id="From_add-on_to_a_specific_frame">From add-on to a specific frame</h4>

<p>You can send a message from the main add-on code to the frame hosted by a particular browser window. In this way you can customize the frame for each browser window. To do this, you call <code>postMessage()</code> not on the <code>Frame</code> itself but on the <code>source</code> attribute of the object passed into an event listener.</p>

<p>For <code>targetOrigin</code>, you can use the <code>origin</code> property of the <code>event</code> object passed to the message listener:</p>

<pre class="brush: js">var { Frame } = require("sdk/ui/frame");
var { Toolbar } = require("sdk/ui/toolbar");

var frame = new Frame({
  url: "./city-info.html",
  onMessage: function(e) {
    // message only the frame that pinged us
    e.source.postMessage("pong", e.origin);
  }
});

var toolbar = Toolbar({
  name: "ping-pong",
  title: "Ping pong",
  items: [frame]
});</pre>

<p>This does not have to be the <code>message</code> event: the other events <code>Frame</code> can emit: <a href="/en-US/Add-ons/SDK/Low-Level_APIs/ui_frame#attach"><code>attach</code></a>, <a href="/en-US/Add-ons/SDK/Low-Level_APIs/ui_frame#load"><code>load</code></a> and <a href="/en-US/Add-ons/SDK/Low-Level_APIs/ui_frame#ready"><code>ready</code></a>, also provide access to <code>source</code> and <code>origin</code>.</p>

<p>To receive such messages in the frame script, listen for the window's <code>message</code> event:</p>

<pre class="brush: js">window.addEventListener("message", handlePong, false);</pre>

<h4 id="Sending_JSON">Sending JSON</h4>

<p>In all cases, you can send a string as a message or a JSON object. If you send a JSON object, the SDK takes care of serializing and deserializing it for you:</p>

<pre class="brush: js">// frame.js

var label = window.document.getElementById("linky");

label.addEventListener("click", function() {
  window.parent.postMessage({
    "type" : "ping",
    "reason" : "they clicked me"
  }, "*");
}, true);
</pre>

<pre class="brush: js">// main.js

var { Frame } = require("sdk/ui/frame");

var frame = new Frame({
  url: "./frame.html"
});

frame.on("message", pong);

function pong(e) {
  if (e.data.type == "ping") {
    console.log(e.data.reason);
    e.source.postMessage("pong", event.origin);
  }
}</pre>

<h2 id="Globals">Globals</h2>

<h3 id="Constructors">Constructors</h3>

<h4 class="addon-sdk-api-name" id="Frame(options)"><code>Frame(options)</code></h4>

<p>Creates an frame. Once created, the frame needs to be added to a toolbar for it to be visible:</p>

<pre class="brush: js">var { Frame } = require("sdk/ui/frame");
var { Toolbar } = require("sdk/ui/toolbar");

var frame = new Frame({
  url: "./frame.html"
});

var toolbar = Toolbar({
  name: "my-toolbar",
  title: "My toolbar",
  items: [frame]
});</pre>

<h5 id="Parameters">Parameters</h5>

<p><strong>options : object</strong><br>
 Required options:</p>

<table class="standard-table">
 <thead>
  <tr>
   <th scope="col">Name</th>
   <th scope="col">Type</th>
   <th scope="col"> </th>
  </tr>
 </thead>
 <tbody>
  <tr>
   <td>url</td>
   <td>url, string</td>
   <td>
    <p>A URL pointing to the HTML file specifying the frame's content. The file must be bundled with the add-on under its "data" directory. You can specify the URL in one of two ways:</p>

    <ul>
     <li>as a <code>resource://</code> URL pointing at a file under your add-on's "data" directory, typically constructed using <a href="/en-US/Add-ons/SDK/High-Level_APIs/self#data"><code>self.data.url(filename)</code></a></li>
     <li>as a relative path: a string in the form "./relativepath", where "relativepath" is a relative path to the file beginning in your add-on's "data" directory</li>
    </ul>

    <pre class="brush: js">
var { Frame } = require("sdk/ui/frame");
var self = require("sdk/self");

var frame1 = new Frame({
  url: require("sdk/self").data.url("content1.html")
});

var frame2 = new Frame({
  url: "./content2.html"
});</pre>
   </td>
  </tr>
 </tbody>
</table>

<p>Optional options:</p>

<table class="standard-table">
 <thead>
  <tr>
   <th scope="col">Name</th>
   <th scope="col">Type</th>
   <th scope="col"> </th>
  </tr>
 </thead>
 <tbody>
  <tr>
   <td>name</td>
   <td>string</td>
   <td>
    <p>The frame's name. This must be unique within your add-on.</p>

    <p>This is used to generate an ID to to keep track of the frame. If you don't supply a name, the ID is derived from the frame's URL, meaning that if you don't supply a name, you may not create two frames with the same URL.</p>
   </td>
  </tr>
  <tr>
   <td>onAttach</td>
   <td>function</td>
   <td>
    <p>Assign a listener to the frame's <a href="/en-US/Add-ons/SDK/Low-Level_APIs/ui_frame#attach"><code>attach</code></a> event.</p>
   </td>
  </tr>
  <tr>
   <td>onDetach</td>
   <td>function</td>
   <td>
    <p>Assign a listener to the frame's <a href="/en-US/Add-ons/SDK/Low-Level_APIs/ui_frame#detach"><code>detach</code></a> event.</p>
   </td>
  </tr>
  <tr>
   <td>onLoad</td>
   <td>function</td>
   <td>
    <p>Assign a listener to the frame's <a href="/en-US/Add-ons/SDK/Low-Level_APIs/ui_frame#load"><code>load</code></a> event.</p>
   </td>
  </tr>
  <tr>
   <td>onReady</td>
   <td>function</td>
   <td>
    <p>Assign a listener to the frame's <a href="/en-US/Add-ons/SDK/Low-Level_APIs/ui_frame#ready"><code>ready</code></a> event.</p>
   </td>
  </tr>
  <tr>
   <td>onMessage</td>
   <td>function</td>
   <td>
    <p>Assign a listener to the frame's <a href="/en-US/Add-ons/SDK/Low-Level_APIs/ui_frame#message"><code>message</code></a> event.</p>
   </td>
  </tr>
 </tbody>
</table>

<h2 id="Frame">Frame</h2>

<h3 id="Methods">Methods</h3>

<h4 class="addon-sdk-api-name" id="postMessage(message_targetOrigin)"><code>postMessage(message, targetOrigin)</code></h4>

<p>Send a message to scripts loaded into the frame. This will send the message to message is all viewport documents (one per browser window) of the frame:</p>

<pre class="brush: js">var { Frame } = require("sdk/ui/frame");
var { Toolbar } = require("sdk/ui/toolbar");

var frame = new Frame({
  url: "./frame.html"
});

var toolbar = Toolbar({
  name: "my-toolbar",
  title: "My toolbar",
  items: [frame]
});

frame.postMessage("ping", frame.url);</pre>

<p>Frame scripts can receive these messages using <code>window.addEventListener()</code>:</p>

<pre class="brush: js">function ponged(message) {
  label.textContent = message.data;
}

window.addEventListener("message", ponged, false);</pre>

<p>To send a message only to the frame instance hosted by a specific browser window call <code>postMessage()</code> on the source property of the object passed into any of the frame's event listeners.</p>

<h5 id="Parameters_2">Parameters</h5>

<p><strong>message : string</strong><br>
 The message to send.</p>

<p><strong>targetOrigin : string</strong><br>
 Specifies the target of the message, as in <a href="/en-US/docs/Web/API/Window.postMessage"><code>window.postMessage()</code></a>. In this case you should pass the frame's <a href="/en-US/Add-ons/SDK/Low-Level_APIs/ui_frame#url"><code>url</code></a> property as the <code>targetOrigin</code>:</p>

<pre class="brush: js">frame.postMessage("ping", frame.url);</pre>

<h4 class="addon-sdk-api-name" id="on(event_listener)"><code>on(event, listener)</code></h4>

<p>Assign a listener to a frame event:</p>

<pre class="brush: js">var { Frame } = require("sdk/ui/frame");

var frame = new Frame({
  url: "./frame.html"
});

frame.on("message", pong)

function pong(e) {
  if (e.data == "ping") {
    // message only the sender, and not any frames attached to other browser windows
    e.source.postMessage("pong", "*");
  }
}</pre>

<h5 id="Parameters_3">Parameters</h5>

<p><strong>event : string</strong><br>
 The name of the event to listen to. <code>Frame</code> supports the following events: <a href="/en-US/Add-ons/SDK/Low-Level_APIs/ui_frame#Events"><code>attach</code>, <code>detach</code>, <code>load</code>, <code>ready</code>, and <code>message</code></a>.</p>

<p><strong>listener : function</strong><br>
 The listener function. This is passed an event object which always contains a <code>source</code> property, which has a <code>postMessage()</code> function modeled after <a href="/en-US/docs/Web/API/Window.postMessage"><code>window.postMessage()</code></a>.  You can use this to communicate only with the specific frame instance that generated the event, and not to any frame instance attached to other browser windows.</p>

<h4 class="addon-sdk-api-name" id="once(event_listener)"><code>once(event, listener)</code></h4>

<p>Assign a listener to the first occurrence only of an event emitted by the frame. Frame supports the following events: <a href="/en-US/Add-ons/SDK/Low-Level_APIs/ui_frame#Events"><code>attach</code>, <code>detach</code>, <code>load</code>, <code>ready</code>, and <code>message</code></a>. The listener is automatically removed after the first time the event is emitted.</p>

<pre class="brush: js">var { Frame } = require("sdk/ui/frame");

var frame = new Frame({
  url: "./frame.html"
});

frame.once("message", pong)

function pong(e) {
  if (e.data == "ping") {
    // message only the sender, and not any frames attached to other browser windows
    e.source.postMessage("pong", "*");
  }
}</pre>

<h5 id="Parameters_4">Parameters</h5>

<p><strong>event : string</strong><br>
 The name of the event to listen to. Frame supports the following events: <a href="/en-US/Add-ons/SDK/Low-Level_APIs/ui_frame#Events"><code>attach</code>, <code>detach</code>, <code>load</code>, <code>ready</code>, and <code>message</code></a>.</p>

<p><strong>listener : function</strong><br>
 The listener function. This is passed an event object which always contains a <code>source</code> property, which has a <code>postMessage()</code> function modeled after <a href="/en-US/docs/Web/API/Window.postMessage"><code>window.postMessage()</code></a>.  You can use this to communicate only with the specific frame instance that generated the event, and not to any frame instance attached to other browser windows.</p>

<h4 class="addon-sdk-api-name" id="removeListener(event_listener)"><code>removeListener(event, listener)</code></h4>

<p>Removes an event listener. For example, this code is equivalent to <a href="/en-US/Add-ons/SDK/Low-Level_APIs/ui_frame#once(event.2C_listener)"><code>once()</code></a>:</p>

<pre class="brush: js">var { Frame } = require("sdk/ui/frame");

var frame = new Frame({
  url: "./frame.html"
});

frame.on("message", pong)

function pong(e) {
  if (e.data == "ping") {
    e.source.postMessage("pong", "*");
  }
  frame.removeListener("message", pong)
}</pre>

<h5 id="Parameters_5">Parameters</h5>

<p><strong>event : string</strong><br>
 The event the listener is listening for. <code>Frame</code> supports the following events: <a href="/en-US/Add-ons/SDK/Low-Level_APIs/ui_frame#Events"><code>attach</code>, <code>detach</code>, <code>load</code>, <code>ready</code>, and <code>message</code></a>.</p>

<p><strong>listener : function</strong><br>
 The listener to remove.</p>

<h4 class="addon-sdk-api-name" id="off(event_listener)"><code>off(event, listener)</code></h4>

<p>This function is an alias for <a href="/en-US/Add-ons/SDK/Low-Level_APIs/ui_frame#removeListener(event.2C_listener)"><code>removeListener()</code></a>.</p>

<h5 id="Parameters_6">Parameters</h5>

<p><strong>event : string</strong><br>
 The event the listener is listening for. <code>Frame</code> supports the following events: <a href="/en-US/Add-ons/SDK/Low-Level_APIs/ui_frame#Events"><code>attach</code>, <code>detach</code>, <code>load</code>, <code>ready</code>, and <code>message</code></a>.</p>

<p><strong>listener : function</strong><br>
 The listener to remove.</p>

<h4 class="addon-sdk-api-name" id="destroy()"><code>destroy()</code></h4>

<p>Destroy the frame. After calling this function, the frame will no longer appear in the UI, and accessing any of its properties or methods will throw an error.</p>

<h3 id="Properties">Properties</h3>

<h4 class="addon-sdk-api-name" id="url"><code>url</code></h4>

<p>URL for the content loaded into the frame. This is read-only. It's only accessible after the <a href="/en-US/Add-ons/SDK/Low-Level_APIs/ui_frame#attach"><code>attach</code></a> event has occurred for this frame.</p>

<h3 id="Events">Events</h3>

<h4 class="addon-sdk-api-name" id="attach"><code>attach</code></h4>

<p>This event is emitted whenever a new frame instance is constructed and the browser has started to load its document: for example, when the user opens a new browser window, if that window has a toolbar containing this frame. Since the event is dispatched asynchronously, the document may already be loaded by the time the event is received.</p>

<p>At this point, you should not try to send messages to scripts hosted in the frame, because the frame scripts may not have been loaded.</p>

<h5 id="Arguments">Arguments</h5>

<p><strong>event</strong> : This contains two properties:</p>

<ul>
 <li><code>source</code>, which defines a <code>postMessage()</code> function which you can use to <a href="/en-US/Add-ons/SDK/Low-Level_APIs/ui_frame#From_add-on_to_a_specific_frame">send messages back to this particular frame instance</a>. But note that at this point you should not try to send messages to scripts hosted in the frame, because the frame scripts may not have been loaded.</li>
 <li><code>origin</code>, which you can use as the <code>targetOrigin</code> argument to <code>postMessage()</code> if you want to communicate with this particular frame instance.</li>
</ul>

<h4 class="addon-sdk-api-name" id="detach"><code>detach</code></h4>

<p>This event is emitted when a frame instance is unloaded: for example, when the user closes a browser window, if that window has a toolbar containing this frame. After receiving this message, you ahould not attempt to communicate with the frame scripts.</p>

<h4 class="addon-sdk-api-name" id="ready"><code>ready</code></h4>

<p>This event is emitted while a frame instance is being loaded, at the point where it becomes possible to interact with the frame although sub-resources may still be in the process of loading. It's the equivalent of the point where the frame's <a href="/en-US/docs/Web/API/document.readyState"><code>document.readyState</code></a> becomes <code>"interactive"</code>:</p>

<pre class="brush: js">var { Frame } = require("sdk/ui/frame");

var frame = new Frame({
  url: "./frame.html"
});

frame.on("ready", ping);

function ping(e) {
  // message only this frame instance
  e.source.postMessage("pong", e.origin);
}</pre>

<h5 id="Arguments_2">Arguments</h5>

<p><strong>event</strong> : This contains two properties:</p>

<ul>
 <li><code>source</code>, which defines a <code>postMessage()</code> function which you can use to <a href="/en-US/Add-ons/SDK/Low-Level_APIs/ui_frame#From_add-on_to_a_specific_frame">send messages back to this particular frame instance</a>.</li>
 <li><code>origin</code>, which you can use as the <code>targetOrigin</code> argument to <code>postMessage()</code> if you want to communicate with this particular frame instance.</li>
</ul>

<h4 class="addon-sdk-api-name" id="load"><code>load</code></h4>

<p>This event is emitted while a frame instance is completely loaded. It's the equivalent of the point where the frame's <a href="/en-US/docs/Web/API/document.readyState"><code>document.readyState</code></a> becomes <code>"complete"</code>:</p>

<pre class="brush: js">var { Frame } = require("sdk/ui/frame");

var frame = new Frame({
  url: "./frame.html"
});

frame.on("load", ping);

function ping(e) {
  e.source.postMessage("ping", "*");
}</pre>

<h5 id="Arguments_3">Arguments</h5>

<p><strong>event</strong> : This contains two properties:</p>

<ul>
 <li><code>source</code>, which defines a <code>postMessage()</code> function which you can use to <a href="/en-US/Add-ons/SDK/Low-Level_APIs/ui_frame#From_add-on_to_a_specific_frame">send messages back to this particular frame instance</a>.</li>
 <li><code>origin</code>, which you can use as the <code>targetOrigin</code> argument to <code>postMessage()</code> if you want to communicate with this particular frame instance.</li>
</ul>

<h4 class="addon-sdk-api-name" id="message"><code>message</code></h4>

<p>Listen to this event if you want to receive messages from frame scripts that are sent using <a href="/en-US/Add-ons/SDK/Low-Level_APIs/ui_frame#From_frame_to_add-on"><code>window.parent.postMessage()</code></a>:</p>

<pre class="brush: js">// frame.js

var label = window.document.getElementById("linky");

label.addEventListener("click", function() {
  window.parent.postMessage("ping", "*");
}, true);</pre>

<pre class="brush: js">// main.js

var { Frame } = require("sdk/ui/frame");

var frame = new Frame({
  url: "./frame.html"
});

frame.on("message", pong);

function pong(e) {
  if (e.data == "ping") {
    e.source.postMessage("pong", e.origin);
  }
}</pre>

<h5 id="Arguments_4">Arguments</h5>

<p><strong>event</strong> : This contains three properties:</p>

<ul>
 <li><code>source</code>, which defines a <code>postMessage()</code> function which you can use to <a href="/en-US/Add-ons/SDK/Low-Level_APIs/ui_frame#From_add-on_to_a_specific_frame">send messages back to this particular frame instance</a>.</li>
 <li><code>origin</code>, which you can use as the <code>targetOrigin</code> argument to <code>postMessage()</code> if you want to communicate with this particular frame instance.</li>
 <li><code>data</code>, which represents the event's payload. If the payload was a JSON object, you can access it like an object:</li>
</ul>

<pre class="brush: js">// frame.js

var label = window.document.getElementById("linky");

label.addEventListener("click", function() {
  window.parent.postMessage({
    "type" : "ping",
    "reason" : "they clicked me"
  }, "*");
}, true);
</pre>

<pre class="brush: js">// main.js

var { Frame } = require("sdk/ui/frame");

var frame = new Frame({
  url: "./frame.html"
});

frame.on("message", pong);

function pong(e) {
  if (e.data.type == "ping") {
    console.log(e.data.reason);
    e.source.postMessage("pong", e.origin);
  }
}</pre>