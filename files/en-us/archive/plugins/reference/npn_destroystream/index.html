---
title: NPN_DestroyStream
slug: Archive/Plugins/Reference/NPN_DestroyStream
tags:
  - API
  - Gecko
  - NPAPI
  - Plugins
  - Reference
---
<p>« <a href="https://developer.mozilla.org/en-US/docs/Gecko_Plugin_API_Reference">Gecko Plugin API Reference</a> « <a href="https://developer.mozilla.org/en-US/docs/Gecko_Plugin_API_Reference/Plug-in_Side_Plug-in_API">Plug-in Side Plug-in API</a></p>
<h3 id="Summary" name="Summary">Summary</h3>
<p>Closes and deletes a stream.</p>
<h3 id="Syntax" name="Syntax">Syntax</h3>
<pre>#include &lt;npapi.h&gt;

NPError NPN_DestroyStream(NPP     instance,
                          NPStream* stream,
                          NPError   reason);
</pre>
<h3 id="Parameters" name="Parameters">Parameters</h3>
<p>The function has the following parameters:</p>
<dl>
 <dt>
  <code>instance</code></dt>
 <dd>
  Pointer to current plug-in instance.</dd>
</dl>
<dl>
 <dt>
  <code>stream</code></dt>
 <dd>
  Pointer to current stream, initiated by either the browser or the plug-in.</dd>
</dl>
<dl>
 <dt>
  <code>reason</code></dt>
 <dd>
  Reason the stream was stopped so the application can give the user appropriate feedback. Values:
  <ul>
   <li><code>NPRES_DONE</code> (most common): Stream completed normally; all data was sent by the plug-in to the browser.</li>
   <li><code>NPRES_USER_BREAK</code>: Plug-in is terminating the stream due to a user request.</li>
   <li><code>NPRES_NETWORK_ERR</code>: Stream failed due to network problems.</li>
  </ul>
 </dd>
</dl>
<h3 id="Returns" name="Returns">Returns</h3>
<ul>
 <li>If successful, the function returns <code>NPERR_NO_ERROR</code>.</li>
 <li>If unsuccessful, the plug-in is not loaded and the function returns an error code. For possible values, see <a href="/en/NPAPI/Constants#Error_Codes">Error Codes</a>.</li>
</ul>
<h3 id="Description" name="Description">Description</h3>
<p>The plug-in calls the <code>NPN_DestroyStream()</code> function to close and delete a stream. This stream can be either a stream that the browser created and passed to the plug-in in <code><a href="/en/NPP_NewStream" title="en/NPP_NewStream">NPP_NewStream()</a></code>, or a stream created by the plug-in through a call to <code><a href="/en/NPN_NewStream" title="en/NPN_NewStream">NPN_NewStream()</a></code>.</p>
<h3 id="See_Also" name="See_Also">See also</h3>
<ul>
 <li><code><a href="/en/NPP_DestroyStream">NPP_DestroyStream()</a></code></li>
 <li><code><a href="/en/NPN_NewStream">NPN_NewStream()</a></code></li>
 <li><code><a href="/en/NPP_NewStream">NPP_NewStream()</a></code></li>
 <li><code><a href="/en/NPStream">NPStream</a></code></li>
 <li><code><a href="/en/NPP">NPP</a></code></li>
</ul>
