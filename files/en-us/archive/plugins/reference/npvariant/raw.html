<div><span class="breadcrumbs np-plugin-scripting_breadcrumbs">
« <a href="/en-US/docs/Gecko_Plugin_API_Reference">Gecko Plugin API Reference</a>
« <a href="/en-US/docs/Gecko_Plugin_API_Reference/Scripting_plugins">Scripting plugins</a>
</span></div>


<h2 id="Summary" name="Summary">Summary</h2>
<p><code>NPVariant</code> is a struct that holds a value and the type of that value. The value is held in a union, and the type is one of types defined in the <code><a href="/en-US/docs/NPVariantType">NPVariantType</a></code> enumeration.</p>


<h2 id="Syntax" name="Syntax">Syntax</h2>

<pre class="syntaxbox">typedef struct _NPVariant {
  NPVariantType type;
  union {
    bool boolValue;
    int32_t intValue;
    double_t doubleValue;
    NPString stringValue;
    NPObject *objectValue;
  } value;
} NPVariant;
</pre>


<h2 id="Fields" name="Fields">Fields</h2>
<p>The data structure has the following fields:</p>
<dl>
  <dt><code>type</code></dt>
  <dd>A member of the <code><a href="/en-US/docs/NPVariantType">NPVariantType</a></code> enumeration specifying the data type contained in the <code>NPVariant</code>.</dd>
  <dt><code>value</code></dt>
  <dd>The value contained in the <code>NPVariant</code> structure. It may be a boolean, integer, double, string, or object, depending on the variant type.</dd>
</dl>


<h2 id="JavaScript_type_to_NPVariantType_enumeration_mapping" name="JavaScript_type_to_NPVariantType_enumeration_mapping">JavaScript type to <code>NPVariantType</code> enumeration mapping</h2>
<p>When using <code><a href="/en-US/docs/NPVariant">NPVariant</a></code>s to access JavaScript objects in the browser, or vise versa, the mapping of JavaScript values to <code>NPVariant</code>s is as follows:</p>
<table class="standard-table">
  <tbody>
    <tr>
      <td class="header">JavaScript type</td>
      <td class="header"><code>NPVariantType</code></td>
    </tr>
    <tr>
      <td><code>undefined</code></td>
      <td><code>NPVariantType_Void</code></td>
    </tr>
    <tr>
      <td><code>null</code></td>
      <td><code>NPVariantType_Null</code></td>
    </tr>
    <tr>
      <td><code>boolean</code></td>
      <td><code>NPVariantType_Bool</code></td>
    </tr>
    <tr>
      <td><code>number</code></td>
      <td><code>NPVariantType_Int32</code> or <code>NPVariantType_Double</code></td>
    </tr>
    <tr>
      <td><code>string</code></td>
      <td><code>NPVariantType_String</code></td>
    </tr>
    <tr>
      <td>All other types</td>
      <td><code>NPVariantType_Object</code></td>
    </tr>
  </tbody>
</table>



<h2 id="Functions" name="Functions">Functions</h2>
<ul>
  <li><code><a href="/en-US/docs/NPN_ReleaseVariantValue">NPN_ReleaseVariantValue()</a></code></li>
  <li><code><a href="/en-US/docs/NPN_GetStringIdentifier">NPN_GetStringIdentifier()</a></code></li>
  <li><code><a href="/en-US/docs/NPN_GetStringIdentifiers">NPN_GetStringIdentifiers()</a></code></li>
  <li><code><a href="/en-US/docs/NPN_GetIntIdentifier">NPN_GetIntIdentifier()</a></code></li>
  <li><code><a href="/en-US/docs/NPN_IdentifierIsString">NPN_IdentifierIsString()</a></code></li>
  <li><code><a href="/en-US/docs/NPN_UTF8FromIdentifier">NPN_UTF8FromIdentifier()</a></code></li>
  <li><code><a href="/en-US/docs/NPN_IntFromIdentifier">NPN_IntFromIdentifier()</a></code></li>
</ul>


<h2 id="Macros" name="Macros">Macros</h2>
<p>Plugin developers are not expected to directly manipulate or access the members of the <code>NPVariant</code> instance, instead, the function <code><a href="/en-US/docs/NPN_ReleaseVariantValue">NPN_ReleaseVariantValue()</a></code>, and the following macros are provided:</p>
<dl>
  <dt><code><a href="/en-US/docs/NPVARIANT_IS_VOID">NPVARIANT_IS_VOID()</a></code></dt>
  <dd>Evaluates to <code>true</code> if <code>v</code> is of type <code>NPVariantType_Void</code>.</dd>
  <dt><code><a href="/en-US/docs/NPVARIANT_IS_NULL">NPVARIANT_IS_NULL()</a></code></dt>
  <dd>Evaluates to <code>true</code> if <code>v</code> is of type <code>NPVariantType_Null</code>.</dd>
  <dt><code><a href="/en-US/docs/NPVARIANT_IS_BOOLEAN">NPVARIANT_IS_BOOLEAN()</a></code></dt>
  <dd>Evaluates to <code>true</code> if <code>v</code> is of type <code>NPVariantType_Bool</code>.</dd>
  <dt><code><a href="/en-US/docs/NPVARIANT_IS_INT32">NPVARIANT_IS_INT32()</a></code></dt>
  <dd>Evaluates to <code>true</code> if <code>v</code> is of type <code>NPVariantType_Int32</code>.</dd>
  <dt><code><a href="/en-US/docs/NPVARIANT_IS_DOUBLE">NPVARIANT_IS_DOUBLE()</a></code></dt>
  <dd>Evaluates to <code>true</code> if <code>v</code> is of type <code>NPVariantType_Double</code>.</dd>
  <dt><code><a href="/en-US/docs/NPVARIANT_IS_STRING">NPVARIANT_IS_STRING()</a></code></dt>
  <dd>Evaluates to <code>true</code> if <code>v</code> is of type <code>NPVariantType_String</code>.</dd>
  <dt><code><a href="/en-US/docs/NPVARIANT_IS_OBJECT">NPVARIANT_IS_OBJECT()</a></code></dt>
  <dd>Evaluates to <code>true</code> if <code>v</code> is of type <code>NPVariantType_Object</code>.</dd>
  <dt><code><a href="/en-US/docs/NPVARIANT_TO_BOOLEAN">NPVARIANT_TO_BOOLEAN()</a></code></dt>
  <dd>Extracts the boolean value from <code>v</code>.</dd>
  <dt><code><a href="/en-US/docs/NPVARIANT_TO_INT32">NPVARIANT_TO_INT32()</a></code></dt>
  <dd>Extracts a signed 32-bit integer value from <code>v</code>.</dd>
  <dt><code><a href="/en-US/docs/NPVARIANT_TO_DOUBLE">NPVARIANT_TO_DOUBLE()</a></code></dt>
  <dd>Extracts a double precision floating point value from <code>v</code>.</dd>
  <dt><code><a href="/en-US/docs/NPVARIANT_TO_STRING">NPVARIANT_TO_STRING()</a></code></dt>
  <dd>Extracts the NPString value from <code>v</code>.</dd>
  <dt><code><a href="/en-US/docs/NPVARIANT_TO_OBJECT">NPVARIANT_TO_OBJECT()</a></code></dt>
  <dd>Extracts the NPObject value from <code>v</code>.</dd>
  <dt><code><a href="/en-US/docs/VOID_TO_NPVARIANT">VOID_TO_NPVARIANT()</a></code></dt>
  <dd>Initialize <code>v</code> to a variant of type <code>NPVariantType_Void</code>.</dd>
  <dt><code><a href="/en-US/docs/NULL_TO_NPVARIANT">NULL_TO_NPVARIANT()</a></code></dt>
  <dd>Initialize <code>v</code> to a variant of type <code>NPVariantType_Null</code>.</dd>
  <dt><code><a href="/en-US/docs/BOOLEAN_TO_NPVARIANT">BOOLEAN_TO_NPVARIANT()</a></code></dt>
  <dd>Initialize <code>v</code> to a variant of type <code>NPVariantType_Bool</code> with the value <code>val</code>.</dd>
  <dt><code><a href="/en-US/docs/INT32_TO_NPVARIANT">INT32_TO_NPVARIANT()</a></code></dt>
  <dd>Initialize <code>v</code> to a variant of type <code>NPVariantType_Int32</code> with the value <code>val</code>.</dd>
  <dt><code><a href="/en-US/docs/DOUBLE_TO_NPVARIANT">DOUBLE_TO_NPVARIANT()</a></code></dt>
  <dd>Initialize <code>v</code> to a variant of type <code>NPVariantType_Double</code> with the value <code>val</code>.</dd>
  <dt><code><a href="/en-US/docs/STRINGZ_TO_NPVARIANT">STRINGZ_TO_NPVARIANT()</a></code></dt>
  <dd>Initialize <code>v</code> to a variant of type <code>NPVariantType_String</code> with the value being an <code><a href="/en-US/docs/NPString">NPString</a></code> holding the UTF-8 string value <code>val</code>.</dd>
  <dt><code><a href="/en-US/docs/STRINGN_TO_NPVARIANT">STRINGN_TO_NPVARIANT()</a></code></dt>
  <dd>Initialize <code>v</code> to a variant of type <code>NPVariantType_String</code> with the value being an <code><a href="/en-US/docs/NPString">NPString</a></code> holding the UTF-8 string value <code>val</code> with the length <code>len</code>.</dd>
  <dt><code><a href="/en-US/docs/OBJECT_TO_NPVARIANT">OBJECT_TO_NPVARIANT()</a></code></dt>
  <dd>Initialize <code>v</code> to a variant of type <code>NPVariantType_Object</code> with the value <code>val</code>.</dd>
</dl>