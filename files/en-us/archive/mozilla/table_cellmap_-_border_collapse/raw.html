<h3 id="Introduction"> Introduction </h3>
<p>This document describes the additional information that is stored for border collapse tables in the cellmap.
</p>
<h3 id="Information_storage"> Information storage </h3>
<p>Each <a href="en/Table_Cellmap">cellmap entry</a> stores for tables in the border collapse mode additional information about its top and left edge and its top left corner.
</p><p>As one can see from the following illustration this is enough to cover a whole table.
</p><p><img alt="Image:bcentry.png">
</p><p>Only the right most edge and the bottom most edge of a table need to be stored in a different place.
</p>
<h4 id="Border"> Border </h4>
<p>For the top and left border we store the width and the owner of the border. The width is stored in pixel coordinates.
</p><p>The following owners are possible:
</p>
<pre> eTableOwner        =  0,
 eColGroupOwner     =  1,
 eAjaColGroupOwner  =  2, // col group to the left
 eColOwner          =  3,
 eAjaColOwner       =  4, // col to the left
 eRowGroupOwner     =  5,
 eAjaRowGroupOwner  =  6, // row group above
 eRowOwner          =  7,
 eAjaRowOwner       =  8, // row above
 eCellOwner         =  9,
 eAjaCellOwner      = 10  // cell to the top or to the left
</pre>
<p>The ownership is determined by the rules for border conflict resolution as defined in <a class="external" href="http://www.w3.org/TR/CSS21/tables.html#border-conflict-resolution">CSS 2.1</a>
</p>
<h4 id="Corner"> Corner </h4>
<p>For the corner we store </p>
<ul><li> the corner ownership, defined by the orientation of the major edge relative to the corner that goes into that corner. It can have 4 values:
<ul><li> NS_SIDE_TOP </li><li> NS_SIDE_RIGHT </li><li> NS_SIDE_BOTTOM </li><li> NS_SIDE_LEFT </li></ul>
</li><li> The size of the smaller border that goes into that corner.
</li><li> if this corner is a start for a horizontal segment,
</li><li> if this corner is a start for a vertical segment,
</li><li> if this corner should be beveled.
</li></ul>