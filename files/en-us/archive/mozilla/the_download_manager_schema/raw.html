<p> The Download Manager uses an SQLite table to keep track of downloads in progress as well as queued and past downloads.</p>

<p>The table is kept in a database file named "downloads.sqlite", in a table called "moz_downloads". The current database schema version is 8.</p>

<p>This information is available using <code><a href="/en-US/docs/Mozilla/Tech/XPCOM/Reference/Interface/nsIDownloadManager" title="">nsIDownloadManager</a></code> methods to retrieve <code><a href="/en-US/docs/Mozilla/Tech/XPCOM/Reference/Interface/nsIDownload" title="">nsIDownload</a></code> objects for each download entry; however, if you feel like poking directly into the table, you can do so using the <a href="en/Storage">Storage</a> API.</p>

<h3 id="The_schema_table" name="The_schema_table">The schema table</h3>

<table class="standard-table">
 <tbody>
  <tr>
   <th>Field name</th>
   <th>Type</th>
   <th>Description</th>
  </tr>
  <tr>
   <td>id</td>
   <td>INTEGER</td>
   <td>A unique ID for the download. This field is the primary key for the table.</td>
  </tr>
  <tr>
   <td>name</td>
   <td>TEXT</td>
   <td>The download's file name.</td>
  </tr>
  <tr>
   <td>source</td>
   <td>TEXT</td>
   <td>The source URI for the download.</td>
  </tr>
  <tr>
   <td>target</td>
   <td>TEXT</td>
   <td>The destination URI for the download.</td>
  </tr>
  <tr>
   <td>tempPath</td>
   <td>TEXT</td>
   <td>The path of the temporary file being used for the download.</td>
  </tr>
  <tr>
   <td>startTime</td>
   <td>INTEGER</td>
   <td>The download's start time.</td>
  </tr>
  <tr>
   <td>endTime</td>
   <td>INTEGER</td>
   <td>The download's end time.</td>
  </tr>
  <tr>
   <td>state</td>
   <td>INTEGER</td>
   <td>The download's current state. See <a href="en/NsIDownloadManager#Constants">the constants list in the <code>nsIDownloadManager</code> documentation</a>.</td>
  </tr>
  <tr>
   <td>referrer</td>
   <td>TEXT</td>
   <td>The referrer for the download.</td>
  </tr>
  <tr>
   <td>entityID</td>
   <td>TEXT</td>
   <td>The entity ID from the <code><a href="/en-US/docs/Mozilla/Tech/XPCOM/Reference/Interface/nsIResumableChannel" title="">nsIResumableChannel</a></code> used to implement the download channel. This information is used to resume the download after it's been paused.</td>
  </tr>
  <tr>
   <td>currBytes</td>
   <td>INTEGER</td>
   <td>The current number of bytes that have been downloaded. Defaults to 0, may not be null.</td>
  </tr>
  <tr>
   <td>maxBytes</td>
   <td>INTEGER</td>
   <td>The total number of bytes that need to be downloaded. Defaults to -1, may not be null.</td>
  </tr>
  <tr>
   <td>mimeType</td>
   <td>TEXT</td>
   <td>The MIME type of the file.</td>
  </tr>
  <tr>
   <td>preferredApplication</td>
   <td>TEXT</td>
   <td>The preferred application to use to open the file after the download is complete.</td>
  </tr>
  <tr>
   <td>preferredAction</td>
   <td>INTEGER</td>
   <td>The action constant from <code><a href="/en-US/docs/Mozilla/Tech/XPCOM/Reference/Interface/nsIMIMEInfo" title="">nsIMIMEInfo</a></code> representing the action to take upon completing the download. Default 0 (save to disk); may not be null.</td>
  </tr>
  <tr>
   <td>autoResume</td>
   <td>INTEGER</td>
   <td>0 if the file should not automatically resume downloading, 1 if it should. Defaults to 0, and may not be null.</td>
  </tr>
 </tbody>
</table>

<h3 id="See_also" name="See_also">See also</h3>

<ul>
 <li><code><a href="/en-US/docs/Mozilla/Tech/XPCOM/Reference/Interface/nsIDownloadManager" title="">nsIDownloadManager</a></code></li>
 <li><code><a href="/en-US/docs/Mozilla/Tech/XPCOM/Reference/Interface/nsIDownloadManagerUI" title="">nsIDownloadManagerUI</a></code></li>
 <li><code><a href="/en-US/docs/Mozilla/Tech/XPCOM/Reference/Interface/nsIDownloadProgressListener" title="">nsIDownloadProgressListener</a></code></li>
</ul>