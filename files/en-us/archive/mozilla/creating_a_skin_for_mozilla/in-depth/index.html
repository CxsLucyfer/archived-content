---
title: In-Depth
slug: Archive/Mozilla/Creating_a_skin_for_Mozilla/In-Depth
tags:
  - Add-ons
  - Themes
---
<p>Â </p>
<h3 id="System_Colours" name="System_Colours">System Colours</h3>
<p>CSS2 defines colours which are the same as your operating systems theme. A list of the different operating system colours can be found on the <a href="http://www.w3.org/TR/REC-CSS2/ui.html#system-colors" class="external">W3C&apos;s web site</a>.</p>
<h3 id="Mozilla_CSS_Properties" name="Mozilla_CSS_Properties">Mozilla CSS Properties</h3>
<p><a href="http://www.mozilla.org" class="external">Mozilla.org</a> created their own CSS properties to allow them to use the technology for the UI of Mozilla. All of the properties follow the W3C&apos;s standards for vendor extensions, which is why they all begin with <code>-moz</code>. This is only a list of properties which may be useful to you; it is in no way all of the Mozilla specific properties available.</p>
<p>Other sites which list Mozilla specific CSS properties</p>
<ul>
  <li><a href="http://www.xulplanet.com/references/elemref/ref_StyleProperties.html" class="external">XulPlanet.com [dead link, 26.03.13] </a></li>
  <li><a href="/en-US/docs/CSS_Reference/Mozilla_Extensions">Mozilla-prefixed properties on the standard track 26.03.13</a></li>
  <li>also see <a href="/en-US/docs/Firefox_4_for_developers#New_CSS_properties">Firefox 4 for developers &apos;New CSS properties&apos;</a> [27.03.13]</li>
</ul>
<h4 id="-moz-appearance" name="-moz-appearance">-moz-appearance</h4>
<p>Makes a widget look like it&apos;s from your operating system. Possible are (This is probably an incomplete list):</p>
<p>none - (!important may be needed) Will override the operating system default. Use this when you want one or two controls to look different from the operating systems defaults.</p>
<p>button, checkbox-container, checkbox, dialog, dualbutton, dualbutton-dropdown, listbox, menu, menulist-textfield, menulist-button, menulist, menulist-text, progressbar, progresschunk, radio-container, radio, resizer, resizerpanel, separator, scrollbar, statusbar, statusbarpanel, toolbarbutton, toolbox, toolbar, treeheadercell, treeheadersortarrow, treeview, treeitem, treetwisty, treetwistyopen, tooltip, textfield, tabpanels, tab, tab-left-edge, tab-right-edge, scrollbartrack-horizontal, scrollbartrack-vertical, scrollbarthumb-vertical, scrollbarthumb-horizontal, scrollbarbutton-right, scrollbarbutton-down, scrollbarbutton-left, scrollbarbutton-up, scrollbargripper-vertical, scrollbargripper-horizontal</p>
<h4 id="-moz-border-bottom-colors" name="-moz-border-bottom-colors">-moz-border-bottom-colors</h4>
<p>Defines a series of colours. Each colour is one pixel in the border. If you want the border to be 3 pixels wide you define each colour separated by a space.</p>
<p>Example:</p>
<pre>-moz-border-top-colors: ThreeDDarkShadow ThreeDShadow transparent;
-moz-border-right-colors: ThreeDDarkShadow ThreeDShadow transparent;
-moz-border-bottom-colors: ThreeDDarkShadow ThreeDShadow transparent;
-moz-border-left-colors: ThreeDDarkShadow ThreeDShadow transparent;
</pre>
<h4 id="-moz-border-top-colors" name="-moz-border-top-colors">-moz-border-top-colors</h4>
<p>See <code>-moz-border-bottom-colors</code> above.</p>
<h4 id="-moz-border-left-colors" name="-moz-border-left-colors">-moz-border-left-colors</h4>
<p>See <code>-moz-border-bottom-colors</code> above.</p>
<h4 id="-moz-border-right-colors" name="-moz-border-right-colors">-moz-border-right-colors</h4>
<p>See <code>-moz-border-bottom-colors</code> above.</p>
<h4 id="-moz-border-radius" name="-moz-border-radius">-moz-border-radius</h4>
<p>Rounds the corners of a box. If you specify one px/% value, it will apply it to all the corners, or you can specify 4 values (separated by a space) and have each corner different.</p>
<h4 id="-moz-border-radius-topleft" name="-moz-border-radius-topleft">-moz-border-radius-topleft</h4>
<p>The same as -moz-border-radius but only applies to the top left corner. An example of where this would be used is on tabs.</p>
<h4 id="-moz-border-radius-topright" name="-moz-border-radius-topright">-moz-border-radius-topright</h4>
<p>The same as -moz-border-radius but only applies to the top right corner. An example of where this would be used is on tabs.</p>
<h4 id="-moz-border-radius-bottomleft" name="-moz-border-radius-bottomleft">-moz-border-radius-bottomleft</h4>
<p>The same as -moz-border-radius but only applies to the bottom left corner. An example of where this would be used is on a footer.</p>
<h4 id="-moz-border-radius-bottomright" name="-moz-border-radius-bottomright">-moz-border-radius-bottomright</h4>
<p>The same as -moz-border-radius but only applies to the bottom right corner. An example of where this would be used is on a footer.</p>
<h4 id="-moz-box-direction" name="-moz-box-direction">-moz-box-direction</h4>
<p>Controls which way the items in this box are displayed. Normal in English web browsers items are displayed top to bottom and left to right. This will flip it around so items inside of this box will be displayed bottom to top and right to left. This is useful for, say, putting the navigation controls (back button) on the right hand side of the toolbar.</p>
<p><b>Values:</b> Normal, Reverse</p>
<h4 id="-moz-image-region" name="-moz-image-region">-moz-image-region</h4>
<p>This is useful for dividing up an image into multiple smaller images. It uses a <code>rect()</code> object to determine the clipping region. Check out the section on <a href="en/Creating_a_Skin_for_Mozilla/In-Depth#Organizing_Images">Organizing Images</a> for more information.</p>
<p>Example:</p>
<pre>-moz-image-region: rect(168px 69px 189px 46px);
</pre>
<h4 id="-moz-opacity" name="-moz-opacity">-moz-opacity</h4>
<p>Makes boxes semi-transparent. It takes a decimal value, 0.00 is invisible and 1.00 is totally visible.</p>
<h3 id="How_do_I_know_what_to_Modify.3F" name="How_do_I_know_what_to_Modify.3F">How do I know what to Modify?</h3>
<p>Now that you&apos;ve got everything extracted and you know how to modify items, you might be wondering, how do I know where everything is? Well there is an easy way to find out - Using the DOM Inspector. If you didn&apos;t install it when you first installed Mozilla you may have to run the installer again.</p>
<p>Load mozilla and one browser window. Then open the DOM Inspector (Tools-&gt;Web Development-&gt;DOM Inspector).</p>
<p>Click File-&gt;Inspect and select the browser window. What appears in a tree view below is the actual code for the interface. Using this, we can figure out what objects are where, what classes/id&apos;s they have applied to them, and most importantly, which file the style is located in.</p>
<p><img alt="DOM Inspector: Inspect Icon"></p>
<p>Click on the <i>Inspect</i> icon and then click on the back button in the browser window. What this will do is find the code for the back button and display it in the DOM Inspector. Selected in the Tree view will be <code>xul:toolbarbutton</code>. This is the portion of the icon with only the image. But the back button is made up of two parts (The back portion and the history portion), so if we move one level up in the tree we&apos;ll see <code>toolbarbutton</code>. This is what we want.</p>
<p><img alt="DOM Inspector: Mode Icon"></p>
<p>On the right hand side of the DOM inspector, what will be listed is the DOM Node information. But what we&apos;re interested in is the CSS Style Rules. Click the icon located above the DOM information and choose CSS Style Rules.</p>
<p>The side bar will now be split into two parts. At the top, there is a list of all the groups of styles that are applied to this object. When you select an item in the list the bottom portion will display the actual styles that are applied. Go through this list one item at a time and find the one which applies the image to the button (<code>.toolbarButton-1</code>).</p>
<p>Look at the file column. It says that the file is located in <code><a class="external" rel="freelink">chrome://navigator/skin/</a></code>. This is a small problem with the display in Mozilla 1.2 what it means is <code>\navigator\navigator.css</code> (Most of the time it displays the file correctly, but sometimes, like in this case, it does not).</p>
<p>Go into <code>\mySkin\navigator</code> and load <code>navigator.css</code>. You&apos;ll notice that the <code>.toolbar-1</code> class is located here. Now you can point the image to wherever you like.</p>
<p>The image that is listed there by default (<code><a class="external" rel="freelink">chrome://navigator/skin/icons/btn1.gif</a></code>) is actually a bunch of <a href="en/Creating_a_Skin_for_Mozilla/In-Depth#Organizing_Images">images grouped together</a> in one file, so somewhere one of the CSS attributes is telling it what portion of the larger image to cut out and display. If you go back into the DOM inspector and look at the Rule column again, you&apos;ll see the <code>#back-button</code> id. Select that one and it lists a bunch of <code>-x-image-region-left</code> type styles in <code><a class="external" rel="freelink">chrome://navigator/skin/</a></code>. Open up <code>navigator.css</code>, again (if you closed it), and look for the <code>#back-button</code> section. It has a <code>-moz-image-region</code> style in there which you can change. If you look through the rest of this file, you&apos;ll also notice that there are regions for the different states of <code>#back-button</code>. Change those to match your new image as well.</p>
<p>Just continue this process for everything that you wish to change and you&apos;ll have a new skin in no time.</p>
<h3 id="Organizing_Images" name="Organizing_Images">Organizing Images</h3>
<p>To organize all of your icons you can store them all in one image and then tell Mozilla which portions to use. This is done using the -moz-image-region style. A bunch of 20px X 20px icons in a grid format</p>
<p><img alt="Group of buttons"></p>
<p>Above is the source image of some icons setup to use the <code>-moz-image-region</code> style. Each row is a different icon in one of its 4 different states (Normal, Hover, Mouse Down, and Disabled). To cut the pieces out you need to define rectangles in the css file like this:</p>
<pre>#button-send {
  -moz-image-region: rect(294px 23px 315px 0px);
}

#button-send:hover {
  -moz-image-region: rect(294px 46px 315px 23px);
}

#button-send:hover:active {
  -moz-image-region: rect(294px 69px 315px 46px);
}

#button-send[disabled=&quot;true&quot;] {
  -moz-image-region: rect(294px 92px 315px 69px)Â !important;
}
</pre>
<p>The properties for <a href="http://www.w3.org/TR/REC-CSS2/visufx.html#propdef-clip" class="external">Rect</a> are listed in a clockwise fashion - Top, Right, Bottom, Left.</p>
<h3 id="Adding_an_image_to_the_right_of_a_toolbar" name="Adding_an_image_to_the_right_of_a_toolbar">Adding an image to the right of a toolbar</h3>
<p><img alt="Final appearance"></p>
<p>This tutorial is done with Mozilla 1.2 in mind. The layout of files can and probably will change over time, but the basics should remain the same.</p>
<p>By default, Mozilla 1.2 doesn&apos;t support images on the right hand side of the toolbars, but that can be changed with some XBL hacking. Place <a href="en/Creating_a_Skin_for_Mozilla/toolbarBindings.xml">this xml file</a> in <code>\classic\skin\classic\communicator\toolbar\toolbarBindings.xml</code> (You will need to create the sub directory). What this file does, is it takes the standard toolbar that is used in Mozilla and adds an image to the one side of it. If you look at the modern skin, you&apos;ll notice that it adds the image to the other side of the toolbar.</p>
<p>Now that we have the code that will change the toolbar, it needs to be accessed. Open up <code>\classic\skin\classic\communicator\communicator.css</code> and look for the <code>.toolbar-primary</code> section. There is a <code>-moz-binding</code> command there. Point the URL to the new location.</p>
<p>Change:</p>
<pre>-moz-binding: url(&quot;chrome://global/content/bindings/toolbar.xml#toolbar-primary&quot;);
</pre>
<p>to</p>
<pre>-moz-binding: url(&quot;chrome://communicator/skin/toolbar/toolbarBindings.xml#toolbar-primary&quot;);
</pre>
<p>Now every toolbar has a spot for an image on the right hand side and we can start adding images, but first we need to make sure we can see the images that we add. Also in the <code>communicator.css</code> add this code:</p>
<pre>.toolbar-primary-icon {
  width: 100px;
  background-repeat: no-repeat;
  background-position: top;
}
</pre>
<p>Open up <code>\classic\skin\classic\navigator\navigator.css</code> and scroll down to the bottom. To style that image, we first need to get a handle to the toolbar, then the box inside of it, and then to the image that we added with the xml.</p>
<p>By hunting around with the DOM inspector and looking at the navigation toolbar you can find this information. The id is &quot;<code>navigation-toolbar</code>&quot;. Then it contains a <code>xul:hbox</code> with the class <code>.toolbar-holder</code>. This <code>.toolbar-holder</code> class is also defined in the <code><a href="en/Creating_a_Skin_for_Mozilla/toolbarBindings.xml">toolbarBindings.xml</a></code>. This is where Mozilla takes the code out of our xml file and puts the two together. Inside of the xml file there is an image which has its class set to <code>toolbar-primary-icon</code>.</p>
<p></p><div class="note notecard"><strong>Note:</strong>Â In versions of Firefox prior to Firefox 3 beta 3, the navigation toolbar&apos;s ID is &quot;<code>nav-bar</code>&quot;.</div><p></p>
<p>Put these 3 together and you get:</p>
<pre>#navigation-toolbar &gt; .toolbar-holder &gt; .toolbar-primary-icon
</pre>
<p>Inside this section of the CSS is where you add an image. Set the background-image to a url of your choosing, such as <code>url(&quot;<a class="external" rel="freelink">chrome://navigator/skin/icons/dino.png</a>&quot;);</code>. When it&apos;s all done you should have something that looks like this:</p>
<pre>#navigation-toolbar &gt; .toolbar-holder &gt; .toolbar-primary-icon {
  background-image: url(&quot;chrome://navigator/skin/icons/dino.png&quot;);
}
</pre>
<p><img alt="Dinosaurus"></p>
<p>Put the image in that directory, fire up mozilla, and take a look at your creation. If the navigation toolbar dissapears or something, go back and double check everything. Especially the <code>-moz-binding</code> commands.</p>
