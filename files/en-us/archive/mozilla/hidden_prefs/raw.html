<p></p><div class="warning warningHeader">
    <p><strong>Warning:</strong> <strong>The content of this article may be out of date.</strong> It was imported from mozilla.org and last updated in 2002.</p>
</div><p></p>
<p></p><p>


<span style="overflow: hidden; display: block; background: lemonchiffon; border: 1px solid navajowhite; text-align: center; margin-bottom: 1em;">
<span style="display: block; color: coral; font-weight: 700; border-bottom: 1px solid navajowhite;">This page has been flagged by editors or users as needing technical review.</span>
Until it is fully reviewed, it may contain inaccurate or incorrect information.
</span>

</p><p></p>
<h2 id="Address_book">Address book</h2>
<p><strong>"Get Map" button pref ("mail.addr_book.mapit_url.format" )</strong><br>
The format for this pref  is:<br>
<br>
@A1 == address, part 1<br>
@A2 == address, part 2<br>
@CI == city<br>
@ST == state<br>
@ZI == zip code<br>
@CO == country<br>
<br>
If the pref is set to "", no "Get Map" button will appear in the addressbook card preview pane.<br>
<br>
The default (defined in mailnews.js) is:<br>
<br>
pref("mail.addr_book.mapit_url.format", "<a class=" external" href="http://www.mapquest.com/maps/map.adp?country=@CO&amp;address=@A1%20@A2&amp;city=@CI&amp;state=@ST&amp;zipcode=@ZI" rel="freelink">http://www.mapquest.com/maps/map.adp...ST&amp;zipcode=@ZI</a>");</p>
<hr>
<p><strong> Addressbook Quick Search Query Pref ("mail.addr_book.quicksearchquery.format" )</strong></p>
<p>The format for this pref is:</p>
<p>@V == the escaped value typed in the quick search bar in the addressbook</p>
<p>Every occurance of @V will be replaced.</p>
<p>Note, the UI has "Name or Email Contains:".  This entity (SearchNameOrEmail.label) is defined in messenger.dtd.  So if you change</p>
<p>the quick search query to match based on phone number, the UI will not match the query.</p>
<p>The default (defined in mailnews.js) is:</p>
<p>pref("mail.addr_book.quicksearchquery.format","?(or(PrimaryEmail,c,@V)(DisplayName,c,@V)(FirstName,c,@V)(LastName,c,@V))");</p>
<p>"and", "or" and "not" are valid.</p>
<p>See <a class=" external" href="http://lxr.mozilla.org/mozilla/source/mailnews/addrbook/public/nsIAddrDatabase.idl" rel="freelink">http://lxr.mozilla.org/mozilla/sourc...drDatabase.idl</a> for the list of valid attributes </p>
<p>"c" == contains.  see nsAbQueryStringToExpression::CreateBooleanConditionString() for other operators.</p>
<h2 id="Mail_composition">Mail composition</h2>
<p><strong>"other header" pref ("mail.compose.other.header")</strong><br>
The format for this a comma delimited list of mail headers, like "Approved,X-No-Archive"<br>
<br>
An example for your prefs.js would be:<br>
user_pref("mail.compose.other.header", "Approved");<br>
<br>
This will cause "Approved" to show up in the compose window address picker, under To:, Cc:, Bcc:, Newsgroup:, etc.<br>
<br>
For example: <br>
<br>
<img alt="Approved header example image" height="212" src="http://mxr.mozilla.org/mozilla-org/source/html/mailnews/arch/compose/other.gif" width="410"> <br>
<br>
When that mail gets sent, <br>
Approved: <a class=" link-mailto" href="mailto:test@test.com" rel="freelink">test@test.com</a><br>
will be in the message in the headers.<br>
<br>
This is a useful trick for newsgroup moderators who want moderate from mozilla.</p>
<h2 id="MailNews_Prefs">Mail/News Prefs</h2>
<p><strong>"autcollect addresses" prefs</strong><br>
<br>
from mailnews.js:<br>
<br>
// by default, only collect addresses the user sends to (outgoing)<br>
pref("mail.collect_email_address_incoming", false);<br>
pref("mail.collect_email_address_outgoing", true);<br>
pref("mail.collect_email_address_newsgroup", false);<br>
<br>
// by default, use the Personal Addressbook for collection<br>
pref("mail.collect_addressbook","<a class=" external" rel="freelink">moz-abmdbdirectory://abook.mab</a>");<br>
<br>
For the reasons why the defaults changed, see this document on the <a class=" external" href="http://mxr.mozilla.org/mozilla-org/source/html/mailnews/arch/cab.html">Collected Address Book</a>.<br>
<br>
There is UI for the "mail.collect_email_address_outgoing" pref. See "Edit | Preferences.. | Mail &amp; Newsgroups | Addressing"</p>
<hr>
<strong style="font-weight: bold;"> <span id="othercompose"></span></strong> <span style="font-weight: bold;">"other compose header" pref</span> <br>
<p>from mailnews.js:</p>
<pre>// you can specify a comma delimited list of optional headers
// this will show up in the address picker in the compose window
// examples: "X-Face" or "Approved"
pref("mail.compose.other.header", "Approved,X-No-Archive");
</pre>