---
title: Hidden prefs
slug: Archive/Mozilla/Hidden_prefs
---
<p></p><div class="warning warningHeader notecard">
    <p><strong>Warning:</strong> <strong>The content of this article may be out of date.</strong> It was imported from mozilla.org and last updated in 2002.</p>
</div><p></p>
<p></p><p>


<span style="overflow: hidden; display: block; background: lemonchiffon; border: 1px solid navajowhite; text-align: center; margin-bottom: 1em;">
<span style="display: block; color: coral; font-weight: 700; border-bottom: 1px solid navajowhite;">This page has been flagged by editors or users as needing technical review.</span>
Until it is fully reviewed, it may contain inaccurate or incorrect information.
</span>

</p><p></p>
<h2 id="Address_book">Address book</h2>
<p><strong>&quot;Get Map&quot; button pref (&quot;mail.addr_book.mapit_url.format&quot; )</strong><br>
The format for this pref  is:<br>
<br>
@A1 == address, part 1<br>
@A2 == address, part 2<br>
@CI == city<br>
@ST == state<br>
@ZI == zip code<br>
@CO == country<br>
<br>
If the pref is set to &quot;&quot;, no &quot;Get Map&quot; button will appear in the addressbook card preview pane.<br>
<br>
The default (defined in mailnews.js) is:<br>
<br>
pref(&quot;mail.addr_book.mapit_url.format&quot;, &quot;<a href="http://www.mapquest.com/maps/map.adp?country=@CO&amp;address=@A1%20@A2&amp;city=@CI&amp;state=@ST&amp;zipcode=@ZI" class=" external" rel="freelink">http://www.mapquest.com/maps/map.adp...ST&amp;zipcode=@ZI</a>&quot;);</p>
<hr>
<p><strong> Addressbook Quick Search Query Pref (&quot;mail.addr_book.quicksearchquery.format&quot; )</strong></p>
<p>The format for this pref is:</p>
<p>@V == the escaped value typed in the quick search bar in the addressbook</p>
<p>Every occurance of @V will be replaced.</p>
<p>Note, the UI has &quot;Name or Email Contains:&quot;.  This entity (SearchNameOrEmail.label) is defined in messenger.dtd.  So if you change</p>
<p>the quick search query to match based on phone number, the UI will not match the query.</p>
<p>The default (defined in mailnews.js) is:</p>
<p>pref(&quot;mail.addr_book.quicksearchquery.format&quot;,&quot;?(or(PrimaryEmail,c,@V)(DisplayName,c,@V)(FirstName,c,@V)(LastName,c,@V))&quot;);</p>
<p>&quot;and&quot;, &quot;or&quot; and &quot;not&quot; are valid.</p>
<p>See <a href="http://lxr.mozilla.org/mozilla/source/mailnews/addrbook/public/nsIAddrDatabase.idl" class=" external" rel="freelink">http://lxr.mozilla.org/mozilla/sourc...drDatabase.idl</a> for the list of valid attributes </p>
<p>&quot;c&quot; == contains.  see nsAbQueryStringToExpression::CreateBooleanConditionString() for other operators.</p>
<h2 id="Mail_composition">Mail composition</h2>
<p><strong>&quot;other header&quot; pref (&quot;mail.compose.other.header&quot;)</strong><br>
The format for this a comma delimited list of mail headers, like &quot;Approved,X-No-Archive&quot;<br>
<br>
An example for your prefs.js would be:<br>
user_pref(&quot;mail.compose.other.header&quot;, &quot;Approved&quot;);<br>
<br>
This will cause &quot;Approved&quot; to show up in the compose window address picker, under To:, Cc:, Bcc:, Newsgroup:, etc.<br>
<br>
For example: <br>
<br>
<img src="http://mxr.mozilla.org/mozilla-org/source/html/mailnews/arch/compose/other.gif" alt="Approved header example image" width="410" height="212"> <br>
<br>
When that mail gets sent, <br>
Approved: <a href="mailto:test@test.com" class=" link-mailto" rel="freelink">test@test.com</a><br>
will be in the message in the headers.<br>
<br>
This is a useful trick for newsgroup moderators who want moderate from mozilla.</p>
<h2 id="MailNews_Prefs">Mail/News Prefs</h2>
<p><strong>&quot;autcollect addresses&quot; prefs</strong><br>
<br>
from mailnews.js:<br>
<br>
// by default, only collect addresses the user sends to (outgoing)<br>
pref(&quot;mail.collect_email_address_incoming&quot;, false);<br>
pref(&quot;mail.collect_email_address_outgoing&quot;, true);<br>
pref(&quot;mail.collect_email_address_newsgroup&quot;, false);<br>
<br>
// by default, use the Personal Addressbook for collection<br>
pref(&quot;mail.collect_addressbook&quot;,&quot;<a class=" external" rel="freelink">moz-abmdbdirectory://abook.mab</a>&quot;);<br>
<br>
For the reasons why the defaults changed, see this document on the <a href="http://mxr.mozilla.org/mozilla-org/source/html/mailnews/arch/cab.html" class=" external">Collected Address Book</a>.<br>
<br>
There is UI for the &quot;mail.collect_email_address_outgoing&quot; pref. See &quot;Edit | Preferences.. | Mail &amp; Newsgroups | Addressing&quot;</p>
<hr>
<strong style="font-weight: bold;"> <span id="othercompose"></span></strong> <span style="font-weight: bold;">&quot;other compose header&quot; pref</span> <br>
<p>from mailnews.js:</p>
<pre>// you can specify a comma delimited list of optional headers
// this will show up in the address picker in the compose window
// examples: &quot;X-Face&quot; or &quot;Approved&quot;
pref(&quot;mail.compose.other.header&quot;, &quot;Approved,X-No-Archive&quot;);
</pre>
