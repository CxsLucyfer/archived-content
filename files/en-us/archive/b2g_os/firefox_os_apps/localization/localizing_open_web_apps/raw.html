<p>The purpose of this documentation is to make it as easy and clear as possible to quickly make sure your <a href="https://developer.mozilla.org/en-US/Apps">Open Web Apps</a> are localized and ready to add more languages swiftly. If you want a blueprint app with localization support already implemented, please look at the <a href="#TranslationTester">TranslationTester</a> below.</p>
<h2 id="How_the_localization_works">How the localization works</h2>
<ul>
 <li>All localizations are available in a <code>locales</code> directory, organized by each language code</li>
 <li>A <code>locales.ini</code> file imports them</li>
 <li>An included <code>l10n.js</code> JavaScript file applies the current user locale's translation to respective element through their <code>data-l10n-id</code> attribute</li>
</ul>
<h2 id="Prepare_your_app_for_localization">Prepare your app for localization</h2>
<p>There are 3 steps that you need to do to have your app support localization, divided up into different areas:</p>
<ol>
 <li>Create files and translations for your desired languages</li>
 <li>Include files in your app</li>
 <li>HTML code changes</li>
</ol>
<h3 id="1._Create_files_and_translations_for_desired_languages">1. Create files and translations for desired languages</h3>
<ol>
 <li>Create a <code>locales</code> directory in the root of your app</li>
 <li>Create a directory in the <code>locales</code> directory for each language with its language code, e.g. <code>en-US</code></li>
 <li>Create two files in each of your language directories: <code>app.properties</code> and <code>manifest.properties</code>. <code>app.properties</code> will have all the translations for your app's content, <code>manifest.properties</code> will have the translation for the name and description of your app</li>
 <li>Create a <code>locales.ini</code> file within the <code>locales</code> directory, importing the languages your app supports, e.g:
  <pre><code>[en-US]
@import url(en-US/app.properties)</code></pre>
 </li>
 <li>
  <p>Open <code>manifest.webapp</code> in the root of your app and add your languages in the locales directive, e.g:</p>
  <pre><code> "en-US": {
     "name": "Translation Tester",
     "description": "This is a testing app for Firefox OS translations"
 }
</code></pre>
 </li>
</ol>
<h3 id="2._Include_files_in_your_app">2. Include files in your app</h3>
<p>In your <code>index.html</code> file, or any page showing content in your app, you need to put references to two files:</p>
<ul>
 <li><a href="https://github.com/mozilla-b2g/gaia/blob/master/shared/js/l10n.js"><code>l10n.js</code></a>, which you can get in the Gaia source code</li>
 <li><code>locales.ini</code>, which you created above in the <code>locales</code> directory</li>
</ul>
<p>Include them like this:</p>
<pre><code>&lt;!DOCTYPE html&gt;
&lt;html&gt;
&lt;head&gt;
    &lt;meta charset="utf-8"&gt;
    &lt;title&gt;My amazing app&lt;/title&gt;
    &lt;!-- Localization --&gt;
    &lt;link rel="resource" type="application/l10n" href="locales/locales.ini" /&gt;
    &lt;script src="js/l10n.js"&gt;&lt;/script&gt;
&lt;/head&gt;
</code></pre>
<h3 id="3._HTML_code_changes">3. HTML code changes</h3>
<p>For each element that you want to have a translated text for, add the <code>data-l10n-id</code> attribute:</p>
<pre><code>&lt;p data-l10n-id="winter-for-real"&gt;Winter for real&lt;/p&gt;
</code></pre>
<p>The value chosen for the <code>data-l10n-id</code> attribute needs to correspond to the same value in the <code>app.properties</code> file for each language, e.g: <code>winter-for-real = Winter for real</code> in the <code>locales/en-US/app.properties</code> file:</p>
<pre><code>winter-for-real = Winter for real</code></pre>
<h2 id="How_to_view_different_locales">How to view different locales</h2>
<p>To view your app with a different locale, change the language in Firefox or Firefox OS:</p>
<ul>
 <li>Firefox: Choose language under <code>Preferences &gt; Content &gt; Languages</code>. More information in <a href="https://support.mozilla.org/en-US/kb/settings-fonts-languages-pop-ups-javascript">Set content language in Firefox</a></li>
 <li>Firefox OS (and Firefox OS Simulator): Go to <code>Settings &gt; Language</code>. More information in <a href="https://support.mozilla.org/en-US/kb/change-default-language-firefox-os?esab=a&amp;s=language&amp;r=0&amp;as=s">Change The Default Language on Firefox OS</a></li>
</ul>
<h2 id="TranslationTester">TranslationTester</h2>
<p>To give you a quick start in adding localization to your app, we have created a blueprint app called <a href="https://github.com/robnyman/TranslationTester">TranslationTester</a> that you are free to copy/fork and use.</p>
<p>If you go to <a href="http://robnyman.github.io/TranslationTester/">http://robnyman.github.io/TranslationTester/</a> in your web browser or add it as an app in <a href="/en-US/docs/Tools/WebIDE">WebIDE</a> (<code>Tools &gt; Web Developer &gt; WebIDE </code>in Firefox) you can test it out right away.</p>
<p>If you plan on testing in <a href="/en-US/docs/Tools/WebIDE">WebIDE</a>, these are your two options:</p>
<ul>
 <li>Clone or fork the repository, choose <code>Add Packaged App</code> and point to the directory with the app</li>
 <li>Choose <code>Add Hosted App</code> and point your App Manager to this URL: <a href="http://robnyman.github.io/TranslationTester/manifest-hosted.webapp">http://robnyman.github.io/TranslationTester/manifest-hosted.webapp</a></li>
</ul>
<h2 id="Getting_help_with_translations">Getting help with translations</h2>
<p>Optionally, you can set up your project for localization at <a href="https://www.transifex.com/">Transifex</a> to accept and import translations from other people. More on that in <a href="https://developer.mozilla.org/en-US/Apps/Build/Localization/App_Localization_with_Transifex">App Localization with Transifex</a>.</p>