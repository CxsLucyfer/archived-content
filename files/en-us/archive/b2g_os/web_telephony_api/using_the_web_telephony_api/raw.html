<p></p><section class="Quick_links" id="Quick_Links">

<ol>
 <li data-default-state="closed"><a href="/en-US/docs/Mozilla/B2G_OS/Building_and_installing_B2G_OS">Build and install</a>
  <ol>
   <li><strong><a href="/en-US/docs/Mozilla/B2G_OS/Building_and_installing_B2G_OS">Build and install overview</a></strong></li>
   <li><a href="/en-US/docs/Mozilla/B2G_OS/Building_and_installing_B2G_OS/B2G_OS_build_process_summary">B2G OS build process summary</a></li>
   <li><a href="/en-US/docs/Mozilla/B2G_OS/B2G_OS_build_prerequisites">Build prerequisites</a></li>
   <li><a href="/en-US/docs/Mozilla/B2G_OS/Preparing_for_your_first_B2G_build">Preparing for your first build</a></li>
   <li><a href="/en-US/docs/Mozilla/B2G_OS/Building">Building B2G OS</a></li>
   <li><a href="/en-US/docs/Mozilla/B2G_OS/Building_and_installing_B2G_OS/B2G_installer_add-on">B2G installer add-on</a></li>
   <li><a href="/en-US/docs/Mozilla/B2G_OS/Building_and_installing_B2G_OS/Building_for_Flame_on_OS_X">Building B2G OS for Flame on Mac OS X</a></li>
   <li><a href="/en-US/docs/Mozilla/B2G_OS/Choosing_how_to_run_Gaia_or_B2G">Choosing how to run Gaia or B2G OS</a></li>
   <li><a href="/en-US/docs/Mozilla/B2G_OS/Building_and_installing_B2G_OS/Compatible_Devices">Compatible Devices</a></li>
   <li><a href="/en-US/docs/Mozilla/B2G_OS/Installing_on_a_mobile_device">Installing B2G OS on a mobile device</a></li>
   <li><a href="/en-US/docs/Mozilla/B2G_OS/Building_and_installing_B2G_OS/B2G_OS_update_packages">Creating and applying B2G OS update packages</a></li>
   <li><a href="/en-US/docs/Mozilla/B2G_OS/Building/FOTA_community_builds">Building and installing FOTA community builds</a></li>
   <li><a href="/en-US/docs/Mozilla/B2G_OS/Building_and_installing_B2G_OS/B2G_Build_Variables_Reference_Sheet">B2G build variables reference sheet</a></li>
  </ol>
 </li>
 <li data-default-state="closed"><a href="/en-US/docs/Mozilla/B2G_OS/Porting_B2G_OS">Porting B2G OS</a>
  <ol>
   <li><strong><a href="/en-US/docs/Mozilla/B2G_OS/Porting_B2G_OS">Porting overview</a></strong></li>
   <li><a href="/en-US/docs/Mozilla/B2G_OS/Porting_B2G_OS/basics">Porting basics</a></li>
   <li><a href="/en-US/docs/Mozilla/B2G_OS/Porting_B2G_OS/Porting_on_CyanogenMod">Porting on CyanogenMod</a></li>
  </ol>
 </li>
 <li data-default-state="closed"><a href="/en-US/docs/Mozilla/B2G_OS/Developing_Gaia">Developing Gaia</a>
  <ol>
   <li><strong><a href="/en-US/docs/Mozilla/B2G_OS/Developing_Gaia">Developing Gaia overview</a></strong></li>
   <li><a href="/en-US/docs/Mozilla/B2G_OS/Developing_Gaia/Running_the_Gaia_codebase">Running the Gaia codebase</a></li>
   <li><a href="/en-US/docs/Mozilla/B2G_OS/Mulet">Run Gaia on desktop using Mulet</a></li>

   <li><a href="/en-US/docs/Mozilla/B2G_OS/Developing_Gaia/Understanding_the_Gaia_codebase">Understanding the Gaia codebase</a></li>
   <li><a href="/en-US/docs/Mozilla/B2G_OS/Developing_Gaia/Making_Gaia_code_changes">Making Gaia code changes</a></li>
   <li><a href="/en-US/docs/Mozilla/B2G_OS/Developing_Gaia/Testing_Gaia_code_changes">Testing Gaia code changes</a></li>
   <li><a href="/en-US/docs/Mozilla/B2G_OS/Developing_Gaia/Submitting_a_Gaia_patch">Submitting a Gaia patch</a></li>
   <li><a href="/en-US/docs/Mozilla/B2G_OS/Developing_Gaia/Build_System_Primer">Gaia build system primer</a></li>
   <li><a href="/en-US/docs/Mozilla/B2G_OS/Developing_Gaia/Different_ways_to_run_Gaia">Different ways to run Gaia</a></li>
   <li><a href="/en-US/docs/Mozilla/B2G_OS/Developing_Gaia/make_options_reference">Make options reference</a></li>
   <li><a href="/en-US/docs/Mozilla/B2G_OS/Developing_Gaia/Gaia_tools_reference">Gaia tools reference</a></li>
  </ol>
 </li>
 <li><a href="/en-US/docs/Mozilla/B2G_OS/API">B2G OS APIs</a></li>
</ol>
</section><p></p>

<p class="summary">This article explains the basics of getting started with the <a href="/en-US/docs/Web/API/Web_Telephony_API">Web Telephony API</a>.</p>

<h2 id="Setting_Manifest_permissions">Setting Manifest permissions</h2>

<p>To use this API in a Firefox OS app, the <code>manifest.webapp</code> file needs to contain the following:</p>

<pre class="brush: json">"type": "certified",
"permissions": {
  "telephony": {
    "description": "Required to control telephony functions"
  }
},
</pre>

<h2 id="Accessing_the_API">Accessing the API</h2>

<p>The starting point for accessing device phone functionality is <code>Navigator.mozTelephony</code>. Once you have a reference to that object you can start placing and receiving calls.</p>

<pre class="brush: js">// Telephony object
var tel = navigator.mozTelephony;

</pre>

<h2 id="Inspecting_the_device_hardware">Inspecting the device hardware</h2>

<p>The resulting <a href="/en-US/docs/Web/API/Telephony" title="The documentation about this has not yet been written; please consider contributing!"><code>Telephony</code></a> object represents the phone hardware programmatically, and gives you the ability to control many aspects of it. For example, you can mute/unmute, and enable/disable the speaker phone:</p>

<pre class="brush: js">// Check if the phone is muted (read/write property)
console.log(tel.muted);

// Check if the speaker is enabled (read/write property)
console.log(tel.speakerEnabled);


</pre>

<h2 id="Making_calls">Making calls</h2>

<p>Making a call is as simple as calling <a href="/en-US/docs/Web/API/Telephony/dial" title="The documentation about this has not yet been written; please consider contributing!"><code>Telephony.dial</code></a> on your <code>Telephony</code> object — this is a promise-based API as of Firefox OS 1.4 (it was a standard callback before that) which resolves with a <a href="/en-US/docs/Web/API/TelephonyCall" title="The documentation about this has not yet been written; please consider contributing!"><code>TelephonyCall</code></a> object that represents the call. This object contains a number of properties, methods and handlers to allow you to monitor the call's properties, perform actions such as <a href="/en-US/docs/Web/API/TelephonyCall/hangUp" title="The documentation about this has not yet been written; please consider contributing!"><code>hanging up</code></a> and <a href="/en-US/docs/Web/API/TelephonyCall/hold" title="The documentation about this has not yet been written; please consider contributing!"><code>holding</code></a> the call, and reacting to changes in call state.</p>

<pre class="brush: js">// Place a call
var call = tel.dial("123456789").then(function(call) {

  // Events for that call
  call.onstatechange = function (event) {
      /*
          Possible values for state:
          "dialing", "ringing", "busy", "connecting", "connected",
          "disconnecting", "disconnected", "incoming"
      */
      console.log(event.state);
  };

  // Above options as direct events
  call.onconnected = function () {
      // Call was connected
  };

  call.ondisconnected = function () {
      // Call was disconnected
  };
});
</pre>

<h2 id="Receiving_calls">Receiving calls</h2>

<p>Receiving calls is different but still simple. You have to write a <a href="/en-US/docs/Web/API/Telephony/onincoming" title="The documentation about this has not yet been written; please consider contributing!"><code>Telephony.onincoming</code></a> event listener that will fire when a call is incoming; the function contains an event object — <a href="/en-US/docs/Web/API/CallEvent" title="The documentation about this has not yet been written; please consider contributing!"><code>CallEvent</code></a> — that contains a <code>call</code> property allowing you to get access to the call's <a href="/en-US/docs/Web/API/TelephonyCall" title="The documentation about this has not yet been written; please consider contributing!"><code>TelephonyCall</code></a> object and perform actions like <a href="/en-US/docs/Web/API/TelephonyCall/answer" title="The documentation about this has not yet been written; please consider contributing!"><code>answering the call</code></a>, etc.</p>

<pre class="brush: js">// Receiving a call
tel.onincoming = function (event) {
  var incomingCall = event.call;

  // Get the number of the incoming call
  console.log(incomingCall.id);

  // Answer the call
  incomingCall.answer();

  // Let's say we have a button set up to hang up the call when pressed.
  hangupButton.onclick = function() {
    // Disconnect a call
    call.hangUp();
  }
};
</pre>

<p>Multiple calls can be active on a device at the same time. You can iterate over each via the <a href="/en-US/docs/Web/API/Telephony/calls" title="The documentation about this has not yet been written; please consider contributing!"><code>Telephony.calls</code></a> property and take action on each one as appropriate.</p>

<pre class="brush: js">// Iterating over calls, and taking action depending on their changed status
tel.oncallschanged = function (event) {
  tel.calls.forEach(function (call) {
    // Log the state of each call
    console.log(call.state);
  });
};
</pre>

<h2 id="Specifications">Specifications</h2>

<table class="standard-table">
 <thead>
  <tr>
   <th scope="col">Specification</th>
   <th scope="col">Status</th>
   <th scope="col">Comment</th>
  </tr>
 </thead>
 <tbody>
  <tr>
   <td><a class="external" href="https://wiki.mozilla.org/WebAPI/WebTelephony" hreflang="en" lang="en" title="The 'Web Telephony' specification">Web Telephony</a></td>
   <td><span class="spec-Draft">Draft</span></td>
   <td>Draft</td>
  </tr>
 </tbody>
</table>

<h2 id="Browser_compatibility">Browser compatibility</h2>

<p>For obvious reasons, support is primarily expected on mobile browsers.</p>

<p>Supported in Firefox OS 1.0.1.</p>

<p><code>id</code> and <code>secondId</code> added it Firefox OS 2.0.</p>

<p><code>disconnectedReason</code> added it Firefox OS 2.2.</p>

<h2 id="See_also">See also</h2>

<ul>
 <li><a href="/en-US/docs/Web/Guide/Telephony">WebTelephony</a></li>
</ul>