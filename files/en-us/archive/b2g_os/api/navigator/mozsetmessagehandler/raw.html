<p></p><section class="Quick_links" id="Quick_Links"><ol><li><strong><a href="/en-US/docs/Mozilla/Firefox_OS/API/Archive"><code>Archive</code></a></strong></li><li data-default-state="open"><a href="#"><strong>Related pages for Firefox OS</strong></a><ol><li><a href="/en-US/docs/Mozilla/Firefox_OS/API/MozAlarmsManager"><code>MozAlarmsManager</code></a></li><li><a href="/en-US/docs/Mozilla/Firefox_OS/API/MozMobileNetworkInfo"><code>MozMobileNetworkInfo</code></a></li><li><a href="/en-US/docs/Mozilla/Firefox_OS/API/MozWifiP2pGroupOwner"><code>MozWifiP2pGroupOwner</code></a></li></ol></li></ol></section><div class="warning">
    <p style="text-align: center;">This API is available on <a href="/en-US/docs/Mozilla/Firefox_OS">Firefox OS</a> for <a href="/en-US/docs/Mozilla/Firefox_OS/Security/Application_security#App_Types">web content or higher privileged applications</a>.</p>
</div><p></p>

<p>This method is used to allow applications to register a function handler that can receive — and react to — a message from the system.</p>

<p>Any application is allowed to register a handler to receive any message, but some messages will only be delivered to applications that have the <a href="https://developer.mozilla.org/en-US/Apps/Build/App_permissions">corresponding permission</a>. For example, an <code>sms-received</code> message will only be delivered to an application that has the <code>sms</code> permission.</p>

<p>Contrary to DOM events, system messages will stay in the queue even if the application has no handler for them. You can check if your application has queued messages by calling <a href="/en-US/docs/Web/API/Window/navigator/mozHasPendingMessage" title="The documentation about this has not yet been written; please consider contributing!"><code>navigator.mozHasPendingMessage()</code></a> with the appropriate type as a parameter. When a message handler is set, all queued messages will be asynchronously delivered to the application.</p>

<h2 id="Syntax"><span id="result_box" lang="en"><span class="hps">Syntax</span></span></h2>

<pre>navigator.mozSetMessageHandler(type, handler);</pre>

<h3 id="Parameters">Parameters</h3>

<dl>
 <dt> </dt>
 <dt><code><span id="cke_bm_83S" style="display: none;"> </span>type</code></dt>
 <dd><span id="result_box" lang="en"><span class="hps">type</span> <span class="hps">is</span> <span class="hps">a</span> <span class="hps">string that represents the</span> <span class="hps">registered</span> <span class="hps">handler</span> <span class="hps">for which</span> <span class="hps">a class of</span> <span class="hps">messages.</span> </span></dd>
 <dt><code>handler</code></dt>
 <dd><span id="result_box" lang="en"><span class="hps">when the system</span> <span class="hps">sends a message,</span> <span class="hps">the</span> <span class="hps">handler</span> <span class="hps">is called, its</span> <span class="hps">reception parameters</span> <span class="hps">determined</span> <span class="hps">by the</span> <span class="hps">message type</span><span>.</span> </span></dd>
</dl>

<h2 id="Specification" name="Specification"><span id="result_box" lang="en"><span class="hps">Message types</span> </span></h2>

<p><span id="result_box" lang="en"><span class="hps">Currently</span> <span class="hps">Firefox OS</span> <span class="hps">allows you to register</span> handlers for <span class="hps">the following messages</span><span>:</span></span></p>

<table class="standard-table">
 <thead>
  <tr>
   <th scope="col">Message type</th>
   <th scope="col">Handler signature</th>
   <th scope="col">Permission</th>
  </tr>
 </thead>
 <tbody>
  <tr>
   <td><code>activity</code></td>
   <td><code>f( <a href="/en-US/docs/Web/API/MozActivityRequestHandler" title="The documentation about this has not yet been written; please consider contributing!"><code>MozActivityRequestHandler</code></a> request )</code></td>
   <td> </td>
  </tr>
  <tr>
   <td><code>alarm</code></td>
   <td><code>f( object unknown )</code></td>
   <td>alarms</td>
  </tr>
  <tr>
   <td><code>bluetooth-cancel</code></td>
   <td><code>f( object unknown )</code></td>
   <td>bluetooth</td>
  </tr>
  <tr>
   <td><code>bluetooth-dialer-command</code></td>
   <td><code>f( object unknown )</code></td>
   <td>bluetooth</td>
  </tr>
  <tr>
   <td><code>bluetooth-hfp-status-changed</code></td>
   <td><code>f( object unknown )</code></td>
   <td>bluetooth</td>
  </tr>
  <tr>
   <td><code>bluetooth-opp-transfer-start</code></td>
   <td><code>f( object unknown )</code></td>
   <td>bluetooth</td>
  </tr>
  <tr>
   <td><code>bluetooth-opp-transfer-complete</code></td>
   <td><code>f( object unknown )</code></td>
   <td>bluetooth</td>
  </tr>
  <tr>
   <td><code>bluetooth-opp-receiving-file-confirmation</code></td>
   <td><code>f( object unknown )</code></td>
   <td>bluetooth</td>
  </tr>
  <tr>
   <td><code>bluetooth-opp-update-progress</code></td>
   <td><code>f( object unknown )</code></td>
   <td>bluetooth</td>
  </tr>
  <tr>
   <td><code>bluetooth-pairedstatuschanged</code></td>
   <td><code>f( object unknown )</code></td>
   <td>bluetooth</td>
  </tr>
  <tr>
   <td><code>bluetooth-pairing-request</code></td>
   <td><code>f( object unknown )</code></td>
   <td>bluetooth</td>
  </tr>
  <tr>
   <td><code>bluetooth-requestconfirmation</code></td>
   <td><code>f( object unknown )</code></td>
   <td>bluetooth</td>
  </tr>
  <tr>
   <td><code>bluetooth-requestpincode</code></td>
   <td><code>f( object unknown )</code></td>
   <td>bluetooth</td>
  </tr>
  <tr>
   <td><code>bluetooth-requestpasskey</code></td>
   <td><code>f( object unknown )</code></td>
   <td>bluetooth</td>
  </tr>
  <tr>
   <td><code>cdma-info-rec-received</code></td>
   <td>?</td>
   <td> </td>
  </tr>
  <tr>
   <td><code>connection</code></td>
   <td>?</td>
   <td>mobileconnection</td>
  </tr>
  <tr>
   <td><code>first-run-with-sim</code></td>
   <td>?</td>
   <td> </td>
  </tr>
  <tr>
   <td><code>headset-button</code></td>
   <td><code>f( object unknown )</code></td>
   <td> </td>
  </tr>
  <tr>
   <td><code>icc-stkcommand</code></td>
   <td><code>f( object command )</code></td>
   <td>settings</td>
  </tr>
  <tr>
   <td><code>networkstats-alarm</code></td>
   <td><code>f( object command )</code></td>
   <td>networkstats-manage</td>
  </tr>
  <tr>
   <td><code>nfc-hci-event-transaction</code></td>
   <td>?</td>
   <td>nfc</td>
  </tr>
  <tr>
   <td><code>nfc-manager-send-file</code></td>
   <td>?</td>
   <td>nfc</td>
  </tr>
  <tr>
   <td><code>nfc-manager-tech-discovered</code></td>
   <td>?</td>
   <td>nfc</td>
  </tr>
  <tr>
   <td><code>nfc-manager-tech-lost</code></td>
   <td>?</td>
   <td>nfc</td>
  </tr>
  <tr>
   <td><code>notification</code></td>
   <td><code>f( object unknown )</code></td>
   <td> </td>
  </tr>
  <tr>
   <td><code>push</code></td>
   <td><code>f( object <a href="/en-US/docs/WebAPI/Simple_Push#Add_the_push_message_handler">registration</a> )</code></td>
   <td><code>push</code></td>
  </tr>
  <tr>
   <td><code>push-register</code></td>
   <td><code>f (  )</code></td>
   <td><code>push</code></td>
  </tr>
  <tr>
   <td><code>sms-received</code></td>
   <td><code>f( <a href="/en-US/docs/Web/API/SmsMessage" title="The DOM MozSmsMessage object represents an SMS text message and has all the information about sender, recipient, body text and date of the message itself."><code>SmsMessage</code></a> sms )</code></td>
   <td style="white-space: nowrap;">sms</td>
  </tr>
  <tr>
   <td><code>sms-sent</code></td>
   <td><code>f( <a href="/en-US/docs/Web/API/SmsMessage" title="The DOM MozSmsMessage object represents an SMS text message and has all the information about sender, recipient, body text and date of the message itself."><code>SmsMessage</code></a> sms )</code></td>
   <td>sms</td>
  </tr>
  <tr>
   <td><code>telephony-call-ended</code></td>
   <td><code>f( object call )</code></td>
   <td>telephony</td>
  </tr>
  <tr>
   <td><code>telephony-new-call</code></td>
   <td><code>f( )</code></td>
   <td>telephony</td>
  </tr>
  <tr>
   <td><code>ussd-received</code></td>
   <td><code>f( object ussd )</code></td>
   <td>mobileconnection</td>
  </tr>
  <tr>
   <td><code>wappush-received</code></td>
   <td><code>f( object wappush )</code></td>
   <td>wappush</td>
  </tr>
  <tr>
   <td><code>wifip2p-pairing-request</code></td>
   <td><code>f ( object unknown )</code></td>
   <td>wifi-manage</td>
  </tr>
 </tbody>
</table>

<h2 id="Browser_Compatibility"><span class="short_text" id="result_box" lang="en"><span class="hps">Browser Compatibility</span></span></h2>

<div>Supported in Firefox OS 1.0.</div>

<h2 id="See_also">See also</h2>

<ul>
 <li><a href="/en-US/docs/Web/API/Window/navigator/mozHasPendingMessage" title="The documentation about this has not yet been written; please consider contributing!"><code>navigator.mozHasPendingMessage()</code></a></li>
 <li><a href="/en-US/docs/WebAPI/Web_Activities" title="/en-US/docs/WebAPI/Web_Activities">Web Activities</a></li>
 <li><a href="https://groups.google.com/forum/?fromgroups=#!topic/mozilla.dev.webapi/o8bkwx0EtmM" title="https://groups.google.com/forum/?fromgroups=#!topic/mozilla.dev.webapi/o8bkwx0EtmM">Discussion on the Mozilla WebAPI mailing list.</a></li>
</ul>