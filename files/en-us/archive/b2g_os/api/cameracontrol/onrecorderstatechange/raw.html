<p></p><section class="Quick_links" id="Quick_Links"><ol><li><strong><a href="/en-US/docs/Mozilla/Firefox_OS/API/Camera_API">Camera API</a></strong></li><li><strong><a href="/en-US/docs/Mozilla/Firefox_OS/API/Archive"><code>Archive</code></a></strong></li><li data-default-state="open"><a href="#"><strong>Related pages for Camera API</strong></a><ol><li><a href="/en-US/docs/Mozilla/Firefox_OS/API/CameraCapabilities"><code>CameraCapabilities</code></a></li><li><a href="/en-US/docs/Mozilla/Firefox_OS/API/CameraControl"><code>CameraControl</code></a></li><li><a href="/en-US/docs/Mozilla/Firefox_OS/API/CameraManager"><code>CameraManager</code></a></li></ol></li></ol></section><div class="warning">
    <p style="text-align: center;">This API is available on <a href="/en-US/docs/Mozilla/Firefox_OS">Firefox OS</a> for <a href="/en-US/docs/Mozilla/Firefox_OS/Security/Application_security#App_Types">privileged or certified applications</a> only.</p>
</div><p></p>

<h2 id="Summary">Summary</h2>

<p>The <code>onRecorderStateChange</code> property is used to set an event handler to listen to the recorder state change. This can happen either because the recording process encountered an error, or because one of the recording limits set with <a href="/en-US/docs/Web/API/CameraControl/startRecording" title="The documentation about this has not yet been written; please consider contributing!"><code>CameraControl.startRecording()</code></a> was reached.</p>

<h2 id="Syntax">Syntax</h2>

<pre>instanceOfCameraControl.<code>onRecorderStateChange = funcRef;</code></pre>

<p>Where <code>funcRef</code> is a function to be called when the recorder changes states.</p>

<p>This function takes one parameter, which is one of the following strings:</p>

<ul>
 <li><code>FileSizeLimitReached</code></li>
 <li><code>VideoLengthLimitReached</code></li>
 <li><code>MediaRecorderFailed</code></li>
 <li><code>MediaServerFailed</code></li>
 <li><code>TrackCompleted</code></li>
 <li><code>TrackFailed</code></li>
</ul>

<h2 id="Example">Example</h2>

<pre class="brush: js">// back or front camera
var whichCamera = navigator.mozCameras.getListOfCameras()[0];

var options = {
  mode: 'picture',
  recorderProfile: 'jpg',
  previewSize: {
    width: 352,
    height: 288
  }
};

function onSuccess( camera ) {
  var outputString = {
    FileSizeLimitReached   : "The file size has reached its limit",
    VideoLengthLimitReached: "The time limit for the video has been reached",
    MediaRecorderFailed    : "The recorder encountered an error",
    MediaServerFailed      : "The media source encountered an error",
    TrackCompleted         : "The recording ended nicely",
    TrackFailed            : "Something went wrong"
  };

  camera.onRecorderStateChange = function (value) {
    console.log(outputString[value]);
  }
};

navigator.mozCameras.getCamera(whichCamera, options, onSuccess)
</pre>

<h2 id="Specification" name="Specification">Specification</h2>

<p>Not part of any specification; however, this API should be removed when the <a class="external" href="http://dev.w3.org/2011/webrtc/editor/getusermedia.html" rel="external" title="http://dev.w3.org/2011/webrtc/editor/getusermedia.html">WebRTC Capture and Stream API</a> has been implemented.</p>

<h2 id="See_also">See also</h2>

<ul>
 <li><a href="/en-US/docs/Web/API/CameraCapabilities" title="The documentation about this has not yet been written; please consider contributing!"><code>CameraCapabilities</code></a></li>
 <li><a href="/en-US/docs/Web/API/CameraControl" title="The documentation about this has not yet been written; please consider contributing!"><code>CameraControl</code></a></li>
</ul>