<p></p><section class="Quick_links" id="Quick_Links"><ol><li><strong><a href="/en-US/docs/Mozilla/Firefox_OS/API/Web_Activities">Web Activities</a></strong></li><li><strong><a href="/en-US/docs/Mozilla/Firefox_OS/API/Archive"><code>Archive</code></a></strong></li><li data-default-state="open"><a href="#"><strong>Related pages for Web Activities</strong></a><ol><li><a href="/en-US/docs/Mozilla/Firefox_OS/API/MozActivity"><code>MozActivity</code></a></li><li><a href="/en-US/docs/Mozilla/Firefox_OS/API/MozActivityOptions"><code>MozActivityOptions</code></a></li><li><a href="/en-US/docs/Mozilla/Firefox_OS/API/MozActivityRequestHandler"><code>MozActivityRequestHandler</code></a></li></ol></li></ol></section><p></p>

<p></p><div class="warning">
    <p style="text-align: center;">This API is available on Firefox or <a href="/en-US/docs/Mozilla/Firefox_OS">Firefox OS</a> for <a href="/en-US/docs/Mozilla/Firefox_OS/Security/Application_security#App_Types">installed or higher privileged applications</a>.</p>
</div><p></p>

<h2 id="Summary">Summary</h2>

<p>The <code>MozActivityRequestHandler</code> interface allows apps that handle activities to access and interact with the request made by a third party app that tries to delegate an activity.</p>

<p>To handle activities, an application has to register a handler to the system message <code>activity </code>using <a href="/en-US/docs/Web/API/Window/navigator/mozSetMessageHandler" title="The documentation about this has not yet been written; please consider contributing!"><code>navigator.mozSetMessageHandler()</code></a>. The callback that is passed to <a href="/en-US/docs/Web/API/Window/navigator/mozSetMessageHandler" title="The documentation about this has not yet been written; please consider contributing!"><code>navigator.mozSetMessageHandler()</code></a> will be called with a <code>MozActivityHandler</code> object in parameter when the system message is of the type <code>activity</code>.</p>

<p>Be aware that you need to have <code>returnValue: true</code> set in your manifest file to return a result (see <a href="/en-US/docs/Mozilla/Firefox_OS/Firefox_OS_apps/Building_apps_for_Firefox_OS/Manifest#activities">manifest activities</a> for more information.) If there is no result to return, then you should just use <a href="/en-US/docs/Web/API/Window/close" title="The Window.close() method closes the current window, or the window on which it was called."><code>window.close()</code></a> to get rid of the handling window.</p>

<h2 id="Interface_overview">Interface overview</h2>

<pre>interface MozActivityRequestHandler
{
  readonly attribute MozActivityOptions source;

  void postResult(object result);
  void postError(DOMString error);
};</pre>

<h2 id="Properties">Properties</h2>

<dl>
 <dt><a href="/en-US/docs/Web/API/MozActivityRequestHandler/source" title="The documentation about this has not yet been written; please consider contributing!"><code>MozActivityRequestHandler.source</code></a> <span class="inlineIndicator readOnly readOnlyInline" title="This value may not be changed.">Read only </span></dt>
 <dd>A <a href="/en-US/docs/Web/API/MozActivityOptions" title="The documentation about this has not yet been written; please consider contributing!"><code>MozActivityOptions</code></a> object containing all the information about the current activity request.</dd>
</dl>

<h2 id="Methods">Methods</h2>

<dl>
 <dt><a href="/en-US/docs/Web/API/MozActivityRequestHandler/postResult" title="The documentation about this has not yet been written; please consider contributing!"><code>MozActivityRequestHandler.postResult()</code></a></dt>
 <dd>Allows to send back a success response to the app that initiated the activity.</dd>
 <dt><a href="/en-US/docs/Web/API/MozActivityRequestHandler/postError" title="The documentation about this has not yet been written; please consider contributing!"><code>MozActivityRequestHandler.postError()</code></a></dt>
 <dd>Allows to send back an error response to the app that initiated the activity.</dd>
</dl>

<h2 id="Specification">Specification</h2>

<p></p>

<h2 id="See_also">See also</h2>

<ul>
 <li><a href="/en-US/docs/Web/API/Window/navigator/mozSetMessageHandler" title="The documentation about this has not yet been written; please consider contributing!"><code>navigator.mozSetMessageHandler()</code></a></li>
 <li><a href="/en-US/docs/Web/API/MozActivity" title="The documentation about this has not yet been written; please consider contributing!"><code>MozActivity</code></a></li>
 <li><a href="/en-US/docs/Web/API/MozActivityOptions" title="The documentation about this has not yet been written; please consider contributing!"><code>MozActivityOptions</code></a></li>
 <li><a href="/en-US/docs/WebAPI/Web_Activities" title="/en-US/docs/WebAPI/Web_Activities">Web Activities</a></li>
</ul>