<p class="summary">Following this guide you're going to run Gaia inside of a special build of Firefox called Firefox Mulet. This gives you the advantages of having a rapid development cycle, as well as standard web development tools and debuggers available to work with. First of all, you need to have the <a class="external external-icon" href="https://github.com/mozilla-b2g/gaia">Gaia</a> repo cloned on your machine and build your own profile. Then, you have to install mulet and run it, passing your Gaia profile as the profile to use.</p>

<blockquote>
<p>Le <strong>mulet</strong> et la <strong>mule</strong> sont des <a href="https://fr.wikipedia.org/wiki/Hybride" title="Hybride">hybrides</a> statistiquement stériles de la famille des <a class="mw-redirect" href="https://fr.wikipedia.org/wiki/%C3%89quid%C3%A9" title="Équidé">équidés</a>, engendrés par un <a href="https://fr.wikipedia.org/wiki/%C3%82ne_commun" title="Âne commun">âne</a> (<em>Equus asinus</em>) et une <a href="https://fr.wikipedia.org/wiki/Jument" title="Jument">jument</a> (<em>Equus caballus</em>) - Wikipedia</p>
</blockquote>

<div class="note">
<p>According to <a href="https://wiki.mozilla.org/Mulet">the wiki</a>, "Mulet" comes the french word designating a "mule" and is spelled with only one l!</p>
</div>

<h2 id="How_can_I_get_it">How can I get it?</h2>

<p>As any other program, Mulet can be run from a precompiled package, and this is the easiest way for new users. Experienced ones, obviously, can always compile Mulet on their own to test new features and bugfixes. Except if you use the Single executable method, <u><strong>remember that you won't be able to run Mulet without a Gaia profile</strong></u>.</p>

<h2 id="Single_executable">Single executable</h2>

<p>This package was originally shared via <a href="https://discourse.mozilla-community.org/t/mulet-gaia-for-linux/10375">Discourse</a>. This is the fastest way to run Mulet for people who don't have knowledge of mulet and/or don't have high speed internet to clone the entire Gaia repository. <strong>The package contains Mulet and a precompiled Gaia profile</strong>, users don't need to compile anything.</p>

<ol>
 <li>Download the <a href="https://drive.google.com/file/d/0BwEhwFrol52LQmowQTR1V3gxWFk">Archive (94 Mb)</a></li>
 <li>Extract the archive</li>
 <li><code>Cd</code> to extracted folder</li>
 <li>Give permissions to <code>start.sh</code> file through terminal <code>chmod +x</code> or by right clicking on file &gt; permissions &gt; check allow executing file as program</li>
 <li>Now run the file <code>./start.sh</code> or by double clicking it</li>
</ol>

<div class="note">
<p><strong>Note:</strong> The executable was tested on <strong>Ubuntu 16.04 64 Bit</strong> and <strong>Arch Linux</strong> but it's likely to run on all linux distros.</p>
</div>

<ol>
</ol>

<div class="warning">
<p>If you're using <strong>Gnome 3 </strong>it's likely the script won't run from File. To avoid this, open Edit → Preferences. Select the 'Behavior' tab. Select "Ask each time" or "Run executable text files when they are opened" under "Executable Text Files". Close the window.</p>
</div>

<h2 id="Obtain_a_Gaia_profile">Obtain a Gaia profile</h2>

<p>As said before, if you don't use the Single executable, obtaining a Gaia profile is necessarily the first step. Only with a Gaia profile, you'll be able to - install before, and then - run Mulet. There are several ways to obtain a Gaia profile:</p>

<h3 id="Download_an_existing_profile">Download an existing profile</h3>

<p>First of all, <strong>you can download an existing profile</strong>, like this <a href="https://files.aufondagauche.fr/f/93064ed69a/" rel="nofollow">one</a>.</p>

<p>This is the fastest solution, since you'll only need to download around 50 Mb, but you're obviously getting the package as it is.</p>

<h3 id="Get_an_archive_from_the_repository">Get an archive from the repository</h3>

<p>If you want more control on the profile you're going to use, you can <strong>download an archive of the repository</strong> (it will be fast, since you<br>
 won't have the git history, but it will require a huge download):</p>

<pre><code>wget https://github.com/mozilla-b2g/gaia/archive/master.zip
unzip master.zip
mv gaia-master gaia</code></pre>

<h3 id="Grab_it_from_Git_and_compile_it">Grab it from Git and compile it</h3>

<p>The best way to have an <strong>update version of Gaia</strong> is to check it out from <a href="https://github.com/mozilla-b2g/gaia/">Github</a>:</p>

<pre>$ git clone https://github.com/mozilla-b2g/gaia.git</pre>

<p>Next, you need to <strong>build a profile</strong>:</p>

<pre>$ cd ~/gaia
$ make</pre>

<div class="note">
<p><strong>Compile is also the best way to obtain a custom version of Gaia</strong>. Further informations can be found in <a href="/en-US/docs/Mozilla/B2G_OS/Developing_Gaia">Developing Gaia Overview</a> and <a href="/en-US/docs/Mozilla/B2G_OS/Developing_Gaia/make_options_reference">Make option reference</a>.</p>
</div>

<h2 id="Installing_Mulet">Installing Mulet</h2>

<p>Once you have a Gaia profile, you only need to install Mulet itself, and then run it. Also for Mulet there are several ways to get the program working, some are simpler then others, and not all of those solutions are valid for all the OS', so please read carefully the description.</p>

<div class="note">
<p>If you're running <strong>Microsoft Windows</strong> or <strong>Mac OS</strong>, read the related paragraf or try with Docker.</p>
</div>

<h3 id="Docker">Docker</h3>

<p>Another way to get Mulet is using Docker, a software containerization platform. <em>"Docker containers wrap a piece of software in a complete filesystem that contains everything needed to run: code, runtime, system tools, system libraries – anything that can be installed on a server"</em> (<a href="http://www.docker.com/what-docker">Read more ...</a>). At least in theory, docker containers can run on all major Linux distributions, Mac OS and on Microsoft Windows. Since this docker image runs Firefox (a GUI application), it's not as portable as other docker images, but <strong>it should work at least on Mac OS</strong>. Even so, you can try it also an Microsoft Windows.</p>

<p>A <a href="https://github.com/EliotBerriot/mulet">Github project</a> was set up to make things easier, report bugs and improve the package. Even this package was originally shared via <a class="external external-icon" href="https://discourse.mozilla-community.org/t/installation-instructions-for-a-working-development-environment-on-linux/10378">Discourse</a>.</p>

<p>First of all, obtain a precompiled Gaia profile or create it on your own. If you don't know how to do that, <a href="/en-US/docs/Mozilla/B2G_OS/Mulet#Gaia_2">read below</a>.</p>

<p>Ensure you have <a href="https://docs.docker.com/compose/install/">Docker and docker-compose installed and working</a>.</p>

<p>After that, simply copy the <code>docker-compose.yml</code> file, and edit it to match your setup.</p>

<p>You should only have to edit the <code>/firefox-profile</code> volume line to make it work.</p>

<p>Once your docker-compose file is okay, run:</p>

<pre>$ docker-compose up</pre>

<h3 id="Precompiled_Binaries">Precompiled Binaries</h3>

<p>You can download Mulet precompiled binaries for 64-bit Linux from Mozilla's TaskCluster.  To obtain one:</p>

<ol>
 <li>Visit <a href="https://treeherder.mozilla.org/#/jobs?repo=mozilla-central&amp;filter-tier=3&amp;filter-searchStr=mulet">https://treeherder.mozilla.org/#/jobs?repo=mozilla-central&amp;filter-tier=3&amp;filter-searchStr=mulet</a></li>
 <li>Look through the list for an entry that says "<span class="th-view-content"><span class="col-xs-7 job-list job-list-pad"><span title="Mulet Linux x64 opt">Mulet Linux x64 opt"</span></span></span> with a green "B" next to it. If there aren't any, this means that Mulet is not compiling at present.  You can scroll to the bottom and click through to the next page to hopefully find a successful build.</li>
 <li>Click on the green "B" to make a panel at the bottom appear.</li>
 <li>Under the "Job Details" tab, look for <span><span>"<code>artifact uploaded: target.tar.bz2</code>".  Click the link to this file to download.</span></span></li>
 <li><span><span>Once the archive has downloaded, extract it somewhere.  It doesn't matter where.</span></span></li>
 <li>The <code>firefox-bin</code> binary in this folder can run mulet.  If you want you can add a symlink to it in your path.</li>
</ol>

<p>Finally, you can launch Mulet:</p>

<pre>$ path/to/mulet/firefox-bin --no-remote --devtools --profile ./profile
</pre>

<h3 id="Compile_Mulet_on_your_computer">Compile Mulet on your computer</h3>

<p>You can also compile Mulet on your own, from the source. On Taskcluster you can also find a <a href="https://tools.taskcluster.net/task-inspector/#V27Ekn-0RgulXRE8V60EBA/">script</a> to automate the process.</p>

<h3 id="Microsoft_Windows_and_Mac_OS">Microsoft Windows and Mac OS</h3>

<p>Microsoft Windows and Mac OS builds are available at <a class="external external-icon" href="https://ftp.mozilla.org/pub/mozilla.org/b2g/nightly/latest-mozilla-central/">Mozilla Central</a>. The Mulet builds are the packages whose names start with <strong><code>firefox-*</code></strong>, for example <code>firefox-36.0a1.en-US.mac64.dmg.</code></p>

<p>Once downloaded, install the Mulet build somewhere safe so that it doesn't overwrite your normal Firefox Nightly build. For example, on Mac OS X, create a new folder inside Applications called "mulet", and drag it into there.</p>

<p>Now run the Mulet build from the command line, passing it your Gaia profile as the profile to use when opening (signified by the <code>-profile</code> option.) For example, you could run something like this from inside your Applications folder on Mac OS X if you have it installed in there:</p>

<pre class="brush: bash line-numbers  language-bash"><code class="language-bash">./firefox/Contents/MacOS/firefox-bin -no-remote -profile /Users/my-home</code></pre>

<div class="note">
<p id="You_can_also_try_to_use_Docker_as_explained_above._Since_this_docker_image_runs_Firefox_(a_GUI_application)_it's_not_as_portable_as_other_docker_images_but_it_should_work_at_least_on_Mac_OS.">You can also try to use <strong>Docker</strong>, as explained <a href="/en-US/docs/Mozilla/B2G_OS/Mulet#Docker">above</a>. Since this docker image runs Firefox (a GUI application), it's not as portable as other docker images, but <strong>it should work at least on Mac OS</strong>.</p>
</div>

<h4 id="sect1"> </h4>

<h4 id="Manual_Installation_on_OSX">Manual Installation on OSX</h4>

<p>El Capitan (10.11.6) these are the steps:</p>

<ol>
 <li>Install Homebrew</li>
 <li>Install Node</li>
 <li>Install Node Version Manager</li>
 <li>Fetch the gaia code</li>
 <li>Make profile</li>
 <li>Make Mulet</li>
 <li>Execute Mulet</li>
</ol>

<h5 id="Install_Homebrew">Install Homebrew</h5>

<blockquote>
<p>$ xcode-select --install<br>
 $ ruby -e "$(curl -fsSL <a href="https://raw.githubusercontent.com/Homebrew/install/master/install" rel="nofollow">https://raw.githubusercontent.com/Homebrew/install/master/install</a>)"<br>
 $ brew update<br>
 Add this line to<br>
 export PATH="/usr/local/bin:$PATH"</p>
</blockquote>

<h5 id="Install_Node">Install Node</h5>

<blockquote>
<p>$ brew install node<br>
 $ node -v<br>
 $ npm -v</p>
</blockquote>

<h5 id="Install_Node_Version_Manager">Install Node Version Manager</h5>

<blockquote>
<p>$ brew install nvm</p>
</blockquote>

<p>make working directory for nvm:</p>

<blockquote>
<p>mkdir ~/.nvm'</p>
</blockquote>

<p>open the file:</p>

<blockquote>
<p>vim ~/.bash_profile</p>
</blockquote>

<p>type "i" on the keyboard so in the left lower corner --Insert-- apears<br>
 and add this line:</p>

<blockquote>
<p>export NVM_DIR="$HOME/.nvm”' '. "$(brew --prefix nvm)/nvm.sh"</p>
</blockquote>

<p>then press "esc" and "<strong>:wq</strong>" to escape insertion mode and <strong>w</strong>rite and <strong>q</strong>uite at the same time.</p>

<p>now check if version is taken with:</p>

<blockquote>
<p>nvm ls</p>
</blockquote>

<p>if that prints a few lines and the top one looks like this:</p>

<blockquote>
<p>-&gt; v4.4.7<br>
 system<br>
 default -&gt; 4.4.7 (-&gt; v4.4.7)<br>
 node -&gt; stable (-&gt; v4.4.7) (default)<br>
 stable -&gt; 4.4 (-&gt; v4.4.7) (default)<br>
 iojs -&gt; N/A (default)<br>
 lts/* -&gt; lts/argon (-&gt; N/A)<br>
 lts/argon -&gt; v4.5.0 (-&gt; N/A)</p>
</blockquote>

<p>If not in the list:</p>

<blockquote>
<p>$ nvm install 4.4.7</p>
</blockquote>

<p>Then use it (Should switch to it by default , see install info on your screen ) if it don't :</p>

<blockquote>
<p>$ nvm use 4.4.7</p>
</blockquote>

<p>then carry on...</p>

<h5 id="Fetch_the_Gaia_code">Fetch the Gaia code</h5>

<blockquote>
<p>$ cd Documents - or to the directory you would like to locate the mulet<br>
 :gaia 'user'$ git clone <a href="https://github.com/your-username/gaia.git" rel="nofollow">https://github.com/your-username/gaia.git</a> &amp;&amp; cd gaia ( you have to fork gaia before this step see github doc here <a href="https://help.github.com/articles/fork-a-repo/">Fork a repository</a> )<br>
 :gaia 'user'$ git remote add upstream <a href="https://github.com/mozilla-b2g/gaia" rel="nofollow">https://github.com/mozilla-b2g/gaia</a><br>
 :gaia 'user'$ npm config set python python2<br>
 :gaia 'user'$ make</p>
</blockquote>

<h5 id="Make_profile">Make profile</h5>

<blockquote>
<p>:gaia 'user'$ make profile</p>
</blockquote>

<h5 id="Make_Mulet">Make Mulet</h5>

<blockquote>
<p>:gaia 'user'$ make mulet</p>
</blockquote>

<h5 id="Execute_Mulet">Execute Mulet</h5>

<blockquote>
<p>:gaia 'user'$ Firefox/Contents/MacOS/firefox-bin -no-remote -profile profile/</p>
</blockquote>

<h2 id="Using_Mulet"><strong>Using Mulet</strong></h2>

<p><img alt="" src="https://mdn.mozillademos.org/files/13767/Screenshot%20from%202016-08-19%2020-08-44.png" style="height: 569px; width: 1086px;"></p>

<p>On the display you've got the standard Firefox <a href="/en-US/docs/Tools/Tools_Toolbox">Toolbox</a> available for debugging your apps, plus an emulation of B2G OS running on the left hand side, and a number of other tools useful to the Gaia context. The controls above the emulator allow you to:</p>

<ul>
 <li>Choose different screen sizes for the emulator (this is basically <a href="/en-US/docs/Tools/Responsive_Design_View">Responsive Design View</a>).</li>
 <li>Rotate the emulator screen.</li>
 <li>Turn touch event simulation on and off (if turned off, you can't use the mouse to drag the UI and open apps.)</li>
 <li>Take screenshots.</li>
</ul>

<h2 id="Further_references">Further references</h2>

<ul>
 <li><a href="/en-US/docs/Mozilla/B2G_OS/Developing_Gaia/Different_ways_to_run_Gaia#Using_Gaia_in_Firefox_Mulet">Using Gaia in Firefox Mulet</a></li>
 <li><a href="https://wiki.mozilla.org/Mulet">Wiki page</a></li>
 <li>Dedicated Discourse topics:
  <ul>
   <li><a href="https://discourse.mozilla-community.org/t/what-about-mulet/8384">What about Mulet</a></li>
   <li><a href="https://discourse.mozilla-community.org/t/using-mulet-on-linux/9437/">Using Mulet on Linux</a></li>
   <li><a href="https://discourse.mozilla-community.org/t/theres-no-win-version-for-mulet-49/9394">There's no Win version of Firefox Mulet</a></li>
   <li><a href="https://discourse.mozilla-community.org/t/installation-instructions-for-a-working-development-environment-on-linux/10378/13">Installation instructions for a working development environment on linux</a></li>
  </ul>
 </li>
</ul>