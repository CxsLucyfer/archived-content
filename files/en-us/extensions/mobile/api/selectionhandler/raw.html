<div class="note">
 The SelectionHandler object is only available to privileged code running on <a href="/en/Mozilla/Firefox_for_Android" title="https://developer.mozilla.org/en/Mozilla/Firefox_for_Android">Firefox for Android</a>, and is intended for use by Firefox for Android add-ons.</div>
<p>The SelectionHandler object enables Firefox for Android add-ons to add things to the text selection ActionMode. These items will also be shown when just the Android cursor is shown (i.e. text is not necessarily selected). Use SelectionHandler.isSelectionActive(); in your selector you should ensure that your action only shows when appropriate.</p>
<p><code>SelectionHandler</code> is available as a property of the chrome <code>window</code> object. For example, if you use this template for initializing your extension, you can access it from the <code>window</code> argument passed into <code>loadIntoWindow()</code>:</p>
<pre class="brush: js">function loadIntoWindow(window) {
  if (!window)
    return;

  window.SelectionHandler.addAction({
    label: "My action",
    icon: "chrome://myaddon/action.png",
    action: function() { alert("Foo"); },
    selector: {
      matches: function() { return true; }
    }
  });
}
</pre>
<h2 id="addAction">addAction</h2>
<p>Add items to the text selection menu in Firefox for Android.</p>
<pre class="brush:js;">SelectionHandler.addAction({
    label: "My action",
    icon: "chrome://myaddon/action.png",
    action: function() { alert("Foo"); },
    selector: {
        matches: function() { return true; }
    },
    showAsAction: true,
});

</pre>
<h5 id="Parameters">Parameters</h5>
<p>Options</p>
<dl>
 <dt>
  id</dt>
 <dd>
  An optional id for the item. If you don't pass one of these in, a guid will be generated and given to you.</dd>
 <dt>
  label</dt>
 <dd>
  An optional name for this item to be displayed as a hint when the action bar item is long-pressed.</dd>
 <dt>
  icon</dt>
 <dd>
  An optional icon for the item. If you don't specify an icon, the item will always show in the overflow menu.</dd>
<dt>
  order</dt>
 <dd>
  An optional integer for determining order of the item in the action bar. Higher order values are listed first. If no order is specified, the item will be assigned an order of 0.</dd>
 <dt>
  action</dt>
 <dd>
  A function that will be called when the item is clicked. The currently focused element will be passed to it.</dd>
 <dt>
  selector</dt>
 <dd>
  An object with a matches function that's called whenever text selection action modes are shown/updated. This may be called if the android cursor is going to be shown as well (i.e. don't assume that something is selected!). Defaults to true.</dd>
 <dt>
  showAsAction</dt>
 <dd>
  Either a boolean or a function that returns true or false if the item CAN be shown as an action icon. Even if you request to be shown as an action, it may not be if the bar is already full. Defaults to true.</dd>
</dl>
<h5 id="Returns">Returns</h5>
<p>Returns this id of the added item. If you passed in an id, it will be returned. Otherwise, you'll get an autogenerated guid</p>
<h2 id="removeAction">removeAction</h2>
<p>Remove items from the text selection menu in Firefox for Android.</p>
<pre class="brush:js;">SelectionHandler.addAction(id);
</pre>
<h5 id="Options">Options</h5>
<dl>
 <dt>
  id</dt>
 <dd>
  The id of the item to remove</dd>
</dl>
<h2 id="isSelectionActive">isSelectionActive</h2>
<pre class="brush:js;">SelectionHandler.isSelectionActive();</pre>
<h5 id="Returns_2">Returns</h5>
<p>Return true if something is selected.</p>