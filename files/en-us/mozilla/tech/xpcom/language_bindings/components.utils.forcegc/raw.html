<p></p>
<p><code><a href="/en-US/docs/Components.utils">Components.utils</a>.forceGC</code> lets scripts force a garbage collection cycle. The Mozilla JavaScript engine will perform garbage collection automatically when the JavaScript heap grows beyond a certain size. This mechanism doesn't account for any native (C++) XPCOM objects hanging off JavaScript objects though. In many cases a JavaScript application will have internal knowledge of JavaScript objects referencing large (trees of) XPCOM objects and know when they are no longer reachable. In this case it can be important to be able to force a garbage collection cycle from JavaScript.</p>
<p>Another instance where it can be useful to force garbage collection is before cleaning out dead reference from a hash of weak JavaScript references.</p>
<p>Users should note that garbage collection is a very expensive operation and should only be forced when it is <strong>known</strong> to be absolutely necessary.</p>
<div class="note">
 <strong>Note</strong>: <code><a href="https://developer.mozilla.org/en-US/docs/XPCOM_Interface_Reference/nsIDOMWindowUtils#garbageCollect()">nsIDOMWindowUtils.garbageCollect()</a></code> offers similar functionality but will trigger the cycle collector in addition to the garbage collector in the JavaScript engine. This will make sure that XPCOM components that build cycles with JavaScript objects also get collected which might be important, for example for testcases that depend on the garbage collector.</div>
<p>Requires <code>UniversalXPConnect</code> privileges.</p>
<p>If you want to schedule garbage collection to occur in the future, at a time when noÂ JavaScript code is running, you can use <a href="/en/Components.utils.schedulePreciseGC" title="en/Components.utils.schedulePreciseGC"><code>Components.utils.schedulePreciseGC()</code></a> instead.</p>