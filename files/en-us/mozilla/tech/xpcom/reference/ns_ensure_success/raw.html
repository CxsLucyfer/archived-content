<h3 id="Summary"> Summary </h3>
<p><b>Macro</b>
</p><p>Returns <i>return-value</i> if <a href="en/NS_FAILED">NS_FAILED</a>(<i>nsresult</i>) evaluates to <b>true</b>, and shows a warning on stderr in that case.
</p>
<h3 id="Syntax"> Syntax </h3>
<pre>NS_ENSURE_SUCCESS(nsresult, return-value);
</pre>
<p><br>
</p>
<h3 id="Usage"> Usage </h3>
<pre>nsresult mozMyClass::MozStringMucking()
{
  nsresult rv = NS_CStringCopy(mDestString, mSrcString);
  NS_ENSURE_SUCCESS(rv, rv);

  // this is the same as doing:
  nsresult rv = NS_CStringCopy(mDestString, mSrcString);
  if (NS_FAILED(rv))
    return rv;

  return NS_OK;
}
</pre>