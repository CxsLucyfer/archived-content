<div class="note">
<p>Draft: This page is not complete.</p>
</div>

<p>This is a page for documenting the notifications in Instantbird and Thunderbird. This is likely out of date. Notifications are grouped by interface you need to attach the observer to.</p>

<h2 id="nsIObserverService">nsIObserverService</h2>

<table class="standard-table">
 <thead>
  <tr>
   <th scope="col">Topic</th>
   <th scope="col">Subject</th>
   <th scope="col">Data</th>
   <th scope="col">Added</th>
   <th scope="col">Removed</th>
   <th scope="col">Comment</th>
  </tr>
 </thead>
 <tbody>
  <tr>
   <td>account-added</td>
   <td><a href="http://mxr.mozilla.org/comm-central/source/chat/components/public/imIAccount.idl">imIAccount</a></td>
   <td>null</td>
   <td>&lt;1.0</td>
   <td> </td>
   <td>a new account has been created</td>
  </tr>
  <tr>
   <td>account-connected</td>
   <td>imIAccount</td>
   <td>null</td>
   <td>&lt;1.0</td>
   <td> </td>
   <td>the account has connected</td>
  </tr>
  <tr>
   <td>account-connecting</td>
   <td>imIAccount</td>
   <td>null</td>
   <td>&lt;1.0</td>
   <td> </td>
   <td>the account has started a connection attempt</td>
  </tr>
  <tr>
   <td>account-connect-error</td>
   <td>imIAccount</td>
   <td>null</td>
   <td>&lt;1.0</td>
   <td> </td>
   <td>the account has disconnecting with an error</td>
  </tr>
  <tr>
   <td>account-connect-progress</td>
   <td>imIAccount</td>
   <td>null</td>
   <td>&lt;1.0</td>
   <td> </td>
   <td>the account is attempting to connect</td>
  </tr>
  <tr>
   <td>account-disconnected</td>
   <td>imIAccount</td>
   <td>null</td>
   <td>&lt;1.0</td>
   <td> </td>
   <td>the account has disconnected</td>
  </tr>
  <tr>
   <td>account-disconnecting</td>
   <td>imIAccount</td>
   <td>null</td>
   <td>&lt;1.0</td>
   <td> </td>
   <td>the account is disconnecting without an error reason</td>
  </tr>
  <tr>
   <td>account-list-updated</td>
   <td><a href="http://mxr.mozilla.org/comm-central/source/chat/components/public/imIAccountsService.idl">imIAccountsService</a></td>
   <td>null</td>
   <td>&lt;1.0</td>
   <td> </td>
   <td>the list of accounts has been updated</td>
  </tr>
  <tr>
   <td>account-removed</td>
   <td>imIAccount</td>
   <td>null</td>
   <td>&lt;1.0</td>
   <td> </td>
   <td>an account is about to be removed</td>
  </tr>
  <tr>
   <td>account-updated</td>
   <td>imIAccount</td>
   <td>null</td>
   <td>&lt;1.0</td>
   <td> </td>
   <td> </td>
  </tr>
  <tr>
   <td>app-handler-pane-loaded</td>
   <td>nsIDOMWindow</td>
   <td>null</td>
   <td>&lt;1.0</td>
   <td> </td>
   <td>Applications pane in preferences window is loaded</td>
  </tr>
  <tr>
   <td>autologin-processed</td>
   <td><a href="http://mxr.mozilla.org/comm-central/source/chat/components/public/imICoreService.idl">imICoreService</a></td>
   <td>null</td>
   <td>&lt;1.0</td>
   <td> </td>
   <td>imICoreService::processAutoLogin() is complete</td>
  </tr>
  <tr>
   <td>browser-request</td>
   <td><a href="http://mxr.mozilla.org/comm-central/source/chat/components/public/prplIRequest.idl">prplIRequestBrowser</a></td>
   <td>null</td>
   <td>&lt;1.0</td>
   <td> </td>
   <td>Used by protocol plugins to bring up a browser window (e.g. for an OAuth request)</td>
  </tr>
  <tr>
   <td>closing-conversation</td>
   <td>prplIConversation</td>
   <td>null</td>
   <td>&lt;1.0</td>
   <td> </td>
   <td> </td>
  </tr>
  <tr>
   <td>contact-moved</td>
   <td>imIContactsService<br>
    imIContact</td>
   <td>null</td>
   <td>&lt;1.0</td>
   <td> </td>
   <td>when a contact has been moved (removed from one tag, added to another, or both)</td>
  </tr>
  <tr>
   <td>contact-tag-added</td>
   <td>imIContact</td>
   <td>tag.id</td>
   <td>&lt;1.0</td>
   <td> </td>
   <td>when a tag is added to a contact</td>
  </tr>
  <tr>
   <td>contact-tag-removed</td>
   <td>imIContact</td>
   <td>tag.id</td>
   <td>&lt;1.0</td>
   <td> </td>
   <td>when a tag is removed from a contact</td>
  </tr>
  <tr>
   <td>conversation-closed</td>
   <td><a href="http://mxr.mozilla.org/comm-central/source/chat/components/public/imIConversationsService.idl">prplIConversation </a></td>
   <td>null</td>
   <td>&lt;1.0</td>
   <td> </td>
   <td>conversation going away</td>
  </tr>
  <tr>
   <td>conversation-left-chat</td>
   <td>prplIConversation</td>
   <td>null</td>
   <td>&lt;1.0</td>
   <td> </td>
   <td>the user has left the conversation (but it might remain visible)</td>
  </tr>
  <tr>
   <td>conversation-loaded</td>
   <td>nsISupports</td>
   <td>null or details</td>
   <td>&lt;1.0</td>
   <td> </td>
   <td>subject is a &lt;browser type="content-conversation"&gt;, if fired because an existing conversation is moved from one window to another, the data parameter ("details") will contain the string "imported".</td>
  </tr>
  <tr>
   <td>im-sent</td>
   <td>prplIConversation</td>
   <td>message text</td>
   <td>&lt;1.0</td>
   <td> </td>
   <td>on sending an IM (whether or not it succeeded)</td>
  </tr>
  <tr>
   <td>new-text</td>
   <td>purpleMessage</td>
   <td>null</td>
   <td>&lt;1.0</td>
   <td>1.2</td>
   <td>A new message will be written to a conversation. This can be an incoming, outgoing or system message.</td>
  </tr>
  <tr>
   <td>new-conversation</td>
   <td>prplIConversation</td>
   <td>null</td>
   <td>&lt;1.0</td>
   <td> </td>
   <td>conversation created</td>
  </tr>
  <tr>
   <td>new-ui-conversation</td>
   <td>imIConversation</td>
   <td>null</td>
   <td>&lt;1.0</td>
   <td> </td>
   <td> </td>
  </tr>
  <tr>
   <td>prpl-quit</td>
   <td>imICoreService</td>
   <td>null</td>
   <td>1.2</td>
   <td> </td>
   <td>Core shutdown, was previously purple-quit</td>
  </tr>
  <tr>
   <td>status-changed</td>
   <td>imICoreService</td>
   <td>status text</td>
   <td>&lt;1.0</td>
   <td> </td>
   <td>user (not buddy) status change</td>
  </tr>
  <tr>
   <td>tag-hidden</td>
   <td><a href="http://mxr.mozilla.org/comm-central/source/chat/components/public/imITagsService.idl">imITag</a></td>
   <td>null</td>
   <td>&lt;1.0</td>
   <td> </td>
   <td>fired when a tag is hidden</td>
  </tr>
  <tr>
   <td>tag-shown</td>
   <td>imITag</td>
   <td>null</td>
   <td>&lt;1.0</td>
   <td> </td>
   <td>fired when a tag is set to be shown (unhiding it)</td>
  </tr>
  <tr>
   <td>ui-conversation-closed</td>
   <td> </td>
   <td>null</td>
   <td>&lt;1.0</td>
   <td> </td>
   <td> </td>
  </tr>
  <tr>
   <td>unread-im-count-changed</td>
   <td>null</td>
   <td>count of unread messages</td>
   <td>&lt;1.0</td>
   <td> </td>
   <td>fired when the number of unread messages changes</td>
  </tr>
 </tbody>
</table>

<h2 id="imIBuddy">imIBuddy</h2>

<table class="standard-table">
 <thead>
  <tr>
   <th scope="col">Topic</th>
   <th scope="col">Subject</th>
   <th scope="col">Data</th>
   <th scope="col">Added</th>
   <th scope="col">Removed</th>
   <th scope="col">Notes</th>
  </tr>
 </thead>
 <tbody>
  <tr>
   <td>account-buddy-availability-changed</td>
   <td><a href="https://dxr.mozilla.org/comm-central/source/chat/components/public/imIContactsService.idl">prplIAccountBuddy</a></td>
   <td>null</td>
   <td>&lt;1.0</td>
   <td> </td>
   <td>Possibly fired on account buddy status change</td>
  </tr>
  <tr>
   <td>account-buddy-display-name-changed</td>
   <td>imIContactsService<br>
    imIAccountBuddy</td>
   <td>old serverAlias</td>
   <td>&lt;1.0</td>
   <td> </td>
   <td>Fired when setting imIAccountBuddy::serverAlias</td>
  </tr>
  <tr>
   <td>account-buddy-icon-changed</td>
   <td>imIAccountBuddy</td>
   <td>null</td>
   <td>&lt;1.0</td>
   <td> </td>
   <td>Fired when setting imIAccountBuddy::buddyIconFilename</td>
  </tr>
  <tr>
   <td>account-buddy-signed-off</td>
   <td>imIAccountBuddy</td>
   <td>null</td>
   <td>&lt;1.0</td>
   <td> </td>
   <td>Possibly fired on account buddy status change</td>
  </tr>
  <tr>
   <td>account-buddy-signed-on</td>
   <td>imIAccountBuddy</td>
   <td>null</td>
   <td>&lt;1.0</td>
   <td> </td>
   <td>Possibly fired on account buddy status change</td>
  </tr>
  <tr>
   <td>account-buddy-status-changed</td>
   <td>imIAccountBuddy</td>
   <td>null</td>
   <td>&lt;1.0</td>
   <td> </td>
   <td>Possibly fired on account buddy status change</td>
  </tr>
  <tr>
   <td>buddy-added</td>
   <td><a href="https://dxr.mozilla.org/comm-central/source/chat/components/public/imIContactsService.idl">imIBuddy</a></td>
   <td>null</td>
   <td>&lt;1.0</td>
   <td> </td>
   <td>In response to account-buddy-added if the buddy previously had no account buddies</td>
  </tr>
  <tr>
   <td>buddy-availability-changed</td>
   <td>imIBuddy</td>
   <td>null</td>
   <td>&lt;1.0</td>
   <td> </td>
   <td>possibly fired on imIBuddy status updates</td>
  </tr>
  <tr>
   <td>buddy-display-name-changed</td>
   <td>imIBuddy</td>
   <td>old serverAlias</td>
   <td>&lt;1.0</td>
   <td> </td>
   <td>possibly in response to account-buddy-display-name-changed on the preferred account</td>
  </tr>
  <tr>
   <td>buddy-preferred-account-changed</td>
   <td>imIContactsService<br>
    imIBuddy</td>
   <td>null</td>
   <td>&lt;1.0</td>
   <td> </td>
   <td>when setting imIBuddy::preferredAccountBuddy (internally)</td>
  </tr>
  <tr>
   <td>buddy-removed</td>
   <td>imIBuddy</td>
   <td>null</td>
   <td>&lt;1.0</td>
   <td> </td>
   <td>In response to account-buddy-removed if the buddy no longer has any account buddies</td>
  </tr>
  <tr>
   <td>buddy-signed-off</td>
   <td>imIBuddy</td>
   <td>null</td>
   <td>&lt;1.0</td>
   <td> </td>
   <td>possibly fired on imIBuddy status updates</td>
  </tr>
  <tr>
   <td>buddy-signed-on</td>
   <td>imIBuddy</td>
   <td>null</td>
   <td>&lt;1.0</td>
   <td> </td>
   <td>possibly fired on imIBuddy status updates</td>
  </tr>
  <tr>
   <td>buddy-status-changed</td>
   <td>imIBuddy</td>
   <td>null</td>
   <td>&lt;1.0</td>
   <td> </td>
   <td>possibly fired on imIBuddy status updates</td>
  </tr>
 </tbody>
</table>

<h2 id="imIContact">imIContact</h2>

<p>Note: all imIContact notifications also go to any imITag it belongs to, as well as nsIObserverService.</p>

<table class="standard-table">
 <thead>
  <tr>
   <th scope="col">Topic</th>
   <th scope="col">Subject</th>
   <th scope="col">Data</th>
   <th scope="col">Added</th>
   <th scope="col">Removed</th>
   <th scope="col">Notes</th>
  </tr>
 </thead>
 <tbody>
  <tr>
   <td>contact-added</td>
   <td>imIContact</td>
   <td>null</td>
   <td>&lt;1.0</td>
   <td> </td>
   <td>When a new buddy is created with no other contact</td>
  </tr>
  <tr>
   <td>contact-availability-changed</td>
   <td>imIContact</td>
   <td>null</td>
   <td>&lt;1.0</td>
   <td> </td>
   <td>Possibly fired on contact status updates</td>
  </tr>
  <tr>
   <td>contact-display-name-changed</td>
   <td>imIContact</td>
   <td>null</td>
   <td>&lt;1.0</td>
   <td> </td>
   <td>Fired on setting imIContact::Alias or imIContact::preferredBuddy, or the preferred buddy's display name changed</td>
  </tr>
  <tr>
   <td>contact-no-longer-dummy</td>
   <td>imIContact</td>
   <td>null</td>
   <td>&lt;1.0</td>
   <td> </td>
   <td>Fired when a contact is being loaded?</td>
  </tr>
  <tr>
   <td>contact-preferred-buddy-changed</td>
   <td>imIContact</td>
   <td>null</td>
   <td>&lt;1.0</td>
   <td> </td>
   <td>Fired on setting imIContact::preferredBuddy</td>
  </tr>
  <tr>
   <td>contact-removed</td>
   <td>imIContact</td>
   <td>null</td>
   <td>&lt;1.0</td>
   <td> </td>
   <td>When the last buddy for the contact is removed</td>
  </tr>
  <tr>
   <td>contact-signed-off</td>
   <td>imIContact</td>
   <td>null</td>
   <td>&lt;1.0</td>
   <td> </td>
   <td>Possibly fired on contact status updates</td>
  </tr>
  <tr>
   <td>contact-signed-on</td>
   <td>imIContact</td>
   <td>null</td>
   <td>&lt;1.0</td>
   <td> </td>
   <td>Possibly fired on contact status updates</td>
  </tr>
  <tr>
   <td>contact-status-changed</td>
   <td>imIContact</td>
   <td>null</td>
   <td>&lt;1.0</td>
   <td> </td>
   <td>Possibly fired on contact status updates</td>
  </tr>
 </tbody>
</table>

<h2 id="imITag"><span class="mw-headline">imITag</span></h2>

<table class="standard-table">
 <thead>
  <tr>
   <th scope="col">Topic</th>
   <th scope="col">Subject</th>
   <th scope="col">Data</th>
   <th scope="col">Added</th>
   <th scope="col">Removed</th>
   <th scope="col">Notes</th>
  </tr>
 </thead>
 <tbody>
  <tr>
   <td>contact-moved-in</td>
   <td>imIContact</td>
   <td>null</td>
   <td>&lt;1.0</td>
   <td> </td>
   <td>When a contact has been moved into the tag</td>
  </tr>
  <tr>
   <td>contact-moved-out</td>
   <td>imIContact</td>
   <td>null</td>
   <td>&lt;1.0</td>
   <td> </td>
   <td>When a contact has been moved out of the tag</td>
  </tr>
  <tr>
   <td>tag-hidden</td>
   <td>imIContact</td>
   <td>null</td>
   <td>&lt;1.0</td>
   <td> </td>
   <td>fired when a tag is hidden</td>
  </tr>
  <tr>
   <td>tag-shown</td>
   <td>imIContact</td>
   <td>null</td>
   <td>&lt;1.0</td>
   <td> </td>
   <td>fired when a tag is set to be shown (unhiding it)</td>
  </tr>
 </tbody>
</table>

<h2 id="prplIConversation"><span class="mw-headline">prplIConversation</span></h2>

<table class="standard-table">
 <thead>
  <tr>
   <th scope="col">Topic</th>
   <th scope="col">Subject</th>
   <th scope="col">Data</th>
   <th scope="col">Added</th>
   <th scope="col">Removed</th>
   <th scope="col">Notes</th>
  </tr>
 </thead>
 <tbody>
  <tr>
   <td>chat-buddy-add</td>
   <td>nsISimpleEnumerator</td>
   <td>null</td>
   <td>&lt;1.0</td>
   <td> </td>
   <td>When users join a chat. The enumerator elements are prplIConvChatBuddy.</td>
  </tr>
  <tr>
   <td>chat-buddy-removed</td>
   <td>nsISimpleEnumerator</td>
   <td>null</td>
   <td>&lt;1.0</td>
   <td> </td>
   <td>When chat buddies leave a chat. The enumerator elements are nsISupportsString of the user name.</td>
  </tr>
  <tr>
   <td>chat-buddy-update</td>
   <td><a href="https://dxr.mozilla.org/comm-central/source/chat/components/public/prplIConversation.idl">prplIConvChatBuddy</a></td>
   <td>old name, if the chat buddy is being renamed</td>
   <td>&lt;1.0</td>
   <td> </td>
   <td>data is null if this is not a rename</td>
  </tr>
  <tr>
   <td>chat-buddy-topic</td>
   <td>null</td>
   <td>null</td>
   <td>&lt;1.0</td>
   <td> </td>
   <td>The chat topic was updated</td>
  </tr>
  <tr>
   <td>new-text</td>
   <td><a href="https://dxr.mozilla.org/comm-central/source/chat/components/public/prplIMessage.idl">prplIMessage</a></td>
   <td>null</td>
   <td>&lt;1.0</td>
   <td> </td>
   <td>A new message will be written to a conversation. This can be an incoming, outgoing or system message. Subject was purpleIMessage until 1.2.</td>
  </tr>
  <tr>
   <td>update-buddy-status</td>
   <td>null</td>
   <td>null</td>
   <td>&lt;1.0</td>
   <td> </td>
   <td>away-ness or online/offline</td>
  </tr>
  <tr>
   <td>update-conv-chatleft</td>
   <td>null</td>
   <td>null</td>
   <td>&lt;1.0</td>
   <td> </td>
   <td>the user has left the chat (it might remain visible)</td>
  </tr>
  <tr>
   <td>update-conv-title</td>
   <td>null</td>
   <td>null</td>
   <td>&lt;1.0</td>
   <td> </td>
   <td> </td>
  </tr>
  <tr>
   <td>update-typing</td>
   <td>null</td>
   <td>null</td>
   <td>&lt;1.0</td>
   <td> </td>
   <td> </td>
  </tr>
 </tbody>
</table>

<p> </p>