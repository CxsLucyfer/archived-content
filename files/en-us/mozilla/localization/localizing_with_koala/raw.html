
<h2 id="Introduction">Introduction</h2>
<p>This tutorial will guide you through making a couple of changes to Firefox's user interface using Koala, an add-on for Komodo Edit created to help localizing Mozilla. </p>
<p>For the purposes of this tutorial, the locale code that we will use will be called "x-testing". In a real-life situation, that would become for example "de" (for German) or "es-ES" (for Spanish in Spain). Translating to x-testing will basically consist of converting any strings to uppercase, for example "File" in original version (en-US) will become "FILE" in x-testing.</p>
<p>We will translate a small piece of the UI found in the search bar. The search bar is next to the right of the location bar, and by default points to the Google search. If you click on the highlighted arrow pointing down while reading this tutorial on MDC, you will see two string that need to be translated:</p>
<ul> <li>Add "MDC Search"</li> <li>Manage Search Engines...</li>
</ul>
<p>There is also a tooltip that appears when you hover over the magnifying glass icon on the right side of the bar. </p>
<p><img alt="SS-2009.11.23-14.25.04.png" class="internal default" src="/@api/deki/files/3899/=SS-2009.11.23-14.25.04.png"></p>
<h2 id="Requirements">Requirements</h2>
<ul> <li>Mercurial,</li> <li>Linux, Windows or Mac OS X.</li>
</ul>
<h2 id="Instructions">Instructions</h2>
<h3 id="Preparation">Preparation</h3>
<ol> <li>Install <a class=" external" href="http://www.activestate.com/komodo_edit/" title="http://www.activestate.com/komodo_edit/">Komodo Edit</a>.</li> <li>Install Koala extension. <ol> <li>Go to <code>Tools &gt; Add-ons</code>.</li> <li>Search for "Koala".</li> <li>Click <code>Add to Komodo Edit...</code><br> <img alt="Add-ons-2009.11.22-12.24.59.png" class="internal default" src="/@api/deki/files/3866/=Add-ons-2009.11.22-12.24.59.png"></li> <li>Restart Komodo when the installation is complete.</li> <li>You should see a new button in Komodo's toolbar, with two options: Startpage and Management.<br> <img alt="Start_Page_-_Komodo_Edit_5.2-2009.11.22-12.26.00.png" class="internal default" src="/@api/deki/files/3867/=Start_Page_-_Komodo_Edit_5.2-2009.11.22-12.26.00.png"><br> Before you can use them, you need to create a new Koala project.</li> </ol> </li>
</ol>
<h3 id="Creating_a_new_project">Creating a new project</h3>
<ol> <li>Create a new Koala project by going to File &gt; New &gt; New Project From Template... <img alt="New_Project-2009.11.22-12.32.18.png" class="internal default" src="/@api/deki/files/3868/=New_Project-2009.11.22-12.32.18.png"> <ol> <li>Choose "koala" in the Categories list.</li> <li>Choose "koala" in the Templates list.</li> <li>Choose a name for your project (e.g. l10n.kpf).</li> <li>Choose the directory in which the project will live in (e.g. <code>C:\mozilla\l10n</code> on Windows, <code>/home/user/mozilla/l10n</code> on Linux or <code>/Users/user/mozilla/l10n</code> on Mac OS X). <ol> <li>Due to a bug in Koala (<a class=" link-https" href="https://www.mozdev.org/bugs/show_bug.cgi?id=21930" title="https://www.mozdev.org/bugs/show_bug.cgi?id=21930">bug 21930</a>), it is recommended that you don't choose a path that contains spaces (like <strike><code>C:\Documents and Settings\user\...</code></strike>).</li> </ol> </li> <li>Click "Open" to create the project.</li> <li>Koala will check for Mercurial. Make sure that your Mercurial installation is in your system's $PATH.</li> <li>Setup wizard will open.</li> </ol> </li>
</ol>
<h4 id="Configure_the_Application">Configure the Application<br>
<img alt="Application-2009.11.22-12.43.31.png" class="internal default" src="/@api/deki/files/3869/=Application-2009.11.22-12.43.31.png"></h4>
<ol> <li>Choose "Firefox" as the application.</li> <li>Version: 3.6.</li> <li>Appname: browser.</li> <li>Included locale: en-US (this is the original locale you're translating from).</li> <li>Leave Location empty for now.</li> <li>Check the "Mercurial" checkbox. <ol> <li>Note that you don't have to edit the Location field, it automatically fills in when you check the "Mercurial" checkbox: "C:\mozilla\l10n\application\Firefox\3.6".</li> <li>URL: <a class=" external" href="http://hg.mozilla.org/releases/mozilla-1.9.2" rel="freelink">http://hg.mozilla.org/releases/mozilla-1.9.2</a>.</li> <li>Branch: default.</li> <li>Revision: leave empty.</li> </ol> </li> <li>Click "OK".</li> <li>Koala will now try to clone the en-US source repository from <a class=" external" href="http://hg.mozilla.org/releases/mozilla-1.9.2" rel="freelink">http://hg.mozilla.org/releases/mozilla-1.9.2</a>. It's almost 1 GB worth of download, so it may take a while. Click "OK".<br> <img alt="[JavaScript_Application]-2009.11.22-12.44.10.png" class="internal default" src="/@api/deki/files/3870/=%25255BJavaScript_Application%25255D-2009.11.22-12.44.10.png"><br> <p>On Windows, if Koala doesn't clone the repositories, you'll need to do it manually. The easy way involves opening the console and issuing the following commands:</p> <pre>C:\Users\stas&gt; cd C:\mozilla\l10n\application\Firefox
C:\mozilla\l10n\application\Firefox&gt; rmdir 3.6
C:\mozilla\l10n\application\Firefox&gt; hg clone http://hg.mozilla.org/releases/mozilla-1.9.2 3.6
requesting all changes
adding changesets
adding manifests
adding file changes
added 33099 changesets with 158636 changes to 50664 files (+9 heads)
updating working directory
40357 files updated, 0 files merged, 0 files removed, 0 files unresolved</pre> </li>
</ol>
<h4 id="Configure_the_Locale">Configure the Locale <br>
<img alt="locale-2009.11.22-13.23.14.png" class="internal default" src="/@api/deki/files/3871/=locale-2009.11.22-13.23.14.png"></h4>
<ol> <li>Locale ID: <code>x-testing</code> (put your locale's code)</li> <li>Version: 3.6</li> <li>Location: choose the folder where you want to keep the localized files or leave empty for now</li> <li>Check "Mercurial" if you wish to use Mercurial to keep the revision history of your files (very recommended) <ol> <li>Existing localizations: URL: if you're editing an existing localization or you already have a repository set up (either on hg.mozilla.org or BitBucket), type the URL of the remote repository, e.g. <code><a class=" external" href="http://bitbucket.org/mozillal10n/x-testing" rel="freelink">http://bitbucket.org/mozillal10n/x-testing</a></code> or <code><a class=" external" href="http://hg.mozilla.org/releases/l10n-mozilla-1.9.2/x-testing" rel="freelink">http://hg.mozilla.org/releases/l10n-....9.2/x-testing</a></code>.</li> <li>New localizations: URL: <ol> <li>If you already have a repository set up by l10n-drivers (onÂ  BitBucket), type the URL of the remote repository, e.g. <code> <a class=" external" href="http://bitbucket.org/mozillal10n/x-testing" rel="freelink">http://bitbucket.org/mozillal10n/x-testing</a></code>.</li> <li>If you're starting a new localization, you may not have a remote repository set up yet. It is still recommended to use Mercurial locally to version your local files. Just type a single dot (".") in the URL field to enable Mercurial support in Koala.</li> </ol> </li> <li>Branch: default.</li> <li>Revision: leave empty.</li> <li>User: type your name and your e-mail address in the form: <code>"Firstname Lastname &lt;<a class=" link-mailto" href="mailto:me@example.com" rel="freelink">me@example.com</a>&gt;"</code> (be sure to type the wrapping quotes: "")</li> <li>Note that you no longer have to edit the location now, it automatically fills in when you check the "Mercurial" checkbox (e.g. "<code>C:\mozilla\l10n\locale\x-testing\3.6</code>"</li> </ol> </li> <li>If you enabled Mercurial (recommended), Koala will ask you if you wish to clone the remote repository. Click "OK" (even if you're creating a new localization and there is no remote repository). <ol> <li>Existing localizations: if Koala fails to clone the remote repository, you will need to do it manually. Just open the console and issue the following commands:<br> <pre>C:\Users\stas&gt; cd C:\mozilla\l10n\locale\x-testing
C:\mozilla\l10n\locale\x-testing&gt; rmdir 3.6
C:\mozilla\l10n\locale\x-testing&gt; hg clone http://hg.mozilla.org/releases/l10n-mozilla-1.9.2/x-testing 3.6</pre> </li> <li>New localizations: <ol> <li>If you have the BitBucket repository already set up by l10n-drivers, the steps are the same as above. Just <code>hg clone</code> from the right BitBucket URL. For example:<br> <pre>C:\Users\stas&gt; cd C:\mozilla\l10n\locale\x-testing
C:\mozilla\l10n\locale\x-testing&gt; rmdir 3.6
C:\mozilla\l10n\locale\x-testing&gt; hg clone http://bitbucket.org/mozillal10n/x-testing 3.6</pre> </li> <li>Otherwise, it's a good idea to create your local repository in order to be able to track changes you make to the localization files. To do this, open the console and type:<br> <pre>C:\Users\stas&gt; cd C:\mozilla\l10n\locale\x-testing\3.6
C:\mozilla\l10n\locale\x-testing\3.6&gt; hg init</pre> </li> </ol> </li> </ol> </li> <li>You should now see the the Koala's starpage in Komodo. You are ready to start localizing Firefox!<br> <img alt="chrome_koala_content_tab-startpage.xul_-_Komodo_Edit_5.2-2009.11.22-18.10.00.png" class="internal default" src="/@api/deki/files/3872/=chrome_koala_content_tab-startpage.xul_-_Komodo_Edit_5.2-2009.11.22-18.10.00.png"></li>
</ol><h3 id="Comparing_and_translating">Comparing and translating</h3>
<p>Now that we have set up Koala to localize Firefox from en-US into x-testing, we can start translating the localization files. Koala features a very handy tool called compare-locales, which compares the files from en-US with your files in x-testing and gives you statistics about new, changed, missing and obsolete files and strings. Let's see how that works.</p>
<h4 id="Running_a_comparison">Running a comparison</h4>
<ol> <li>Open Koala's start page.</li> <li>Select Firefox (3.6) in Application column.</li> <li>Select en-US (included) in Original Locale column.</li> <li>Select x-testing (3.6) in User Locale column.<br> The buttons on the right become active.<br> <img alt="chrome_koala_content_tab-startpage.xul_-_Komodo_Edit_5.2-2009.11.22-18.10.15.png" class="internal default" src="/@api/deki/files/3873/=chrome_koala_content_tab-startpage.xul_-_Komodo_Edit_5.2-2009.11.22-18.10.15.png"></li> <li>Click "Compare".<br> A dialog will appear letting you know that Koala is comparing en-US with x-testing.<br> <br> <img alt="Koala-2009.11.22-18.10.23.png" class="internal default" src="/@api/deki/files/3874/=Koala-2009.11.22-18.10.23.png"></li> <li>When the comparison is done, you should see a new line in "Last used compares" section of Koala's startpage. It's a handy shortcut to run the comparison in the future.<br> <img alt="chrome_koala_content_tab-startpage.xul_-_Komodo_Edit_5.2-2009.11.22-18.10.39.png" class="internal default" src="/@api/deki/files/3875/=chrome_koala_content_tab-startpage.xul_-_Komodo_Edit_5.2-2009.11.22-18.10.39.png"></li> <li>If the sidebar with the results of the comparison doesn't show up automatically: <ol> <li>Open the Projects sidebar by choosing <code>View &gt; Tabs &amp; Sidebars &gt; Projects</code> from the menu.</li> <li>Switch to "Koala file view" in the sidebar (choose it from the list that appears when you click on the arrow pointing down situated next to the sidebar's [x] button).<br> <img alt="chrome_koala_content_tab-startpage.xul_-_Komodo_Edit_5.2-2009.11.22-18.11.25.png" class="internal default" src="/@api/deki/files/3876/=chrome_koala_content_tab-startpage.xul_-_Komodo_Edit_5.2-2009.11.22-18.11.25.png"></li> </ol> </li> <li>You should now see the results of the comparison in the "Koala file view" sidebar.<br> <img alt="chrome_koala_content_tab-startpage.xul_-_Komodo_Edit_5.2-2009.11.22-18.11.35.png" class="internal default" src="/@api/deki/files/3877/=chrome_koala_content_tab-startpage.xul_-_Komodo_Edit_5.2-2009.11.22-18.11.35.png"></li>
</ol>
<h4 id="Translating_files">Translating files</h4>
<p>Let's translate the searchbar-related strings mentioned in the beginning of this document. They can be found in two files, inside the <code>browser/chrome/browser</code> directory:</p>
<ul> <li><code>searchbar.dtd</code>,</li> <li><code>search.properties</code>.</li>
</ul>
<p>The difference between DTD and .properties files in the moment when they are used by the application. DTD's files are read by the XML parser, which goes through the XUL files used in Mozilla to create the interface when it launches. The .properties files are used in the JavaScript code while the application is already running. That's why the string "Add %s..." (where %s is replaced by the search engine's name, like 'MDC Search') is found in search.properties file. It has to be generated every time the user switches between pages. On the other hand, "Manage Search Engines..." is generated only once, on start-up, and doesn't need to change. Therefore, it is located in <code>searchbar.dtd</code> file.</p>
<p>Let's translate these strings now.</p>
<ol> <li>Type "search" in Koala file view sidebar filter field and click "Search". This will filter the list of files down to the files with "search" in the name.</li> <li>Right-click searchbar.dtd file in the sidebar and choose "open file".<img alt="chrome_koala_content_tab-startpage.xul_-_Komodo_Edit_5.2-2009.11.23-11.36.18.png" class="internal default" src="/@api/deki/files/3879/=chrome_koala_content_tab-startpage.xul_-_Komodo_Edit_5.2-2009.11.23-11.36.18.png"></li> <li>This file does not yet exist in your locale file structure, so Koala will ask if you want to create it. Click "OK".<br> <img alt="[JavaScript_Application]-2009.11.23-11.36.29.png" class="internal default" src="/@api/deki/files/3880/=%25255BJavaScript_Application%25255D-2009.11.23-11.36.29.png"></li> <li>When the file is created and opens in a new tab, right-click <code>searchEndCap.label</code> in the sidebar (it's listed under the <code>searchbar.dtd</code> file) and choose "add entity". We're starting by the second entity in this file on purpose, you'll see in a moment how Koala nicely handles entity order.<br> Â  <img alt="searchbar.dtd_(C_mozilla_l10n_locale_x-testing_3.6_browser_chrome_browser)_-_Komodo_Edit_5.2-2009.11(3).png" class="internal default" src="/@api/deki/files/3882/=searchbar.dtd_%252528C_mozilla_l10n_locale_x-testing_3.6_browser_chrome_browser%252529_-_Komodo_Edit_5.2-2009.11%2525283%252529.png"></li> <li>The entity was added to the file and the English string is automatically highlighted, so that you can translate it right away. This entity is used in the tooltip that appears when you hover over the magnifying glass icon in the search bar.<br> <img alt="searchbar.dtd_(C_mozilla_l10n_locale_x-testing_3.6_browser_chrome_browser)_-_Komodo_Edit_5.2-2009.11(4).png" class="internal default" src="/@api/deki/files/3883/=searchbar.dtd_%252528C_mozilla_l10n_locale_x-testing_3.6_browser_chrome_browser%252529_-_Komodo_Edit_5.2-2009.11%2525284%252529.png"></li> <li>Once you translated the <code>searchEnd</code><code>Cap.label</code> entity, add the other one from this file, i.e. <code>cmd_engineManager.label</code>. You can right-click it and choose "add entity" as you did previously, or just double-click the entity name to add it to the file.<br> <img alt="searchbar.dtd_(C_mozilla_l10n_locale_x-testing_3.6_browser_chrome_browser)_-_Komodo_Edit_5.2-2009.11(5).png" class="internal default" src="/@api/deki/files/3884/=searchbar.dtd_%252528C_mozilla_l10n_locale_x-testing_3.6_browser_chrome_browser%252529_-_Komodo_Edit_5.2-2009.11%2525285%252529.png"></li> <li>Note how Koala is smart enough to insert this entity before <code>searchEndCap.label</code>. This is helpful for keeping the localization files clean and tidy at all times. The string to translated is selected so that you can translate it without any further clicking.<br> <img alt="searchbar.dtd_(C_mozilla_l10n_locale_x-testing_3.6_browser_chrome_browser)_-_Komodo_Edit_5.2-2009.11(6).png" class="internal default" src="/@api/deki/files/3885/=searchbar.dtd_%252528C_mozilla_l10n_locale_x-testing_3.6_browser_chrome_browser%252529_-_Komodo_Edit_5.2-2009.11%2525286%252529.png"></li> <li>When you are done with translating the <code>cmd_engineManager.label</code> entity, save the file.</li> <li>Now let's create the other file. Double-click on <code>search.properties</code> and click "OK" when Koala asks if you want to create this file.</li> <li>From the sidebar, add the <code>cmd_addFoundEngine</code> string to the newly-created <code>search.properties</code> file in your locale file structure.<br> <img alt="search.properties_(C_mozilla_l10n_locale_x-testing_3.6_browser_chrome_browser)_-_Komodo_Edit_5.2-200.png" class="internal default" src="/@api/deki/files/3887/=search.properties_%252528C_mozilla_l10n_locale_x-testing_3.6_browser_chrome_browser%252529_-_Komodo_Edit_5.2-200.png"></li> <li>Translate the <code>cmd_addFoundEngine </code>string. Notice that the .properties files have a different syntax than the DTD files. They're just a simple <code>key=value</code> mapping.<br> <img alt="search.properties_(C_mozilla_l10n_locale_x-testing_3.6_browser_chrome_browser)_-_Komodo_Edit_5.2-200(2).png" class="internal default" src="/@api/deki/files/3888/=search.properties_%252528C_mozilla_l10n_locale_x-testing_3.6_browser_chrome_browser%252529_-_Komodo_Edit_5.2-200%2525282%252529.png"></li> <li>Save the file to save your work.</li>
</ol>
<h4 id="Re-running_the_comparison">Re-running the comparison</h4>
<p>A common scheme of working with the compare-locales tools (included in Koala) is to incrementally translate and commit the files and then re-run comparison to see what is left to be translated. To make sure you're always translating the most recent en-US reference, you should update the source repository before you start working. </p>
<ol> <li>Open Koala's start page.</li> <li>In "Last used compares" click "Update repo" to update the en-US repository to the most recent version. Or, you can select Firefox (3.6), en-US (included) and x-testing (3.6) in the "Open" section below, and click "Update repos" on the right. Koala will re-run the comparison of your local localization files with the newest en-US reference and display the results in the sidebar on the left.</li> <li>Filter the files list in the sidebar to only display files containing "search" in their name.</li> <li>You'll see that search.properties is now marked as "modified" (before it was "added) and the entity counts have changed. Also, searchbar.dtd is no longer displayed in the "compare" view, as it has been completely translated. <br> <img alt="chrome_koala_content_tab-startpage.xul_-_Komodo_Edit_5.2-2009.11.23-12.55.37.png" class="internal default" src="/@api/deki/files/3889/=chrome_koala_content_tab-startpage.xul_-_Komodo_Edit_5.2-2009.11.23-12.55.37.png"><br> Here's a quick summary of what the output of the comparison means: <ul> <li>files: <ul> <li>"unmodified" - the file is completely translated.</li> <li>"added" - the file need to be added to the locale's file structure (it is present in en-US, but not in the locale files).</li> <li>"modified" - the file needs to be modified (it is present in both en-US and the locale files, but the locale's version is outdated).</li> <li>"removed" - the file needs to be deleted from locale's file structure (it is no longer present in en-US). Before you delete it entirely, check if the same file hasn't been added elsewhere in the en-US file structure! It may happen that a pair of files from which one is "added" and the other one is "removed" is actually the same file which has been moved from one directory to a different one.</li> </ul> </li> <li>strings: <ul> <li>+5 means that there are 5 missing strings in the locale's file compared to the en-US reference. You will need to add them to your locale's file.</li> <li>-3 would mean that there are 3 obsolete strings in this file which needs to be removed. The file, however, is still used and shouldn't be deleted. </li> </ul> </li> </ul> </li> <li>To see the results of the comparison for locale's all files (including <code>searchbar.dtd</code>), switch to "locale files" view in the "Koala file view" sidebar.<br> <img alt="chrome_koala_content_tab-startpage.xul_-_Komodo_Edit_5.2-2009.11.23-12.57.18.png" class="internal default" src="/@api/deki/files/3890/=chrome_koala_content_tab-startpage.xul_-_Komodo_Edit_5.2-2009.11.23-12.57.18.png"></li> <li>You're now looking at your locale's file structure and can see that <code>searchbar.dtd</code> is "unmodified" with 2 translated entities (0 missing, 0 obsolete), whereas <code>search.properties</code> is "modified" with 1 translated entity (6 total minus 5 missing, 0 obsolete).<br> <img alt="chrome_koala_content_tab-startpage.xul_-_Komodo_Edit_5.2-2009.11.23-12.57.39.png" class="internal default" src="/@api/deki/files/3891/=chrome_koala_content_tab-startpage.xul_-_Komodo_Edit_5.2-2009.11.23-12.57.39.png"></li> <li>Click on any of the files to see more detail, including the exact list of missing (green "+" icon), obsolete and translated (white circle icon) entities.<br> <img alt="chrome_koala_content_tab-startpage.xul_-_Komodo_Edit_5.2-2009.11.23-12.58.12.png" class="internal default" src="/@api/deki/files/3892/=chrome_koala_content_tab-startpage.xul_-_Komodo_Edit_5.2-2009.11.23-12.58.12.png"></li>
</ol>
<p>Now that you've translated these 3 strings, let's commit your work to the local hg repository that you created in the "Creating a new project" section.</p>
<h3 id="Committing_your_work">Committing your work</h3>
<p>Hopefully by now, you have translated 3 strings in the following 2 files:</p>
<ul> <li><code>searchbar.dtd:<br> </code> <ul> <li><code><code>cmd_engineManager.label</code></code></li> <li><code><code>searchEndCap.label</code><br> </code></li> </ul> </li> <li><code><code>search.properties:</code><br> </code> <ul> <li><code><code>cmd_addFoundEngine</code></code></li> </ul> </li>
</ul>
<p>It's time to put these files under Mercurial's version control system. This will allow you to track changes, export them to remote repositories (first on BitBucket, later on hg.mozilla.org) and revert files to earlier versions in case of errors. Version control systems add a lot of transparency to your work and allow others to get involved easily, so it's best to commit often (e.g. after you finish translating every file, or even more frequently).</p>
<p>Koala supports Mercurial and allows you to add and commit files automatically from Komodo. For the purposes of this tutorial, we will switch to the command line every now and then to see what Koala does behind the scenes. Normally though, you don't have to use the command line to commit your work.</p>
<p>Assuming that your locale files are in <code>C:\mozilla\l10n\locale\x-testing\3.6</code> which is where the local Mercurial repository was created (see Creating a new project section), you should be able to successfully issue "<code>hg cmd</code>" commands in that directory (where "cmd" might be "status", "log", "commit" etc.). For example, try issuing "hg status" inside <code>C:\mozilla\l10n\locale\x-testing\3.6</code>:</p>
<pre>C:\mozilla\l10n\locale\x-testing\3.6&gt; hg status
? browser\chrome\browser\search.properties
? browser\chrome\browser\searchbar.dtd
</pre>
<p>The question marks ("?") in front of the file names indicate that the files are not tracked by Mercurial in this repository (yet). To start tracking them, you will need to "hg add" them. This can be done from Koala. Once you "hg add" every new file in the repository that you want to track in Mercurial, you will need to "hg commit" these new files so as to create a new revision in the repository's history. This process need to be repeated for every new file that you add. Also, removing files works in a similar manner: not only do you have to delete the file, but also you need to tell Mercurial to stop tracking the file with "hg remove". See "hg help add", "hg help remove" and "hg help addremove" for more details.</p>
<p>Let's now add and commit these two files from Koala.</p>
<ol> <li>In the "locale files" view in the sidebar, right click on <code>search.properties</code> and choose "add file to repository". This will execute "hg add" on this file in the background.<br> <img alt="chrome_koala_content_tab-startpage.xul_-_Komodo_Edit_5.2-2009.11.23-12.58.35.png" class="internal default" src="/@api/deki/files/3893/=chrome_koala_content_tab-startpage.xul_-_Komodo_Edit_5.2-2009.11.23-12.58.35.png"></li> <li>Koala will show you a message if the "hg add" was successful.<br> <img alt="[JavaScript_Application]-2009.11.23-12.58.45.png" class="internal default" src="/@api/deki/files/3894/=%25255BJavaScript_Application%25255D-2009.11.23-12.58.45.png"></li> <li>Instead of adding single files, you can also add an entire folder. Since we still need to add <code>searchbar.dtd</code>, let's simply add the entire <code>browser/chrome/browser </code>folder now. Right-click on the folder and choose "add folder to repository".<br> <img alt="chrome_koala_content_tab-startpage.xul_-_Komodo_Edit_5.2-2009.11.23-12.58.57.png" class="internal default" src="/@api/deki/files/3895/=chrome_koala_content_tab-startpage.xul_-_Komodo_Edit_5.2-2009.11.23-12.58.57.png"><br> The files have been added to the repository. If you switch to the command line and issue "hg status" again, you should now see that the files are scheduled for addition on the next commit (which is indicated by the letter "A" standing in front of each new file):<br> <pre>C:\mozilla\l10n\locale\x-testing\3.6&gt; hg status
A browser\chrome\browser\search.properties
A browser\chrome\browser\searchbar.dtd</pre> </li> <li>You now have to commit the new files to the repository. Right-click on the browser/chrome/browser folder in the sidebar and choose "commit folder". (You could also commit each file individually if you felt like it.)<br> <img alt="chrome_koala_content_tab-startpage.xul_-_Komodo_Edit_5.2-2009.11.23-13.00.35.png" class="internal default" src="/@api/deki/files/3898/=chrome_koala_content_tab-startpage.xul_-_Komodo_Edit_5.2-2009.11.23-13.00.35.png"></li> <li>Koala will ask you to type in a commit message. It is a good practice to be descriptive about the changes you made in this revision. A good way of doing that is to ask yourself a question: "<em>If I was a new person to this project and new nothing about the work already done in this repository, would this message help me understand what changes were made in this revision?</em>". Type a good commit message and click "OK".<br> <img alt="[JavaScript_Application]-2009.11.23-13.00.18.png" class="internal default" src="/@api/deki/files/3896/=%25255BJavaScript_Application%25255D-2009.11.23-13.00.18.png"></li> <li>Koala will execute "hg commit" in the background and will let you know that the files were successfully committed.<br> <img alt="[JavaScript_Application]-2009.11.23-13.00.28.png" class="internal default" src="/@api/deki/files/3897/=%25255BJavaScript_Application%25255D-2009.11.23-13.00.28.png"><br> If you now go to the command line, "hg status" will not display anything (because there are no uncommitted changes in the repository). If you run "hg log" however, you will see you first commit in the repository's revision history:<br> <pre>C:\mozilla\l10n\locale\x-testing\3.6&gt; hg log
changeset:   0:7c543e8f3a6a
tag:         tip
user:        Stas Malolepszy &lt;stas@mozilla.com&gt;
date:        Mon Nov 23 18:08:25 2009 +0100
summary:     Added search bar strings</pre> </li>
</ol>
<p>Congratulations! You just made you first commit to the local repository. The last step of this tutorial will be to send (or "push") the changes you just made to a remote repository. Please read on.</p>