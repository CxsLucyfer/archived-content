---
title: Mozmill Controller Object
slug: Mozilla/Projects/Mozmill/Mozmill_Controller_Object
tags:
  - MozMill
---
<p>This is the primary object for simulating user actions in Mozmill</p>
<h2 id="Method_overview">Method overview</h2>
<table class="standard-table">
  <tbody>
    <tr>
      <td><code>boolean <a href="#check.28.29">check</a>(in Elem element, in boolean state); <strong>(deprecate</strong><strong>d)</strong></code></td>
    </tr>
    <tr>
      <td><code>boolean <a href="#click.28.29">click</a>(in Elem element, in int left, int top); </code><code><strong>(deprecate</strong><strong>d)</strong></code></td>
    </tr>
    <tr>
      <td><code>boolean <a href="#doubleClick.28.29">doubleClick</a>(in Elem element, in int left, in int top); </code><code><strong>(deprecate</strong><strong>d)</strong></code></td>
    </tr>
    <tr>
      <td><code>boolean <a href="#dragDropElemToElem.28.29">dragDropElemToElem</a>(in Elem elementStart, in Elem elementFinish);</code></td>
    </tr>
    <tr>
      <td><code>boolean <a href="#keypress.28.29">keypress</a>(in Elem element, in string keycode, in object modifiers); </code><code><strong>(deprecate</strong><strong>d)</strong></code></td>
    </tr>
    <tr>
      <td><code>boolean <a href="#mouseDown.28.29">mouseDown</a>(in Elem element, in int button, in int left, in int top); </code><code><strong>(deprecate</strong><strong>d)</strong></code></td>
    </tr>
    <tr>
      <td><code>boolean <a href="#mouseOut.28.29">mouseOut</a>(in Elem element</code><code>, in int button, in int left, in int top</code><code>); </code><code><strong>(deprecate</strong><strong>d)</strong></code></td>
    </tr>
    <tr>
      <td><code>boolean <a href="#mouseOver.28.29">mouseOver</a>(in Elem element</code><code>, in int button, in int left, in int top</code><code>); </code><code><strong>(deprecate</strong><strong>d)</strong></code></td>
    </tr>
    <tr>
      <td><code>boolean <a href="#mouseUp.28.29">mouseUp</a>(in Elem element</code><code>, in int button, in int left, in int top</code><code>); </code><code><strong>(deprecate</strong><strong>d)</strong></code></td>
    </tr>
    <tr>
      <td><code>boolean <a href="#mouseMove.28.29">mouseMove</a>(in obj start, in obj dest);</code></td>
    </tr>
    <tr>
      <td><code>boolean <a href="#radio.28.29">radio</a>(in Elem element); </code><code><strong>(deprecate</strong><strong>d)</strong></code></td>
    </tr>
    <tr>
      <td><code>boolean <a href="#rightClick.28.29">rightClick</a>(in Elem element, in int left, in int top); </code><code><strong>(deprecate</strong><strong>d)</strong></code></td>
    </tr>
    <tr>
      <td><code>boolean <a href="#screenShot.28.29">screenShot</a>(in Elem element, in string name, in boolean save, in Array&lt;elem&gt; highlights);</code></td>
    </tr>
    <tr>
      <td><code>boolean <a href="#select.28.29">select</a>(in Elem element, in int index, in string label, in string value); </code><code><strong>(deprecate</strong><strong>d)</strong></code></td>
    </tr>
    <tr>
      <td><code>void  <a href="/en/Mozmill/Mozmill_Controller_Object#startUserShutdown.28.29">startUserShutdown</a>(in int timeout, in boolean restart);</code></td>
    </tr>
    <tr>
      <td><code>boolean <a href="#type.28.29">type</a>(in Elem element, in string text); </code><code><strong>(deprecate</strong><strong>d)</strong></code></td>
    </tr>
    <tr>
      <td><code>void <a href="#sleep.28.29">sleep</a>(in int timeout);</code></td>
    </tr>
    <tr>
      <td><code>void <a href="#waitFor.28.29">waitFor</a>(in func callback, </code><code> in string message, </code><code>in int timeout, in interval, in object this);</code></td>
    </tr>
    <tr>
      <td><code>void <a href="#waitForElement.28.29">waitForElement</a>(in Elem element, in int timeout, in int interval); </code><code><strong>(deprecate</strong><strong>d)</strong></code></td>
    </tr>
    <tr>
      <td><code>void <a href="#waitForEval.28.29">waitForEval</a>(in string, expression, in int timeout, in int interval, in object subject); <strong>(deprecated)</strong></code></td>
    </tr>
    <tr>
      <td><code>void <a href="#waitForImage.28.29">waitForImage</a>(in Elem element, in int timeout, in int interval);</code></td>
    </tr>
    <tr>
      <td><code>void <a href="#waitThenClick.28.29">waitThenClick</a>(in Elem element, in int timeout, in int interval); </code><code><strong>(deprecate</strong><strong>d)</strong></code></td>
    </tr>
    <tr>
      <td><code>void <a href="#waitForPageLoad.28.29">waitForPageLoad</a>(in <a href="/en/DOM/document">document</a>, in int timeout, in int interval);</code></td>
    </tr>
    <tr>
      <td><code>boolean <a href="#assert.28.29">assert</a>(in func callback, in string message, in object this);</code></td>
    </tr>
    <tr>
      <td><code>boolean <a href="#assertChecked.28.29">assertChecked</a>(in Elem element);</code></td>
    </tr>
    <tr>
      <td><code>boolean <a href="#assertDOMProperty.28.29">assertDOMProperty</a>(in Elem element, in string attribute, in string value);</code></td>
    </tr>
    <tr>
      <td><code>boolean <a href="#assertImageLoaded.28.29">assertImageLoaded</a>(in Elem element);</code></td>
    </tr>
    <tr>
      <td><code>boolean <a href="#assertJS.28.29">assertJS</a>(in string expression, in object subject); <strong>(deprecated)</strong></code></td>
    </tr>
    <tr>
      <td><code>boolean <a href="#assertJSProperty.28.29">assertJSProperty</a>(in Elem element, in string attribute, in string value);</code></td>
    </tr>
    <tr>
      <td><code>boolean <a href="#assertNode.28.29">assertNode</a>(in Elem element);</code></td>
    </tr>
    <tr>
      <td><code>boolean <a href="#assertNodeNotExist.28.29">assertNodeNotExist</a>(in Elem element);</code></td>
    </tr>
    <tr>
      <td><code>boolean <a href="#assertNotChecked.28.29">assertNotChecked</a>(in Elem element);</code></td>
    </tr>
    <tr>
      <td><code>boolean <a href="#assertNotDOMProperty.28.29">assertNotDOMProperty</a>(in Elem element, in string attribute, in string value);</code></td>
    </tr>
    <tr>
      <td><code>boolean <a href="#assertNotJSProperty.28.29">assertNotJSProperty</a>(in Elem element, in string attribute, in string value);</code></td>
    </tr>
    <tr>
      <td><code>boolean <a href="#assertSelected.28.29">assertSelected</a>(in Elem element, in string value);</code></td>
    </tr>
    <tr>
      <td><code>boolean <a href="#assertText.28.29">assertText</a>(in Elem element, in string text);</code></td>
    </tr>
    <tr>
      <td><code>boolean <a href="#assertValue.28.29">assertValue</a>(in Elem element, in string value);</code></td>
    </tr>
    <tr>
      <td><code>void <a href="#open.28.29">open</a>(in string uri);</code></td>
    </tr>
    <tr>
      <td><code>void <a href="#goBack.28.29">goBack</a>();</code></td>
    </tr>
    <tr>
      <td><code>void <a href="#goForward.28.29">goForward</a>();</code></td>
    </tr>
    <tr>
      <td><code>void <a href="#refresh.28.29">refresh</a>();</code></td>
    </tr>
    <tr>
      <td><code><a href="/en/DOM/document">document</a> <a href="#tabs.activeTab.28.29">tabs.activeTab</a>();</code></td>
    </tr>
    <tr>
      <td><code><a href="/en/DOM/document">document</a> <a href="#tabs.getTab.28.29">tabs.getTab</a>(int in index);</code></td>
    </tr>
    <tr>
      <td><code>void <a href="#tabs.selectTabIndex.28.29">tabs.selectTabIndex</a>(int in index);</code></td>
    </tr>
  </tbody>
</table>
<h2 id="Attributes">Attributes</h2>
<table class="standard-table">
  <thead>
    <tr>
      <th scope="col">Attribute</th>
      <th scope="col">Type</th>
      <th scope="col">Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>window</td>
      <td><a href="/en/DOM/window">Window Object</a></td>
      <td>A reference to the global window object the controller is active in</td>
      <td> </td>
    </tr>
    <tr>
      <td>rootElement <strong>(2.0+)</strong></td>
      <td><a href="/en/Mozmill/Mozmill_Element_Object">MozMillElement</a></td>
      <td>A reference to the root element in the window, wrapped inside of a MozMillElement. This is handy for sending global keystrokes to, e.g:
        <pre>controller.rootElement.keypress(&apos;t&apos;, {&apos;ctrlKey&apos;:true});
</pre>
        will open a new tab.</td>
    </tr>
    <tr>
      <td><code><a href="#menus">menus</a></code></td>
      <td><code><a href="/en-US/docs/Mozilla/Tech/XPCOM/Reference/Interface/Node">Node</a></code></td>
      <td>A set of attributes to access the menus and menu items as elements. Click <a href="#menus">here for information</a></td>
    </tr>
    <tr>
      <td><code>tabs.activeTab</code></td>
      <td>DOMDocument</td>
      <td>Returns the document that is rendered by the current active tab in the browser</td>
    </tr>
    <tr>
      <td><code>tabs.activeTabIndex</code></td>
      <td>int</td>
      <td>Returns the index number of the currently active tab. It is a browser specific method</td>
    </tr>
  </tbody>
</table>
<h2 id="Interaction_Methods">Interaction Methods</h2>
<h3 id="check.28.29" name="check.28.29">check()</h3>
<div class="warning notecard">
  <p><strong>Deprecated</strong> <strong>as of Mozmill 2.0</strong> - Use the <a href="/en/Mozmill/Mozmill_Element_Object" title="mozmill element object">mozmill element object</a> instead.</p>
</div>
<p>Fires a click at the given checkbox element to ensure it is either checked or not.</p>
<pre>boolean check(
  in Elem element,
  in boolean state
);
</pre>
<h6 id="Parameters">Parameters</h6>
<dl>
  <dt>
    <code>element</code></dt>
  <dd>
    An element to attempt to check (should be a checkbox or it will fail).</dd>
  <dt>
    <code>state</code></dt>
  <dd>
    Pass true to ensure the element is checked, false to ensure it is unchecked. Defaults to false</dd>
</dl>
<h6 id="Return_value">Return value</h6>
<p><code>true</code> if the action succeeds, otherwise <code>false</code>.</p>
<h6 id="Example">Example</h6>
<pre class="brush: js">controller.check(new elementslib.ID(controller.window.document, &apos;foo&apos;), true);
</pre>
<h3 id="click.28.29" name="click.28.29">click()</h3>
<div class="warning notecard">
  <p><strong>Deprecated</strong> <strong>as of Mozmill 2.0</strong> - Use the <a href="/en/Mozmill/Mozmill_Element_Object" title="mozmill element object">mozmill element object</a> instead.</p>
</div>
<p>Fires a normal (left) click at the given element. You can optionally pass in coordinates to the function for where to click. The coordinates are relative to the element&apos;s bounding rectangle. With no coordinates specified, it clicks as 0, 0 on that rectangle (top left corner).</p>
<pre>boolean click(
  in Elem element,
  in int left,
  in int top
);
</pre>
<h6 id="Parameters_2">Parameters</h6>
<dl>
  <dt>
    <code>element</code></dt>
  <dd>
    An element to click on</dd>
  <dt>
    <code>left</code></dt>
  <dd>
    Left coordinate for click (optional, defaults to 0)</dd>
  <dt>
    <code>top</code></dt>
  <dd>
    Top coordinate for click (optional, defaults to 0)</dd>
</dl>
<h6 id="Return_value_2">Return value</h6>
<p><code>true</code> if the action succeeds, otherwise <code>false</code>.</p>
<h6 id="Example_2">Example</h6>
<pre class="brush: js">controller.click(new elementslib.ID(controller.window.document, &apos;foo&apos;));
// Or specify coordinates
controller.click(new elementslib.ID(controller.window.document, &apos;foo&apos;), 20, 10);
</pre>
<h3 id="doubleClick.28.29" name="doubleClick.28.29">doubleClick()</h3>
<div class="warning notecard">
  <p><strong>Deprecated</strong> <strong>as of Mozmill 2.0</strong> - Use the <a href="/en/Mozmill/Mozmill_Element_Object" title="mozmill element object">mozmill element object</a> instead.</p>
</div>
<p>Fires a normal (left) double click at the given element. You can optionally pass in coordinates to the function for where to click. The coordinates are relative to the element&apos;s bounding rectangle. With no coordinates specified, it clicks as 0, 0 on that rectangle (top left corner).</p>
<pre>boolean doubleClick(
  in Elem element,
  in int left,
  in int top
);
</pre>
<h6 id="Parameters_3">Parameters</h6>
<dl>
  <dt>
    <code>element</code></dt>
  <dd>
    An element to click on</dd>
  <dt>
    <code>left</code></dt>
  <dd>
    Left coordinate for click (optional, defaults to 0)</dd>
  <dt>
    <code>top</code></dt>
  <dd>
    Top coordinate for click (optional, defaults to 0)</dd>
</dl>
<h6 id="Return_value_3">Return value</h6>
<p><code>true</code> if the action succeeds, otherwise <code>false</code>.</p>
<h6 id="Example_3">Example</h6>
<pre class="brush: js">controller.doubleClick(new elementslib.ID(controller.window.document, &apos;foo&apos;));
// Or specify coordinates
controller.doubleClick(new elementslib.ID(controller.window.document, &apos;foo&apos;), 20, 10);
</pre>
<h3 id="dragDropElemToElem.28.29" name="dragDropElemToElem.28.29">dragDropElemToElem()</h3>
<p>Drags the element specified by elementStart to the x,y coordinates of the element specified by elementFinish. Currently only works in content space (i.e. on a web page).</p>
<pre>boolean dragDropElemToElem(
  in Elem elementStart,
  in Elem elementFinish
);
</pre>
<h6 id="Parameters_4">Parameters</h6>
<dl>
  <dt>
    <code>elementStart</code></dt>
  <dd>
    Element to start dragging</dd>
  <dt>
    <code>elementFinish</code></dt>
  <dd>
    Target element to drag to</dd>
</dl>
<h6 id="Return_value_4">Return value</h6>
<p><code>true</code> if the action succeeds, otherwise <code>false</code>.</p>
<h6 id="Example_4">Example</h6>
<pre class="brush: js">controller.dragDropElemToElem(new elementslib.ID(controller.window.document, &apos;foo&apos;),
                              new elementslib.ID(controller.window.document, &apos;bar&apos;));
</pre>
<h3 id="keypress.28.29" name="keypress.28.29">keypress()</h3>
<div class="warning notecard">
  <p><strong>Deprecated</strong> <strong>as of Mozmill 2.0</strong> - Use the <a href="/en/Mozmill/Mozmill_Element_Object" title="mozmill element object">mozmill element object</a> instead.</p>
</div>
<p>Fires a keypress for the given keycode. The modifiers are a JSON object that specifies what key modifiers should be pressed in conjunction with the given key code. The available attribute names for the modifier object are: ctrlKey, altKey, shiftKey, metaKey, and accelKey. Try to avoid the usage of ctrlKey and metaKey if the shortcut is a combination of Ctrl (Windows/Linux) and Cmd (Mac) and use accelKey instead which will work regardless of which operating system your test is executing on.</p>
<pre>boolean keypress(
  in Elem element,
  in string keycode,
  in object modifiers
);
</pre>
<h6 id="Parameters_5">Parameters</h6>
<dl>
  <dt>
    <code>element</code></dt>
  <dd>
    An element to target the keypress at</dd>
  <dt>
    <code>keycode</code></dt>
  <dd>
    The key code. Either a literal keycode like &apos;b&apos; or an <a href="/en/XUL_Tutorial/Keyboard_Shortcuts" title="en/XUL_Tutorial/Keyboard_Shortcuts">enum key code</a> like &apos;VK_ESCAPE&apos;</dd>
  <dt>
    <code>modifiers</code></dt>
  <dd>
    Object of modifiers for this keypress.</dd>
</dl>
<h6 id="Return_value_5">Return value</h6>
<p><code>true</code> if the action succeeds, otherwise <code>false</code>.</p>
<h6 id="Example_5">Example</h6>
<pre class="brush: js">// Fire an escape key strokes at element foo:
controller.keypress(new elementslib.ID(controller.window.document, &apos;foo&apos;), &apos;VK_ESCAPE&apos;, {});

// Fire a simple key stroke at element foo using the control/command and shift keys
controller.keypress(new elementslib.ID(controller.window.document, &apos;foo&apos;), &apos;b&apos;,
                    {shiftKey: true, accelKey: true});
</pre>
<h3 id="mouseDown.28.29" name="mouseDown.28.29">mouseDown()</h3>
<div class="warning notecard">
  <p><strong>Deprecated</strong> <strong>as of Mozmill 2.0</strong> - Use the <a href="/en/Mozmill/Mozmill_Element_Object" title="mozmill element object">mozmill element object</a> instead.</p>
</div>
<p>Simulates the left button being depressed on the mouse when the mouse is over the given element.</p>
<pre>boolean mouseDown(
  in Elem element,
  in int button,
  [in int left],
  [in int top]
);
</pre>
<h6 id="Parameters_6">Parameters</h6>
<dl>
  <dt>
    <code>element</code></dt>
  <dd>
    An element to target</dd>
  <dt>
    <code>button</code></dt>
  <dd>
    The id of the button to press (0 - left, 1 - middle, 2 - right)</dd>
  <dt>
    <code>left</code></dt>
  <dd>
    The relative horizontal coordinate inside the target element to click</dd>
  <dt>
    <code>top</code></dt>
  <dd>
    The relative vertical coordinate inside the target element to click</dd>
</dl>
<h6 id="Return_value_6">Return value</h6>
<p><code>true</code> if the action succeeds, otherwise <code>false</code>.</p>
<h6 id="Example_6">Example</h6>
<pre class="brush: js">controller.mouseDown(new elementslib.ID(controller.window.document, &apos;foo&apos;));
</pre>
<h3 id="mouseOut.28.29" name="mouseOut.28.29">mouseOut()</h3>
<div class="warning notecard">
  <p><strong>Deprecated</strong> <strong>as of Mozmill 2.0</strong> - Use the <a href="/en/Mozmill/Mozmill_Element_Object" title="mozmill element object">mozmill element object</a> instead.</p>
</div>
<p>Simulates the mouse leaving the area over an event without clicking on it. If the element is out of view, the element will be scrolled into view before initiating the mouseOut.</p>
<pre>boolean mouseOut(
  in Elem element,
  in int button,
  [in int left],
  [in int top]
);
</pre>
<h6 id="Parameters_7">Parameters</h6>
<dl>
  <dt>
    <code>element</code></dt>
  <dd>
    An element to target</dd>
  <dt>
    <code>button</code></dt>
  <dd>
    The id of the button to press (0 - left, 1 - middle, 2 - right)</dd>
  <dt>
    <code>left</code></dt>
  <dd>
    The relative horizontal coordinate inside the target element</dd>
  <dt>
    <code>top</code></dt>
  <dd>
    The relative vertical coordinate inside the target element</dd>
</dl>
<h6 id="Return_value_7">Return value</h6>
<p><code>true</code> if the action succeeds, otherwise <code>false</code>.</p>
<h6 id="Example_7">Example</h6>
<pre class="brush: js">controller.mouseOut(new elementslib.ID(controller.window.document, &apos;foo&apos;));
</pre>
<h3 id="mouseOver.28.29" name="mouseOver.28.29">mouseOver()</h3>
<div class="warning notecard">
  <p><strong>Deprecated</strong> <strong>as of Mozmill 2.0</strong> - Use the <a href="/en/Mozmill/Mozmill_Element_Object" title="mozmill element object">mozmill element object</a> instead.</p>
</div>
<p>Simulates the mouse entering the area over an event without clicking on it. If the element is out of view, the element will be scrolled into view before inititating the mouseOver</p>
<pre>boolean mouseOver(
  in Elem element,
  in int button,
  [in int left],
  [in int top]
);
</pre>
<h6 id="Parameters_8">Parameters</h6>
<dl>
  <dt>
    <code>element</code></dt>
  <dd>
    An element to target</dd>
  <dt>
    <code>button</code></dt>
  <dd>
    The id of the button to press (0 - left, 1 - middle, 2 - right)</dd>
  <dt>
    <code>left</code></dt>
  <dd>
    The relative horizontal coordinate inside the target element</dd>
  <dt>
    <code>top</code></dt>
  <dd>
    The relative vertical coordinate inside the target element</dd>
</dl>
<h6 id="Return_value_8">Return value</h6>
<p><code>true</code> if the action succeeds, otherwise <code>false</code>.</p>
<h6 id="Example_8">Example</h6>
<pre class="brush: js">controller.mouseOver(new elementslib.ID(controller.window.document, &apos;foo&apos;));
</pre>
<h3 id="mouseUp.28.29" name="mouseUp.28.29">mouseUp()</h3>
<div class="warning notecard">
  <p><strong>Deprecated</strong> <strong>as of Mozmill 2.0</strong> - Use the <a href="/en/Mozmill/Mozmill_Element_Object" title="mozmill element object">mozmill element object</a> instead.</p>
</div>
<p>Simulates the left button being released on the mouse when the mouse is over the given element.</p>
<pre>boolean mouseUp(
  in Elem element,
  in int button,
  [in int left],
  [in int top]
);
</pre>
<h6 id="Parameters_9">Parameters</h6>
<dl>
  <dt>
    <code>element</code></dt>
  <dd>
    An element to target</dd>
  <dt>
    <code>button</code></dt>
  <dd>
    The id of the button to press (0 - left, 1 - middle, 2 - right)</dd>
  <dt>
    <code>left</code></dt>
  <dd>
    The relative horizontal coordinate inside the target element</dd>
  <dt>
    <code>top</code></dt>
  <dd>
    The relative vertical coordinate inside the target element</dd>
</dl>
<h6 id="Return_value_9">Return value</h6>
<p><code>true</code> if the action succeeds, otherwise <code>false</code>.</p>
<h6 id="Example_9">Example</h6>
<pre class="brush: js">controller.mouseUp(new elementslib.ID(controller.window.document, &apos;foo&apos;));
</pre>
<h3 id="mouseMove.28.29" name="mouseMove.28.29">mouseMove()</h3>
<p>Simulates the mouse being moved from the start coordinates to the end coordinates.</p>
<pre>boolean mouseMove(
  in document doc,
  [in list start],
  [in list dest]
);
</pre>
<h6 id="Parameters_10">Parameters</h6>
<dl>
  <dt>
    <code>doc</code></dt>
  <dd>
    The document to send the mouse move events to</dd>
  <dt>
    <code>start</code></dt>
  <dd>
    A list containing the  &apos;x&apos; and &apos;y&apos; starting coordinates of the move</dd>
  <dt>
    <code>dest</code></dt>
  <dd>
    A list containing the &apos;x&apos; and &apos;y&apos; ending coordinates of the move</dd>
</dl>
<h6 id="Return_value_10">Return value</h6>
<p><code>true</code> if the action succeeds, otherwise <code>false</code>.</p>
<h6 id="Example_10">Example</h6>
<pre class="brush: js">// Move the mouse from position (10,10) in the current tab to (20,20)
controller.mouseMove(controller.tabs.activeTab, [10, 10], [20, 20]);
</pre>
<h3 id="radio.28.29" name="radio.28.29">radio()</h3>
<div class="warning notecard">
  <p><strong>Deprecated</strong> <strong>as of Mozmill 2.0</strong> - Use the <a href="/en/Mozmill/Mozmill_Element_Object" title="mozmill element object">mozmill element object</a> instead.</p>
</div>
<p>Selects the given radio button by firing a click at it.</p>
<pre>boolean radio(
  in Elem element,
);
</pre>
<h6 id="Parameters_11">Parameters</h6>
<dl>
  <dt>
    <code>element</code></dt>
  <dd>
    An element to select</dd>
</dl>
<h6 id="Return_value_11">Return value</h6>
<p><code>true</code> if the action succeeds, otherwise <code>false</code>.</p>
<h6 id="Example_11">Example</h6>
<pre class="brush: js">controller.radio(new elementslib.ID(controller.window.document, &apos;foo&apos;));
</pre>
<h3 id="rightClick.28.29" name="rightClick.28.29">rightClick()</h3>
<div class="warning notecard">
  <p><strong>Deprecated</strong> <strong>as of Mozmill 2.0</strong> - Use the <a href="/en/Mozmill/Mozmill_Element_Object" title="mozmill element object">mozmill element object</a> instead.</p>
</div>
<p>Fires a right click at the given element. You can optionally pass in coordinates to the function for where to click. The coordinates are relative to the element&apos;s bounding rectangle. With no coordinates specified, it clicks as 0, 0 on that rectangle (top left corner).</p>
<pre>boolean rightClick(
  in Elem element,
  in int left,
  in int top
);
</pre>
<h6 id="Parameters_12">Parameters</h6>
<dl>
  <dt>
    <code>element</code></dt>
  <dd>
    An element to click on</dd>
  <dt>
    <code>left</code></dt>
  <dd>
    Left coordinate for click (optional, defaults to 0)</dd>
  <dt>
    <code>top</code></dt>
  <dd>
    Top coordinate for click (optional, defaults to 0)</dd>
</dl>
<h6 id="Return_value_12">Return value</h6>
<p><code>true</code> if the action succeeds, otherwise <code>false</code>.</p>
<h6 id="Example_12">Example</h6>
<pre class="brush: js">controller.rightClick(new elementslib.ID(controller.window.document, &apos;foo&apos;));
// Or specify coordinates
controller.rightClick(new elementslib.ID(controller.window.document, &apos;foo&apos;), 20, 10);
</pre>
<h3 id="screenShot.28.29" name="screenShot.28.29">screenShot()</h3>
<p>Takes a screenshot of the passed in window or DOM element. Screenshots can either be saved to the temporary directory or be returned to the reporting as a dataURL. An array of elements to be highlighted with a red rectangle can also be passed in.</p>
<pre>boolean screenShot(
  in Elem element,
  in string name,
  [in boolean save],
  [in Array&lt;elem&gt; highlights]
);
</pre>
<h6 id="Parameters_13">Parameters</h6>
<dl>
  <dt>
    <code>element</code></dt>
  <dd>
    An element or a window to capture</dd>
  <dt>
    <code>name</code></dt>
  <dd>
    The name of the screenshot. Used in reporting and to save the file</dd>
  <dt>
    <code>save</code></dt>
  <dd>
    If true, saves the screenshot in tempdir/mozmill_screens/name.png and the filepath is added to the report. Otherwise the dataURL is added to the report</dd>
</dl>
<h6 id="Return_value_13">Return value</h6>
<p><code>true</code> if the action succeeds, otherwise <code>false</code>.</p>
<h6 id="Example_13">Example</h6>
<pre class="brush: js">var elem = findElement.ID(controller.tabs.activeTab, &apos;elemID&apos;);
var child = elem.getNode().childnodes[0];
// Take a screenshot of &apos;elem&apos; and draw a red rectangle around it&apos;s first child element
controller.screenShot(elem, &apos;demo&apos;, true, [child]);
</pre>
<h3 id="select.28.29" name="select.28.29">select()</h3>
<div class="warning notecard">
  <p><strong>Deprecated</strong> <strong>as of Mozmill 2.0</strong> - Use the <a href="/en/Mozmill/Mozmill_Element_Object" title="mozmill element object">mozmill element object</a> instead.</p>
</div>
<p>Handles selecting an option from a menu list or an HTML select element. The &quot;element&quot; corresponds to the list. There are multiple ways to select from such a list, either by &quot;index&quot;, &quot;label&quot;, or by the &quot;value&quot; associated with that option.</p>
<ul>
  <li>index - to use an index, give it a valid index &gt;=0. If you do not wish to use an index, pass &apos;null&apos; for this field. Using an index of -1 will reset the current selection.</li>
  <li>label - to use label, supply the label. If you do not wish to use an option name, then pass &apos;null&apos; in this field.</li>
  <li>value - to use the value attribute, supply the valid value in this field. If you choose not to supply a value, you can simply leave it off when not including it or pass in &apos;null&apos;.</li>
</ul>
<pre>boolean select(
  in Elem element,
  in int index,
  in string label,
  in string value
);
</pre>
<h6 id="Parameters_14">Parameters</h6>
<dl>
  <dt>
    <code>element</code></dt>
  <dd>
    An element to click on</dd>
  <dt>
    <code>index</code></dt>
  <dd>
    index of item in drop down list. Use <code>null</code> if you do not wish to specify an index. -1 will reset the selection.</dd>
  <dt>
    <code>label</code></dt>
  <dd>
    Label of the option you wish to select, if you do not wish to use it pass <code>null</code></dd>
  <dt>
    <code>value</code></dt>
  <dd>
    Value of the option you wish to select, if you do not wish to use this field either leave it off or pass <code>null</code></dd>
</dl>
<h6 id="Return_value_14">Return value</h6>
<p><code>true</code> if the action succeeds, otherwise <code>false</code>.</p>
<h6 id="Example_14">Example</h6>
<pre class="brush: js">// Select only using the index
controller.select(new elementslib.ID(controller.window.document, &apos;foo&apos;), 2);

// Select using the label of the given element
controller.select(new elementslib.ID(controller.window.document, &apos;foo&apos;), null, &apos;bar&apos;);
</pre>
<h3 id="startUserShutdown.28.29" name="startUserShutdown.28.29">startUserShutdown()</h3>
<p>Creates a timeout window during which the browser is allowed to be restarted or shutdown, for example by selecting &apos;Quit&apos; from the &apos;File&apos; menu.  If startUserShutdown() is called and the test does not restart or shutdown the browser within the specified timeout, the test will fail.  The browser must also be shutdown within the same test that called startUserShutdown().  <span style="font-weight: bold;">Note: This is only available in Mozmill 1.4.2 and later.</span></p>
<h6 id="Parameters_15">Parameters</h6>
<dl>
  <dt>
    <code>timeout</code></dt>
  <dd>
    <code>The number of milliseconds during which the browser is allowed to be restarted or shutdown</code>.</dd>
  <dt>
    <code>restart</code></dt>
  <dd>
    <code>True if a restart is to be expected, false if a shutdown is to be expected.</code></dd>
</dl>
<h6 id="Return_value_15">Return value</h6>
<p>None</p>
<h6 id="Example_15">Example</h6>
<pre class="brush: js">controller.startUserShutdown(2000, false);
controller.click(new elementslib.Elem(controller.menus[&quot;file-menu&quot;].menu_FileQuitItem));
</pre>
<h3 id="type.28.29" name="type.28.29">type()</h3>
<div class="warning notecard">
  <p><strong>Deprecated</strong> <strong>as of Mozmill 2.0</strong> - Use the <a href="/en/Mozmill/Mozmill_Element_Object" title="mozmill element object">mozmill element object</a> instead.</p>
</div>
<p>Types a string of text at the given element.</p>
<pre>boolean type(
  in Elem element,
  in string text
);
</pre>
<h6 id="Parameters_16">Parameters</h6>
<dl>
  <dt>
    <code>element</code></dt>
  <dd>
    An element to type at</dd>
  <dt>
    <code>text</code></dt>
  <dd>
    The text to type</dd>
</dl>
<h6 id="Return_value_16">Return value</h6>
<p><code>true</code> if the action succeeds, otherwise <code>false</code>.</p>
<h6 id="Example_16">Example</h6>
<pre class="brush: js">controller.type(new elementslib.ID(controller.window.document, &apos;foo&apos;), &apos;some text to type&apos;);
</pre>
<h2 id="waitmethods" name="waitmethods">Wait methods</h2>
<h3 id="sleep.28.29" name="sleep.28.29">sleep()</h3>
<p>Causes the test to pause its execution until &quot;timeout&quot; milliseconds have passed. This is the least granular of the wait methods and is NOT encouraged to be used. It is only included here because it is sometimes useful when debugging. You should use other wait methods in your tests in order to ensure your tests are more deterministic.</p>
<pre>void sleep(
  in int timeout
);
</pre>
<h6 id="Parameters_17">Parameters</h6>
<dl>
  <dt>
    <code>timeout</code></dt>
  <dd>
    Number of milliseconds to pause.</dd>
</dl>
<h6 id="Return_value_17">Return value</h6>
<p>None</p>
<h6 id="Example_17">Example</h6>
<pre class="brush: js">// Sleeps one second
controller.sleep(1000);
</pre>
<h3 id="waitFor.28.29" name="waitFor.28.29">waitFor()</h3>
<p>Waits until the callback handler returns true. The handler gets called every &quot;interval&quot; milliseconds, and if &quot;timeout&quot; milliseconds have passed without the handler return true, it gives up and causes the test to fail. If you use the defaults, then it will check the return value once every 100ms and will throw an error after 30 seconds have passed.</p>
<pre>void waitFor(
  in func callback,
  in string message,
  in int timeout,
  in int interval,
  in object this
);
</pre>
<h6 id="Parameters_18">Parameters</h6>
<dl>
  <dt>
    <code>callback</code></dt>
  <dd>
    A callback function or closure which executes code inside the scope of the test and has to return true/false.</dd>
  <dt>
    <code>message</code></dt>
  <dd>
    Message to use for the raised exception when return value isn&apos;t true (optional)</dd>
</dl>
<dl>
  <dt>
    <code>timeout</code></dt>
  <dd>
    Total time in milliseconds to wait (optional, default: 5000ms)</dd>
  <dt>
    <code>interval</code></dt>
  <dd>
    How often to check if the element has appeared (optional, default: 100)</dd>
  <dt>
    <code>this</code></dt>
  <dd>
    Reference to the outer scope&apos;s <em>this</em> object. It&apos;s needed when <em>this</em> has to be used inside the callback function.</dd>
</dl>
<p>None</p>
<h6 id="Example_18">Example</h6>
<pre class="brush: js">// Accept the default settings
var value = { message: &quot;g&quot; };
controller.waitFor(function () {
  return value.message === &apos;foo&apos;;
}, &quot;This is expected to fail.&quot;);

// Wait until the location bar is visible, check every 100ms, and if it isn&apos;t true by 1000ms then throw an error.
var locationBar = new elementslib.ID(&apos;urlbar&apos;);
controller.waitFor(function () {
  return locationBar.getNode().visibility === true;
}, &quot;Location bar should be visible&quot;, 1000, 100);
</pre>
<h3 id="waitForElement.28.29" name="waitForElement.28.29">waitForElement()</h3>
<div class="warning notecard">
  <p><strong>Deprecated</strong> <strong>as of Mozmill 2.0</strong> - Use the <a href="/en/Mozmill/Mozmill_Element_Object" title="mozmill element object">mozmill element object</a> instead.</p>
</div>
<p>Waits for the &quot;element&quot; to appear in the user interface (for instance if you wanted to wait for part of a page or dialog to load). It checks for &quot;element&quot; every &quot;interval&quot; milliseconds, and gives up if &quot;timeout&quot; milliseconds have passed without the &quot;element&quot; appearing, causing the test to fail. If you accept the defaults, it will check for the element every 100ms and will throw an error if 30 seconds pass without the element appearing.</p>
<pre>void waitForElement(
  in Elem element,
  in int timeout,
  in int interval
);
</pre>
<h6 id="Parameters_19">Parameters</h6>
<dl>
  <dt>
    <code>element</code></dt>
  <dd>
    Element to wait for</dd>
  <dt>
    <code>timeout</code></dt>
  <dd>
    Total time in milliseconds to wait</dd>
  <dt>
    <code>interval</code></dt>
  <dd>
    How often to check if the element has appeared</dd>
</dl>
<h6 id="Return_value_18">Return value</h6>
<p>None</p>
<h6 id="Example_19">Example</h6>
<pre class="brush: js">// Typical usage - accept defaults.  See waitForEval() to see non-default operation
controller.waitForElement(new elementslib.ID(controller.window.document, &apos;foo&apos;));
</pre>
<h3 id="waitForEval.28.29" name="waitForEval.28.29">waitForEval()</h3>
<div class="warning notecard">
  <p><strong>Removed as of Mozmill 2.0 -</strong> This method was removed due to a potential security vulnerability. Use <a href="/en/Mozmill/Mozmill_Controller_Object#waitFor.28.29" title="https://developer.mozilla.org/en/Mozmill/Mozmill_Controller_Object#waitFor.28.29">waitFor()</a> instead.</p>
</div>
<p>Waits for the JavaScript &quot;expression&quot; to be true. It checks to see if the expression is true once every &quot;interval&quot; milliseconds, and if &quot;timeout&quot; milliseconds have passed without the expression becoming true, it gives up and causes the test to fail. If you use the defaults, then it will check the expression once every 100ms and will throw an error after 30 seconds have passed. The subject parameter which is passed as last argument will be substituted with the &quot;subject&quot; string inside the expression string. This method is deprecated, use the <code>waitFor</code> method instead.</p>
<pre>void waitForEval(
  in string expression,
  in int timeout,
  in int interval,
  in object subject
);
</pre>
<h6 id="Parameters_20">Parameters</h6>
<dl>
  <dt>
    <code>expression</code></dt>
  <dd>
    Expression to evaluate, optionally containing the word &quot;subject&quot; for substitution</dd>
  <dt>
    <code>timeout</code></dt>
  <dd>
    Total time in milliseconds to wait</dd>
  <dt>
    <code>interval</code></dt>
  <dd>
    How often to check if the element has appeared</dd>
  <dt>
    <code>subject</code></dt>
  <dd>
    Object to substitute for the value of &quot;subject&quot; in the expression</dd>
</dl>
<h6 id="Return_value_19">Return value</h6>
<p>None</p>
<h6 id="Example_20">Example</h6>
<pre class="brush: js">// Accept the default settings
controller.waitForEval(&apos;foo==true&apos;);

// Wait until the location bar is visible, check every 100ms, and if it isn&apos;t true by 1000ms then throw an error.
let locationBar = new elementslib.ID(&apos;urlbar&apos;)
controller.waitForEval(&apos;subject.visibility == true&apos;, 1000, 100, locationBar.getNode());
</pre>
<h3 id="waitForImage.28.29" name="waitForImage.28.29">waitForImage()</h3>
<p>Waits for the image represented by &quot;element&quot; to appear in the user interface. It checks for the image every &quot;interval&quot; milliseconds, and gives up if &quot;timeout&quot; milliseconds have passed without the &quot;element&quot; appearing, causing the test to fail. If you accept the defaults, it will check for the image every 100ms and will throw an error if 30 seconds pass without the image appearing.</p>
<pre>void waitForElement(
  in Elem element,
  in int timeout,
  in int interval
);
</pre>
<h6 id="Parameters_21">Parameters</h6>
<dl>
  <dt>
    <code>element</code></dt>
  <dd>
    Element to wait for</dd>
  <dt>
    <code>timeout</code></dt>
  <dd>
    Total time in milliseconds to wait</dd>
  <dt>
    <code>interval</code></dt>
  <dd>
    How often to check if the element has appeared</dd>
</dl>
<h6 id="Return_value_20">Return value</h6>
<p>None</p>
<h6 id="Example_21">Example</h6>
<pre class="brush: js">// Typical usage - accept defaults.  See waitForEval() to see non-default operation
controller.waitForImage(new elementslib.ID(controller.window.document, &apos;foo&apos;));
</pre>
<h3 id="waitForPageLoad.28.29" name="waitForPageLoad.28.29">waitForPageLoad()</h3>
<p>This is a browser specific method. It blocks the test until the current page completes loading.</p>
<pre>void waitForPageLoad(
  in DOMDocument document,
  in int timeout,
  in int interval
);
</pre>
<h6 id="Parameters_22">Parameters</h6>
<dl>
  <dt>
    <code>document</code></dt>
  <dd>
    Document to wait on, if not specified, uses the current document.</dd>
  <dt>
    <code>timeout</code></dt>
  <dd>
    Total time in milliseconds to wait</dd>
  <dt>
    <code>interval</code></dt>
  <dd>
    How often to check if the element has appeared</dd>
</dl>
<h6 id="Return_value_21">Return value</h6>
<p>None</p>
<h6 id="Example_22">Example</h6>
<pre class="brush: js">// Waits for the current tab to load, timing out after 3 seconds have passed and
// it will check if the page is loaded every 100ms
controller.waitForPageLoad();

// Waits for the current page to load and will timeout once the given number of
// milliseconds have passed. For example, this times out after 1 second:
controller.waitForPageLoad(1000);

// The third version allows you to specify each parameter.  This allows you to specify
// what document is loading, the time that it must load within and how often to check that
// loading is complete.  For example, this waits for the page in tab 3 to load, and will
// check whether that page is loaded every 500ms, and will timeout after 2s have passed.
controller.waitForPageLoad(controller<span><span>.tabs</span></span>.getTab(3), 2000, 500);
</pre>
<h3 id="waitThenClick.28.29" name="waitThenClick.28.29">waitThenClick()</h3>
<div class="warning notecard">
  <p><strong>Deprecated</strong> <strong>as of Mozmill 2.0</strong> - Use the <a href="/en/Mozmill/Mozmill_Element_Object" title="mozmill element object">mozmill element object</a> instead.</p>
</div>
<p>Waits for the &quot;element&quot; to appear in the user interface. It checks for &quot;element&quot; every &quot;interval&quot; milliseconds, and gives up if &quot;timeout&quot; milliseconds have passed without the &quot;element&quot; appearing, causing the test to fail. Once &quot;element&quot; appears, a click event is immediately fired at it. This is a simple shortcut API for the common pattern of waiting for an element to appear before firing a click event on it.</p>
<pre>void waitThenClick(
  in Elem element,
  in int timeout,
  in int interval
);
</pre>
<h6 id="Parameters_23">Parameters</h6>
<dl>
  <dt>
    <code>element</code></dt>
  <dd>
    Element to wait for</dd>
  <dt>
    <code>timeout</code></dt>
  <dd>
    Total time in milliseconds to wait</dd>
  <dt>
    <code>interval</code></dt>
  <dd>
    How often to check if the element has appeared</dd>
</dl>
<h6 id="Return_value_22">Return value</h6>
<p>None</p>
<h6 id="Example_23">Example</h6>
<pre class="brush: js">// Typical usage - accept defaults.  See waitForEval() to see non-default operation
controller.waitThenClick(new elementslib.ID(controller.window.document, &apos;foo&apos;));
</pre>
<h2 id="Assertion_Methods">Assertion Methods</h2>
<h3 id="assert.28.29" name="assert.28.29">assert()</h3>
<p>Asserts that the callback function returns true.</p>
<pre>boolean assert(
  in func callback,
  in string message,
  in object this
 );
</pre>
<h6 id="Parameters_24">Parameters</h6>
<dl>
  <dt>
    <code>callback</code></dt>
  <dd>
    A callback function or closure which evaluates an expression inside the scope of the test and has to return true/false.</dd>
  <dt>
    <code>message</code></dt>
  <dd>
    Message to use for the raised exception when return value isn&apos;t true (optional)</dd>
  <dt>
    <code>this</code></dt>
  <dd>
    Reference to the outer scope&apos;s <em>this</em> object. It&apos;s needed when <em>this</em> has to be used inside the callback function (optional)</dd>
</dl>
<h6 id="Return_value_23">Return value</h6>
<p>Boolean - returns true if assertion holds true, returns false if assertion is not true</p>
<h6 id="Example_24">Example</h6>
<pre class="brush: js">// Run specific javascript that evaluates to a non-zero value
controller.assert(function() {
  return 2 &gt; 1;
});

// Check if an array has the value as element (This will raise an exception with the given message)
var value = 5;
var items = [1, 2, 3, 4];
controller.assert(function() {
  return items.indexOf(value) !== -1;
}, &quot;The array has &apos;5&apos; as element.&quot;);
</pre>
<h3 id="assertChecked.28.29" name="assertChecked.28.29">assertChecked()</h3>
<p>Asserts that the passed-in checkbox &quot;element&quot;, is checked. It will cause a failure if the checkbox is not checked. Returns true if the box is checked, false if not.</p>
<pre>boolean assertChecked(
  in Elem element
);
</pre>
<h6 id="Parameters_25">Parameters</h6>
<dl>
  <dt>
    <code>element</code></dt>
  <dd>
    Element to check</dd>
</dl>
<h6 id="Return_value_24">Return value</h6>
<p>Boolean - returns true if assertion holds true, returns false if assertion is not true</p>
<h6 id="Example_25">Example</h6>
<pre class="brush: js">controller.assertChecked(new elementslib.ID(controller.window.document, &apos;foo&apos;));
</pre>
<h3 id="assertDOMProperty.28.29" name="assertDOMProperty.28.29">assertDOMProperty()</h3>
<p>If the value parameter is not specified, asserts that the given DOM attribute exists for the given element. If the value parameter is specified, asserts that the given DOM attribute on the given element is the specified value. If the assertion passes, it returns true, otherwise, it returns false and marks a failure in the test. <strong>Note: This method is only available in Mozmill 1.4.2 and later.</strong></p>
<pre>boolean assertDOMProperty(
  in Elem element
  in string attribute,
  [in string value]
);
</pre>
<h6 id="Parameters_26">Parameters</h6>
<dl>
  <dt>
    <code>element</code></dt>
  <dd>
    Element to check</dd>
  <dt>
    <code>attribute</code></dt>
  <dd>
    The DOM attribute to check</dd>
  <dt>
    <code>value</code></dt>
  <dd>
    The value that the DOM attribute is expected to contain</dd>
</dl>
<h6 id="Return_value_25">Return value</h6>
<p>Boolean - returns true if assertion holds true, returns false if assertion is not true</p>
<h6 id="Example_26">Example</h6>
<pre class="brush: js">// True if the DOM attribute called &apos;class&apos; exists
controller.assertDOMProperty(new elementslib.ID(controller.window.document, &apos;foo&apos;), &apos;class&apos;);
// True if the DOM attribute called &apos;class&apos; has a value of &apos;bar&apos;
controller.assertDOMProperty(new elementslib.ID(controller.window.document, &apos;foo&apos;), &apos;class&apos;, &apos;bar&apos;);
</pre>
<h3 id="assertImageLoaded.28.29" name="assertImageLoaded.28.29">assertImageLoaded()</h3>
<p>Asserts that the image refrerenced by &quot;element&quot; is loaded. It will cause a failure if the image is not loaded. Returns true if the image is loaded, false if not.</p>
<pre>boolean assertImageLoaded(
  in Elem element
);
</pre>
<h6 id="Parameters_27">Parameters</h6>
<dl>
  <dt>
    <code>element</code></dt>
  <dd>
    Element to check</dd>
</dl>
<h6 id="Return_value_26">Return value</h6>
<p>Boolean - returns true if assertion holds true, returns false if assertion is not true</p>
<h6 id="Example_27">Example</h6>
<pre class="brush: js">controller.assertImageLoaded(new elementslib.ID(controller.window.document, &apos;foo&apos;));
</pre>
<h3 id="assertJS.28.29" name="assertJS.28.29">assertJS()</h3>
<div class="warning notecard">
  <p><strong>Removed as of Mozmill 2.0 -</strong> This method was removed due to a potential security vulnerability.</p>
</div>
<p>Asserts that JavaScript expression evaluates to true or to a non-zero value. You can optionally pass in an object for the &quot;subject&quot; parameter and that object will be substituted for the string &quot;subject&quot; in the expression.</p>
<pre>boolean assertJS(
  in string expression,
  in object subject
);
</pre>
<h6 id="Parameters_28">Parameters</h6>
<dl>
  <dt>
    <code>expression</code></dt>
  <dd>
    An expression of JavaScript code to evaluate</dd>
  <dt>
    <code>subject</code></dt>
  <dd>
    An object to use in the expression, optional argument.</dd>
</dl>
<h6 id="Return_value_27">Return value</h6>
<p>Boolean - returns true if assertion holds true, returns false if assertion is not true</p>
<h6 id="Example_28">Example</h6>
<pre class="brush: js">// Run specific javascript that evaluates to a non-zero value
controller.assertJS(&apos;2 &gt; 1&apos;);

// Check if an array has three elements (this one would return false and cause a failure)
var items = [&apos;1&apos;, &apos;2&apos;, &apos;3&apos;, &apos;4&apos;];
controller.assertJS(&apos;subject.length == 3&apos;, items);
</pre>
<h3 id="assertJSProperty.28.29" name="assertJSProperty.28.29">assertJSProperty()</h3>
<p>If the value parameter is not specified, asserts that the given Javascript object property exists for the given element. If the value parameter is specified, asserts that the given Javascript object property on the given element is the specified value. If the assertion passes, it returns true, otherwise, it returns false and marks a failure in the test. <strong>Note: This method is only available in Mozmill 1.4.2 and later.</strong></p>
<pre>boolean assertJSProperty(
  in Elem element
  in string attribute,
  [in string value]
);
</pre>
<h6 id="Parameters_29">Parameters</h6>
<dl>
  <dt>
    <code>element</code></dt>
  <dd>
    Element to check</dd>
  <dt>
    <code>attribute</code></dt>
  <dd>
    The Javascript object property to check</dd>
  <dt>
    <code>value</code></dt>
  <dd>
    The value that the Javascript object property is expected to contain</dd>
</dl>
<h6 id="Return_value_28">Return value</h6>
<p>Boolean - returns true if assertion holds true, returns false if assertion is not true</p>
<h6 id="Example_29">Example</h6>
<pre class="brush: js">// True if the Javascript object property called &apos;class&apos; exists
controller.assertJSProperty(new elementslib.ID(controller.window.document, &apos;foo&apos;), &apos;class&apos;);
// True if the Javascript object property called &apos;class&apos; has a value of &apos;bar&apos;
controller.assertJSProperty(new elementslib.ID(controller.window.document, &apos;foo&apos;), &apos;class&apos;, &apos;bar&apos;);
</pre>
<h3 id="assertNode.28.29" name="assertNode.28.29">assertNode()</h3>
<p>Asserts that the given element exists. If the element does not exist, this returns false and marks a failure in the test. Note that this tests existence, not visibility. If the element is not visible, but it does exist in the DOM, this will return true.</p>
<pre>boolean assertNode(
  in Elem element
);
</pre>
<h6 id="Parameters_30">Parameters</h6>
<dl>
  <dt>
    <code>element</code></dt>
  <dd>
    Element to check</dd>
</dl>
<h6 id="Return_value_29">Return value</h6>
<p>Boolean - returns true if assertion holds true, returns false if assertion is not true</p>
<h6 id="Example_30">Example</h6>
<pre class="brush: js">controller.assertNode(new elementslib.ID(controller.window.document, &apos;foo&apos;));
</pre>
<h3 id="assertNodeNotExist.28.29" name="assertNodeNotExist.28.29">assertNodeNotExist()</h3>
<p>Asserts that the given element DOES NOT exist. If the element does not exist, this returns true and if it does exist, it returns false and marks a failure in the test. Note that like <code>assertNode</code> this tests existence, not visibility.</p>
<pre>boolean assertNodeNotExist(
  in Elem element
);
</pre>
<h6 id="Parameters_31">Parameters</h6>
<dl>
  <dt>
    <code>element</code></dt>
  <dd>
    Element to check</dd>
</dl>
<h6 id="Return_value_30">Return value</h6>
<p>Boolean - returns true if assertion holds true, returns false if assertion is not true</p>
<h6 id="Example_31">Example</h6>
<pre class="brush: js">controller.assertNodeNotExist(new elementslib.ID(controller.window.document, &apos;foo&apos;));
</pre>
<h3 id="assertNotChecked.28.29" name="assertNotChecked.28.29">assertNotChecked()</h3>
<p>Asserts that the given element is not in a &quot;checked&quot; state. So, if the element is unchecked, this returns true, otherwise false.</p>
<pre>boolean assertNotChecked(
  in Elem element
);
</pre>
<h6 id="Parameters_32">Parameters</h6>
<dl>
  <dt>
    <code>element</code></dt>
  <dd>
    Element to check</dd>
</dl>
<h6 id="Return_value_31">Return value</h6>
<p>Boolean - returns true if assertion holds true, returns false if assertion is not true</p>
<h6 id="Example_32">Example</h6>
<pre class="brush: js">controller.assertNotChecked(new elementslib.ID(controller.window.document, &apos;foo&apos;));
</pre>
<h3 id="assertNotDOMProperty.28.29" name="assertNotDOMProperty.28.29">assertNotDOMProperty()</h3>
<p>If the value parameter is not specified, asserts that the given DOM attribute does not exist on the given element. If the value parameter is specified, asserts that the given DOM attribute for the given element is not equal to the given value. If the assertion passes, it returns true, otherwise, it returns false and marks a failure in the test. This is very useful for asserting that various controls are not disabled, options are not selected etc. <strong>Note: This method is only available in Mozmill 1.4.2 and later.</strong></p>
<pre>boolean assertNotDOMProperty(
  in Elem element
  in string attribute
  [in string value]
);
</pre>
<h6 id="Parameters_33">Parameters</h6>
<dl>
  <dt>
    <code>element</code></dt>
  <dd>
    Element to check</dd>
  <dt>
    <code>attribute</code></dt>
  <dd>
    The DOM attribute to check</dd>
  <dt>
    <code>value</code></dt>
  <dd>
    The value the DOM attribute is expected to not contain</dd>
</dl>
<h6 id="Return_value_32">Return value</h6>
<p>Boolean - returns true if assertion holds true, returns false if assertion is not true</p>
<h6 id="Example_33">Example</h6>
<pre class="brush: js">// True if there is no DOM attribute called &apos;disabled&apos;
controller.assertNotDOMProperty(new elementslib.ID(controller.window.document, &apos;fooControl&apos;), &apos;disabled&apos;);
// True if the DOM attribute called &apos;name&apos; doesn&apos;t have a value of &apos;bar&apos;
controller.assertNotDOMProperty(new elementslib.ID(controller.window.document, &apos;fooControl&apos;), &apos;name&apos;, &apos;bar&apos;);
</pre>
<h3 id="assertNotJSProperty.28.29" name="assertNotJSProperty.28.29">assertNotJSProperty()</h3>
<p>If the value parameter is not specified, asserts that the given Javascript object property does not exist for the given element. If the value parameter is specified, asserts that the given Javascript object property for the given element is not equal to the given value. If the assertion passes, it returns true, otherwise, it returns false and marks a failure in the test. This is very useful for asserting that various controls are not disabled, options are not selected etc. <strong>Note: This method is only available in Mozmill 1.4.2 and later.</strong></p>
<pre>boolean assertNotJSProperty(
  in Elem element
  in string attribute
  [in string value]
);
</pre>
<h6 id="Parameters_34">Parameters</h6>
<dl>
  <dt>
    <code>element</code></dt>
  <dd>
    Element to check</dd>
  <dt>
    <code>attribute</code></dt>
  <dd>
    The Javascript object property to check</dd>
  <dt>
    <code>value</code></dt>
  <dd>
    The value the Javascript object property is expected to not contain</dd>
</dl>
<h6 id="Return_value_33">Return value</h6>
<p>Boolean - returns true if assertion holds true, returns false if assertion is not true</p>
<h6 id="Example_34">Example</h6>
<pre class="brush: js">// True if there is no Javascript object property called &apos;disabled&apos;
controller.assertNotJSProperty(new elementslib.ID(controller.window.document, &apos;fooControl&apos;), &apos;disabled&apos;);
// True if the Javascript object property called &apos;name&apos; doesn&apos;t have a value of &apos;bar&apos;
controller.assertNotJSProperty(new elementslib.ID(controller.window.document, &apos;fooControl&apos;), &apos;name&apos;, &apos;bar&apos;);
</pre>
<h3 id="assertSelected.28.29" name="assertSelected.28.29">assertSelected()</h3>
<p>Asserts that the given drop-down (or option) element has the given value selected. It uses the specified value of the selected option to verify this, you will have to usually look at the DOM Inspector to determine what this value should be.</p>
<pre>boolean assertSelection(
  in Elem element,
  in string value
);
</pre>
<h6 id="Parameters_35">Parameters</h6>
<dl>
  <dt>
    <code>element</code></dt>
  <dd>
    Element to check</dd>
  <dt>
    <code>value</code></dt>
  <dd>
    The value of the option you expect to be selected</dd>
</dl>
<h6 id="Return_value_34">Return value</h6>
<p>Boolean - returns true if assertion holds true, returns false if assertion is not true</p>
<h6 id="Example_35">Example</h6>
<pre class="brush: js">controller.assertSelected(new elementslib.ID(controller.window.document, &apos;foo&apos;), &apos;optionvalue&apos;);
</pre>
<h3 id="assertText.28.29" name="assertText.28.29">assertText()</h3>
<p>Asserts that the given element&apos;s innerHTML is equal to a given string of text.</p>
<pre>boolean assertText(
  in Elem element,
  in string text
);
</pre>
<h6 id="Parameters_36">Parameters</h6>
<dl>
  <dt>
    <code>element</code></dt>
  <dd>
    Element to check</dd>
  <dt>
    <code>text</code></dt>
  <dd>
    The text the element&apos;s innerHTML should contain</dd>
</dl>
<h6 id="Return_value_35">Return value</h6>
<p>Boolean - returns true if assertion holds true, returns false if assertion is not true</p>
<h6 id="Example_36">Example</h6>
<pre class="brush: js">// Simple use for text boxes.
controller.assertText(new elementslib.ID(controller.window.document, &apos;foo&apos;), &apos;&lt;b&gt;bar&lt;/b&gt;&apos;);

// If you had a XUL Description field of the form: &lt;description id=&quot;mydesc&quot;&gt;Some text here&lt;/description&gt;
// Then you could use this statement to verify the &quot;Some text here&quot; string:
controller.assertText(new elementslib.ID(controller.window.document, &apos;mydesc&apos;), &apos;&lt;i&gt;Some text here&lt;/i&gt;&apos;);
</pre>
<h3 id="assertValue.28.29" name="assertValue.28.29">assertValue()</h3>
<p>Asserts that the element contains the given value. This is typically used with input controls, like form elements, or textboxes. A primary use case is to shortcut when looking for the &quot;value&quot; attribute and ascertaining that it contains a certain value. You could of course just use the <code>assertDOMProperty</code> method.</p>
<pre>boolean assertValue(
  in Elem element,
  in string value
);
</pre>
<h6 id="Parameters_37">Parameters</h6>
<dl>
  <dt>
    <code>element</code></dt>
  <dd>
    Element to check</dd>
  <dt>
    <code>value</code></dt>
  <dd>
    The value of the element that you expect</dd>
</dl>
<h6 id="Return_value_36">Return value</h6>
<p>Boolean - returns true if assertion holds true, returns false if assertion is not true</p>
<h6 id="Example_37">Example</h6>
<pre class="brush: js">controller.assertValue(new elementslib.ID(controller.window.document, &apos;foo&apos;), &apos;bar&apos;);
</pre>
<h2 id="browserSpecificMethods" name="browserSpecificMethods">Browser Specific Methods</h2>
<h3 id="open.28.29" name="open.28.29">open()</h3>
<p>Opens a given URI in the browser.</p>
<pre>void open(
  in string uri
);
</pre>
<h6 id="Parameters_38">Parameters</h6>
<dl>
  <dt>
    <code>uri</code></dt>
  <dd>
    URI to open</dd>
</dl>
<h6 id="Return_value_37">Return value</h6>
<p>None</p>
<h6 id="Example_38">Example</h6>
<pre class="brush: js">controller.open(&apos;http://www.mozilla.org&apos;);
</pre>
<h3 id="goBack.28.29" name="goBack.28.29">goBack()</h3>
<p>Causes the browser to go back one step into the history for this page.</p>
<pre>boolean goBack();
</pre>
<h6 id="Parameters_39">Parameters</h6>
<p>None</p>
<h6 id="Return_value_38">Return value</h6>
<p>None</p>
<h6 id="Example_39">Example</h6>
<pre class="brush: js">controller.goBack();
</pre>
<h3 id="goForward.28.29" name="goForward.28.29">goForward()</h3>
<p>Causes the browser to go forward one step into the back/forward history for this page.</p>
<pre>void goForward();
</pre>
<h6 id="Parameters_40">Parameters</h6>
<p>None</p>
<h6 id="Return_value_39">Return value</h6>
<p>None</p>
<h6 id="Example_40">Example</h6>
<pre class="brush: js">controller.goForward();
</pre>
<h3 id="refresh.28.29" name="refresh.28.29">refresh()</h3>
<p>Causes the browser to refresh the current page.</p>
<pre>void refresh();
</pre>
<h6 id="Parameters_41">Parameters</h6>
<p>None</p>
<h6 id="Return_value_40">Return value</h6>
<p>None</p>
<h6 id="Example_41">Example</h6>
<pre class="brush: js">controller.refresh();
</pre>
<h3 id="tabs.getTab.28.29" name="tabs.getTab.28.29">tabs.getTab()</h3>
<p>Gets a reference to the document rendered by the tab corresponding to the given index.</p>
<pre>DOMDocument tabs.getTab();
</pre>
<h6 id="Parameters_42">Parameters</h6>
<dl>
  <dt>
    <code>index</code></dt>
  <dd>
    The zero-based index number for the tab in question.</dd>
</dl>
<h6 id="Return_value_41">Return value</h6>
<p>DOMDocument</p>
<h6 id="Example_42">Example</h6>
<pre class="brush: js">let doc = controller.tabs.getTab(0);
let fooelement = doc.getElementById(&apos;foo&apos;);
</pre>
<h3 id="tabs.selectTabIndex.28.29" name="tabs.selectTabIndex.28.29">tabs.selectTabIndex()</h3>
<p>Switches to a tab based on the given zero-based index. This is the equivalent of clicking on the tab in the tab bar with the mouse to &quot;focus&quot; a tab.</p>
<pre>void tabs.selectTabIndex();
</pre>
<h6 id="Parameters_43">Parameters</h6>
<dl>
  <dt>
    <code>index</code></dt>
  <dd>
    The zero-based index number for the tab in question.</dd>
</dl>
<h6 id="Return_value_42">Return value</h6>
<p>None</p>
<h6 id="Example_43">Example</h6>
<pre class="brush: js">controller.tabs.selectTabIndex(0);
</pre>
