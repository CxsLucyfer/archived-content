<p>Automated testing is an increasingly significant and important part of <a class="internal" href="/en-US/docs/Mozilla/Projects/MailNews" title="en/MailNews">MailNews</a> development. It allows reviewers to quickly pick up regressions in patches and helps developers to think about different cases.</p>

<p>This page and its sub-pages describe (and link to) the available test mechanisms within MailNews, and provide supporting information for developers and testers.</p>

<h2 id="Functional_testing">Functional testing</h2>

<div id="section_1">
<div id="section_2">
<h3 id="xpcshell-tests_and_make_check">xpcshell-tests and make check</h3>

<p>These are core test harnesses to which MailNews adds its own tests. These tests are run against almost every changeset that gets committed to the <a class="internal" href="/en-US/docs/Mozilla/Thunderbird" title="en/Thunderbird">Thunderbird</a> and <a class="external" href="http://www.seamonkey-project.org/" title="http://www.seamonkey-project.org/">SeaMonkey</a> code bases.</p>

<ul>
 <li><code><a class="internal" href="/en/MailNews_xpcshell-tests" title="en/MailNews xpcshell-tests">xpcshell-tests</a></code> are run in JavaScript without any chrome present. This makes them especially useful for testing at the component / module level. <code>xpcshell-tests</code> are the quickest tests to run. MailNews provides additional facilities as described on the MailNews automated testing page (see below).</li>
 <li>"<code>make check</code>" is used to run <a class="internal" href="/en/Compiled-code_automated_tests" title="en/Compiled-code automated tests">compiled code tests</a>. These tests can go beyond the limitations of <code>xpcshell-tests</code> (for example, access c++ code) and other testing options that don't test at the right level.</li>
</ul>

<h3 id="Testing_frameworks">Testing frameworks</h3>

<p>The <a href="/en-US/docs/Mozilla/Projects/MailNews/AsyncTestUtils_Extended_Framework" title="en/MailNews/AsyncTestUtils Extended Framework">AsyncTestUtils Extended Framework</a> supports:</p>

<ul>
 <li>Asynchronous test operation: A reasonably convenient means of writing tests that involve asynchronous operations by using generators. In the long term we would like to lose this extra complexity in favor of the event-loop-spinning style of operation used by mozmill.</li>
 <li>Message synthesis: Create messages by specifying what properties the messages should have.</li>
 <li>Message injection: Inject synthesized messages via local or IMAP (using a fake server).</li>
 <li>Message manipulation: Mark messages as read, tag them, untag them, move them to other folders, trash them, etc.</li>
 <li>Enhanced logging: Supports generating rich <a href="/en-US/docs/Glossary/JSON" title="en/JSON">JSON</a> streams to disk or over the network for consumption by <a class="external" href="https://hg.mozilla.org/users/bugmail_asutherland.org/logsploder/" title="http://hg.mozilla.org/users/bugmail_asutherland.org/logsploder/">LogSploder</a> or other tools.</li>
</ul>

<h2 id="Performance_testing">Performance testing</h2>

<h3 id="Mail_leak_and_bloat_tests">Mail leak and bloat tests</h3>

<p>These tests start up Thunderbird or SeaMonkey and record any leaks found, as well as the total memory requirement. Although currently based on simple tests, these are useful for determining if new leaks have been introduced.</p>

<p>For more information, see <a href="/en-US/docs/Mozilla/Projects/MailNews/Leak_And_Bloat_Tests" title="en/MailNews/Leak And Bloat Tests">Leak and Bloat Tests</a>.</p>

<h2 id="MailNews_facilities">MailNews facilities</h2>

<p>MailNews provides some additional facilities to aid the testing of MailNews protocols.</p>

<ul>
 <li><a class="internal" href="/en-US/docs/Mozilla/Thunderbird/MailNews_fakeserver" title="en/MailNews fakeserver">Fake servers</a>: these are JavaScript-written servers that can be used to simulate IMAP, POP, SMTP and NNTP servers.</li>
</ul>
</div>
</div>