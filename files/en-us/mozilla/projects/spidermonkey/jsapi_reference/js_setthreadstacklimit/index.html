---
title: JS_SetThreadStackLimit
slug: Mozilla/Projects/SpiderMonkey/JSAPI_reference/JS_SetThreadStackLimit
tags:
  - JSAPI Reference
  - Obsolete
  - SpiderMonkey
---
<p></p><div class="obsolete obsoleteHeader notecard"><p><strong><span class="icon-only-inline" title="This is an obsolete API and is no longer guaranteed to work."><i class="icon-trash"> </i></span> Obsolete since JSAPI 13</strong><br>This feature is obsolete. Although it may still work in some browsers, its use is discouraged since it could be removed at any time. Try to avoid using it.</p></div><p></p>
<div class="summary">
 <p>Enable or disable checks to avoid overflowing the C stack. This is deprecated, Use <a href="/en-US/docs/Mozilla/Projects/SpiderMonkey/JSAPI_reference/JS_SetNativeStackQuota" title="The documentation about this has not yet been written; please consider contributing!"><code>JS_SetNativeStackQuota</code></a> instead.</p>
</div>
<h2 id="Syntax" name="Syntax">Syntax</h2>
<pre class="brush: cpp">void
JS_SetThreadStackLimit(JSContext *cx, jsuword limitAddr)
</pre>
<p> </p>
<table class="fullwidth-table">
 <tbody>
  <tr>
   <th>Name</th>
   <th>Type</th>
   <th>Description</th>
  </tr>
  <tr>
   <td><code>cx</code></td>
   <td><a href="/en-US/docs/Mozilla/Projects/SpiderMonkey/JSAPI_reference/JSRuntime" title="In the JSAPI, JSRuntime is the top-level object that represents an instance of the JavaScript engine. A program typically has only one JSRuntime, even if it has many threads. The JSRuntime is the universe in which JavaScript objects live; they can&apos;t travel to other JSRuntimes."><code>JSContext *</code></a></td>
   <td>The context to configure.</td>
  </tr>
  <tr>
   <td><code>limitAddr</code></td>
   <td><a href="/en-US/docs/Mozilla/Projects/SpiderMonkey/JSAPI_reference/jsint" title="jsint and jsuint are 32-bit integer types."><code>jsuword</code></a></td>
   <td>An address near the top of the C stack. This should be a safely writeable address well short of the actual top of the stack.</td>
  </tr>
 </tbody>
</table>
<h2 id="Description" name="Description">Description</h2>
<p><code>JS_SetThreadStackLimit</code> sets the maximum (if stack grows upward) or minimum (downward) legal stack byte address in <code>limitAddr</code> for the thread or process stack used by <code>cx</code>. To disable stack size checking, pass <code>0</code> for <code>limitAddr</code>.</p>
<p>In a <a href="/en-US/docs/Mozilla/Projects/SpiderMonkey/JSAPI_reference/JS_THREADSAFE" title="JS_THREADSAFE was a compile-time option that enables support for running multiple threads of JavaScript code concurrently as long as no objects or strings are shared between them."><code>JS_THREADSAFE</code></a> build, after passing a <code>JSContext</code> from one thread to another, call <code>JS_SetThreadStackLimit(cx, 0)</code> after calling <a href="/en-US/docs/Mozilla/Projects/SpiderMonkey/JSAPI_reference/JS_ClearContextThread" title="Transfer a JSContext from one thread to another."><code>JS_SetContextThread</code></a>. (See also <a href="/en-US/docs/Mozilla/Projects/SpiderMonkey/JSAPI_reference/JS_ClearContextThread" title="Transfer a JSContext from one thread to another."><code>JS_SetContextThread</code></a> and <a href="/en-US/docs/Mozilla/Projects/SpiderMonkey/JSAPI_reference/JS_ClearContextThread" title="Transfer a JSContext from one thread to another."><code>JS_ClearContextThread</code></a>.)</p>
<h2 id="See_Also">See Also</h2>
<ul>
 <li><a href="http://mxr.mozilla.org/mozilla-central/ident?i=JS_SetThreadStackLimit">MXR ID Search for <code>JS_SetThreadStackLimit</code></a></li>
 <li><a href="/en-US/docs/Mozilla/Projects/SpiderMonkey/JSAPI_reference/JS_SetNativeStackQuota"><code>JS_SetNativeStackQuota</code></a></li>
 <li><a href="https://bugzilla.mozilla.org/show_bug.cgi?id=723021">bug 723021</a></li>
</ul>
