---
title: JS_SetScriptStackQuota
slug: Mozilla/Projects/SpiderMonkey/JSAPI_reference/JS_SetScriptStackQuota
tags:
  - JSAPI Reference
  - Obsolete
  - SpiderMonkey
---
<p></p><div class="obsolete obsoleteHeader notecard"><p><strong><span class="icon-only-inline" title="This is an obsolete API and is no longer guaranteed to work."><i class="icon-trash"> </i></span> Obsolete</strong><br>This feature is obsolete. Although it may still work in some browsers, its use is discouraged since it could be removed at any time. Try to avoid using it.</p></div><p></p>

<div class="summary">
<p>Set the maximum amount of memory a context will use for certain data structures.</p>
</div>

<h2 id="Syntax" name="Syntax">Syntax</h2>

<pre class="brush: cpp">void
JS_SetScriptStackQuota(JSContext *cx, size_t quota);
</pre>

<table class="fullwidth-table">
 <tbody>
  <tr>
   <th>Name</th>
   <th>Type</th>
   <th>Description</th>
  </tr>
  <tr>
   <td><code>cx</code></td>
   <td><a href="/en-US/docs/Mozilla/Projects/SpiderMonkey/JSAPI_reference/JSRuntime"><code>JSContext *</code></a></td>
   <td>The context to configure.</td>
  </tr>
  <tr>
   <td><code>quota</code></td>
   <td><code>size_t</code></td>
   <td>The desired stack quota setting, in bytes.</td>
  </tr>
 </tbody>
</table>

<h2 id="Description" name="Description">Description</h2>

<p>Set the quota on the number of bytes that stack-like data structures can use when the runtime compiles and executes scripts. These structures also consume heap space, so <a href="/en-US/docs/Mozilla/Projects/SpiderMonkey/JSAPI_reference/JS_SetThreadStackLimit" title="The documentation about this has not yet been written; please consider contributing!"><code>JS_SetThreadStackLimit</code></a> does not bound their size. The default quota is 32MB which is quite generous.</p>

<p>The function must be called before any script compilation or execution API calls, i.e. either immediately after <a href="/en-US/docs/Mozilla/Projects/SpiderMonkey/JSAPI_reference/JS_NewContext" title="JS_NewContext creates a new JSContext in the runtime rt. On success, it returns a pointer to the new context. Otherwise it returns NULL. For more details about contexts, see JSContext. For sample code that creates and initializes a JSContext, see JSAPI User Guide."><code>JS_NewContext</code></a> or from the <a href="/en-US/docs/Mozilla/Projects/SpiderMonkey/JSAPI_reference/JS_SetContextCallback" title="JS_SetContextCallback specifies a callback function that is automatically called when JSContexts are created or destroyed. Only one callback function may be specified per JS runtime. This function returns the previous context callback, if any, else NULL."><code>JSCONTEXT_NEW</code></a> context callback.</p>

<h2 id="See_Also">See Also</h2>

<ul>
 <li><a href="http://mxr.mozilla.org/mozilla-central/ident?i=JS_SetScriptStackQuota">MXR ID Search for <code>JS_SetScriptStackQuota</code></a></li>
 <li><a href="https://bugzilla.mozilla.org/show_bug.cgi?id=644241">bugÂ 644241</a></li>
</ul>
