<h3 id="Release_checklist">Release checklist</h3>
<ol><li> Change the NSPR version in <code>mozilla/nsprpub/pr/include/prinit.h</code>.
</li><li> Change the NSPR version in <code>mozilla/nsprpub/{configure.in,configure}</code>.
</li><li> Change the NSPR version in <code>mozilla/nsprpub/pr/tests/vercheck.c</code>.
</li><li> Change the NSPR version in <code>mozilla/nsprpub/admin/repackage.sh</code>.
</li></ol>
<h3 id="Source_tarball">Source tarball</h3>
<h3 id="Binary_distributions">Binary distributions</h3>
<p>Right now I use the <code>mozilla/nsprpub/admin/repackage.sh</code> script to generate the binary distributions published on ftp.mozilla.org. As the name of the shell script implies, <code>repackage.sh</code> merely repackages binary distributions in a different format.
</p><p>Before you run <code>repackage.sh</code>, you need to have built the binary distributions using the "gmake release" makefile target. These binary distributions are jar files, which are really zip files, and they are published in the directory <code>/share/builds/components</code>. This design comes from the Netscape days.
</p><p>The <code>repackage.sh</code> script repackages the jar files into the form most commonly used on that platform. So on Unix it repackages the jar files into gzipped tar files, and on Windows it repackages the jar files into zip files.
</p><p>Edit the <code>repackage.sh</code> script to customize it for your environment.
</p><p>After you have run <code>repackage.sh</code>, follow the <a class="external" href="http://www.mozilla.org/build/ftp-stage.html">instructions</a> in to upload the files to ftp.mozilla.org's staging server, so that they eventually show up on ftp.mozilla.org. The host ftp.mozilla.org can be accessed via the ftp, http, and https protocols. We recommend using <a class=" link-https" href="https://ftp.mozilla.org/">https://ftp.mozilla.org/</a>.
</p><p><b>Note:</b> For NSS, the script equivalent to NSPR's <code>repackage.sh</code> is <code>/u/robobld/bin/sbsinit/nss/push/buildbindist.sh</code> in the "SVBuild" source tree.
</p>