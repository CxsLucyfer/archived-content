<p>NOTE: This is a draft</p>

<p>If you are in this page, it is likely that you want to run tests in the same hosts that we run tests on Treeherder.<br>
 If you want to run Docker in your local host read <a href="Docker">this page</a> instead.</p>

<p>For TaskCluster tasks (<a class="external external-icon" href="https://treeherder.mozilla.org/#/jobs?repo=mozilla-central&amp;filter-searchStr=tc">see TaskCluster jobs on Treeherder</a>) you can get a task created based on the one you want that will get you an SSH and VNC like web pages inside of the Docker container.<br>
 The rest of this page will only talk about the interactive mode from TaskCluster.</p>

<p>You can read more about this feature in <a href="https://jonasfj.dk/2016/03/one-click-loaners-with-taskcluster/">this blog post</a>.</p>

<p>NOTE: When you connect, be at ease that you can't wedge the machine you connect to because you're inside of a Docker container.<br>
 NOTE: Only desktop tests have VNC access.</p>

<ul>
</ul>

<h2 id="Connect_to_an_interactive_session">Connect to an interactive session</h2>

<p><span><span>NOTE: This may not work with all tasks.</span></span></p>

<p>In order to re-create a task with interactive capacity follow these steps:</p>

<ol>
 <li>Click on desired job on Treeherder</li>
 <li>Find "Inspect task" hyperlink in the details panel and click on it</li>
 <li>Find and click "Log-in" button at top right
  <ul>
   <li>Choose your login method and click on "Grant access"</li>
  </ul>
 </li>
 <li>Back to the task click on the "Task" tab on the top left and click on it</li>
 <li>Find and click on "One-Click Loaner" button
  <ul>
   <li>You will see a prompt explaining how this task will be different than the original</li>
  </ul>
 </li>
 <li>You will get to a new page and will have to wait until your loaner is ready (minutes to seconds)
  <ol>
   <li>It will be ready when you see "Loaner ready!"</li>
   <li>NOTE: You have 5 minutes to connect before it shuts down</li>
  </ol>
 </li>
 <li>Click on "Shell" and/or "Display" and that's it!
  <ul>
   <li>At this point you will also see a hyperlink to the task that is running as interactive</li>
   <li>Under such task you will see under "Artifacts": <span><span><u>display.html</u> and <u>shell.html</u> which is the same as clicking on the links from step 7</span></span></li>
  </ul>
 </li>
</ol>

<p><strong>BEWARE</strong>: At the moment, the test execution will start immediately and start running the tests. You can see the output of such run by clicking on the 'TaskId' hyperlink from step 7 and then clicking on "Run 0" tab. If you kill mozharness or firefox you will wedge your interactive session. This will be fixed in following iterations.</p>

<h2 id="Run_tests_inside_of_an_interactive_session">Run tests inside of an interactive session</h2>

<p><strong>Work in progress.</strong></p>

<p>When you connect to the SSH interface, you will see a message of the day and you will see some information letting you know that we're downloading the binaries, tests and setting up the Python virtual environment.<br>
 In few minutes, everything will be set up and you will be told how to run all tests.</p>