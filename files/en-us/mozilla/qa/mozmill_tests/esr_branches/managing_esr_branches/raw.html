<p>Every 10 months or so we will release a new Firefox ESR build. In turn this means we need to create a new <em>mozmill-esrN</em> branch. A few weeks following the release we will also drop support for the old ESR release. In turn this means we need to deprecate the old <em>mozmill-esrN</em> branch. Follow the instructions below to create a new branch and deprecate the old branch.</p>
<h2 id="Creating_a_new_ESR_branch">Creating a new ESR branch</h2>
<p>Create a new ESR branch out of the <code>mozilla-release</code> branch.</p>
<div class="warning"><strong>Warning:</strong> Only perform this action after the <code>mozilla-beta -&gt; mozilla-release</code> merge has been performed.</div>
<pre style="margin-left: 40px;">$ hg pull
$ hg up -C mozilla-release
$ hg branch mozilla-esr%VERSION%
$ hg commit -m "Create mozilla-esr%VERSION% branch"
$ hg push --new-branch
</pre>
<div class="note"><strong>Note: </strong><code>%VERSION%</code> in this case refers to the version number of the <strong>new</strong> release (ex. 10)</div>
<h2 id="Deprecating_an_old_ESR_branch">Deprecating an old ESR branch</h2>
<p>Once an ESR release no longer becomes supported (usually after 1 or 2 point releases on the new version), we need to deprecate the old ESR branch.</p>
<div class="warning"><strong>Warning</strong>: Only perform this action once support for a given ESR release has been dropped.</div>
<pre style="margin-left: 40px;">$ hg pull
$ hg up -C mozilla-esr%VERSION%
$ hg commit --close-branch -m "Close mozilla-esr%VERSION% branch"
$ hg push
</pre>
<div class="note"><strong>Note: </strong><code>%VERSION%</code> in this case refers to the version number of the <strong>old</strong> release (ex. 10)</div>