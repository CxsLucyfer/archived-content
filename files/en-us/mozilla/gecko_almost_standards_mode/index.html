---
title: Gecko's "Almost Standards" Mode
slug: Mozilla/Gecko_Almost_Standards_Mode
tags:
  - Gecko
  - Web Development
  - Web Standards
---
<p>As of Mozilla 1.0.1 and 1.1 beta, there is a new rendering mode referred to as &quot;almost standards&quot; mode. This is added to the long-standing &quot;<a href="/en-US/docs/Web/HTML/Quirks_Mode_and_Standards_Mode" title="Mozilla&apos;s_Quirks_Mode">quirks</a>&quot; and &quot;standards&quot; modes.</p>

<p><span class="seoSummary">&quot;Almost standards&quot; rendering mode is exactly the same as &quot;standards&quot; mode in all details save one, where it works like &quot;quirks&quot; mode: the height calculations for line boxes and some of the inline elements in them.</span>  A common case that this affects is the layout of images inside table cells. This means that sliced-images-in-tables layouts are less likely to fall apart in Gecko-based browsers based on the rendering engine found in Mozilla 1.0.1 or later when in either &quot;quirks&quot; or &quot;almost standards&quot; mode. (See the DevEdge article &quot;<a href="/en-US/docs/Archive/Misc_top_level/Images,_Tables,_and_Mysterious_Gaps" title="Images,_Tables,_and_Mysterious_Gaps">Images, Tables, and Mysterious Gaps</a>&quot; for a detailed explanation of how such layouts are treated in &quot;standards&quot; mode.)</p>

<p>In slightly more detail, what differs in almost-standards mode is roughly this: inline boxes that have no non-whitespace text as a child and have no border, padding, or margin:</p>

<ul>
 <li>do not influence the size of the line box (that is, their <a href="/en-US/docs/Web/CSS/line-height">line-height</a> is ignored)</li>
 <li>do not get a height (e.g., for their background) larger than that of their descendants, even if their font size is larger (if they have no descendants, they are zero-height positioned at their baseline)</li>
</ul>

<p>Other than this one difference, &quot;almost standards&quot; and &quot;standards&quot; modes are exactly the same in terms of layout and other behaviors.</p>

<h3 id="Triggering_.22Almost_Standards.22" name="Triggering_.22Almost_Standards.22">Triggering &quot;Almost Standards&quot;</h3>

<p>The DOCTYPEs that will trigger &quot;almost standards&quot; mode are those which contain:</p>

<ul>
 <li>The public identifier &quot;<code>-//W3C//DTD XHTML 1.0 Transitional//EN</code>&quot;</li>
 <li>The public identifier &quot;<code>-//W3C//DTD XHTML 1.0 Frameset//EN</code>&quot;</li>
 <li>The public identifier &quot;<code>-//W3C//DTD HTML 4.01 Transitional//EN</code>&quot;, with a system identifier</li>
 <li>The public identifier &quot;<code>-//W3C//DTD HTML 4.01 Frameset//EN</code>&quot;, with a system identifier</li>
 <li>The IBM system DOCTYPE &quot;<code><span class="nowiki">http://www.ibm.com/data/dtd/v11/ibmxhtml1-transitional.dtd</span></code>&quot;</li>
</ul>

<p>A complete DOCTYPE contains a public identifier and a system identifier. In discussions of DOCTYPEs, many people will refer to a DOCTYPE as being &quot;with URI&quot; or &quot;without URI.&quot; The URI is the system identifier. For example, consider the following DOCTYPE:</p>

<pre>&lt;!DOCTYPE HTML PUBLIC &quot;-//W3C//DTD HTML 4.01 Transitional//EN&quot;
			&quot;http://www.w3.org/TR/html4/loose.dtd&quot;&gt;</pre>

<p>The parts are as follows:</p>

<ul>
 <li>Public Identifier: &quot;<code>-//W3C//DTD HTML 4.01 Transitional//EN</code>&quot;</li>
 <li>System Identifier: &quot;<code><span class="nowiki">http://www.w3.org/TR/html4/loose.dtd</span></code>&quot;</li>
</ul>

<p>Thus any HTML 4.01 Transitional or Frameset DOCTYPE with a URI (system identifier) will trigger &quot;almost standards&quot; mode, as will any XHTML 1.0 Transitional or Frameset DOCTYPE, with or without the URI. Authors outside of IBM do not need to worry about the custom DOCTYPE that will also trigger &quot;almost standards&quot; mode.</p>

<h3 id="Recommendations" name="Recommendations">Recommendations</h3>

<ul>
 <li>For authors who are attempting to migrate to validated markup using either HTML 4.01 or XHTML 1.0, and who are still using image-in-table design concepts, make sure to use a DOCTYPE that will trigger &quot;almost standards&quot; mode.</li>
</ul>

<h3 id="Also_On_MDC" name="Also_On_MDC">Also On MDC</h3>

<ul>
 <li><a href="/en-US/docs/Archive/Misc_top_level/Images,_Tables,_and_Mysterious_Gaps">Images, Tables, and Mysterious Gaps</a></li>
 <li><a href="/en-US/docs/Archive/Web_Standards/Mozilla_s_DOCTYPE_sniffing">Mozilla&apos;s DOCTYPE sniffing</a></li>
 <li><a href="/en-US/docs/Web/HTML/Quirks_Mode_and_Standards_Mode">Mozilla&apos;s Quirks Mode</a></li>
</ul>

<div class="originaldocinfo">
<h3 id="Original_Document_Information" name="Original_Document_Information">Original Document Information</h3>

<ul>
 <li>Author(s): Eric A. Meyer, Netscape Communications</li>
 <li>Last Updated Date: Published 08 Nov 2002</li>
 <li>Copyright Information: Copyright © 2001-2003 Netscape. All rights reserved.</li>
 <li>Note: This reprinted article was originally part of the DevEdge site.</li>
</ul>
</div>
