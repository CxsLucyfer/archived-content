<p><a href="http://people.mozilla.org/~jmuizelaar/css-perf.patch">http://people.mozilla.org/~jmuizelaar/css-perf.patch</a></p>

<p>This patch instruments a bunch of key places and should give an estimate of the order of magnitude of the different parents.</p>

<p>Two counts are collected which allow for an estimation of the amount of work being done during restyle:</p>

<ul>
 <li>resolveStyleForCount
  <ul>
   <li>this is incremented everytime that we do style resolution on an element</li>
  </ul>
 </li>
 <li>ContentEnumFuncCount
  <ul>
   <li>this is incremented roughly for every rule that we test against</li>
  </ul>
 </li>
</ul>

<p>Time during restyle can be spent in a bunch of places. For example, HasStateDependentStyle will compute a hint that determines how many elements we'll restyle. If we get a eRestyle_Subtree we will restyle more elements.</p>

<p>This was developed while investigating <a href="https://bugzilla.mozilla.org/show_bug.cgi?id=1110625">Bug 1110625</a></p>

<p>Â </p>