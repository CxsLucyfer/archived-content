<p>This may or may not work with the free versions of Visual Studio. Please update this document with information on that.</p>

<p>Build the Visual Studio backend in order to get a Solution file:</p>

<pre>./mach build-backend -b VisualStudio</pre>

<p>Open $OBJDIR/msvc/mozilla.sln with Visual Studio.</p>

<p>From the Analyze menu, select "Launch Performance Wizard...".</p>

<p>Select "CPU sampling"</p>

<p>Select "firefox"</p>

<p>Click Finish</p>

<p>Unless you want to profile performance issues, click "Pause profiling" when Firefox starts. Once it is running, get it into the state when you're ready to profile and then click "Resume profiling". Once you've finished with the slow actions, click "Stop profiling" and wait for the analysis to be done.</p>

<p>Once the analysis is done, select "Functions" or "Call Tree" or whatever from the "Current View" drop-down menu at the top of the main tab.</p>

<p>Double clicking on a function of interest provides a pretty view along with source code highlighted hot spots allowing you to dig deeper or step higher.</p>

<p> </p>