<p>Mozilla test harnesses are typically composed of a python runner that invokes Firefox, utilizes the browser to run tests, and reports the results. The python harness communicates with the browser by inserting an extension in the testing profile or uses marionette's wire protocol to drive the browser.</p>
<h2 id="Python_Runner">Python Runner</h2>
<p><br>
 The python runner:</p>
<ul>
 <li>sets up the testing environment
  <ul>
   <li>sets up environment variables (mozrunner, currently)</li>
   <li>creates a profile (mozprofile via mozrunner)
    <ul>
     <li>sets appropriate test preferences</li>
     <li>inserts a shim extension in the profile (for non-marionette tests)</li>
    </ul>
   </li>
  </ul>
 </li>
 <li>gathers the tests (<a href="/en-US/docs/ManifestDestiny" title="https://developer.mozilla.org/en-US/docs/ManifestDestiny">manifestdestiny</a>)</li>
 <li>potentially sets up an HTTP server for test data (mozhttpd)</li>
 <li>invokes the binary (mozrunner)
  <ul>
   <li>it is the job of the shim extension to shut down the browser</li>
  </ul>
 </li>
 <li>logging (mozlog, in theory)</li>
 <li>(run tests, accrue results)</li>
 <li>cleanup:
  <ul>
   <li>shutdown the browser</li>
   <li>check for crashes (mozcrash)</li>
   <li>reporting (moztest)</li>
  </ul>
 </li>
</ul>
<h2 id="Marionette_Tests">Marionette Tests</h2>
<h2 id="List_of_Testing_Extensions"><br>
 List of Testing Extensions</h2>
<p>Â </p>
<ul>
 <li>pageloader (talos)</li>
 <li>mochitest: https://mxr.mozilla.org/mozilla-central/source/testing/mochitest/install.rdf (mochitest)</li>
</ul>