<p>JavaScript module <code>OS.Constants</code> contains Operating System-specific constants. This module is largely a companion to <a href="/en/js-ctypes" title="/en/js-ctypes">js-ctypes</a>.</p>

<h2 id="Using_OS.Constants">Using OS.Constants</h2>

<h3 id="From_the_main_thread">From the main thread</h3>

<p>To initialize <code>OS.Constants</code> for use in the main thread, add the following snippet to your code:</p>

<pre> Components.classes["@mozilla.org/net/osfileconstantsservice;1"].
    getService(Components.interfaces.nsIOSFileConstantsService).
    init();
</pre>

<h3 id="From_a_chrome_worker">From a chrome worker</h3>

<p>No initialization is required. Module <code>OS.Constants</code> is always available for chrome workers.</p>



<h2 id="OS.Constants.Sys">OS.Constants.Sys</h2>

<p>Constants related to system configuration.</p>

<table>
 <tbody>
  <tr>
   <td><code>Name</code></td>
   <td>The name of the operating system (e.g. "Darwin").</td>
  </tr>
  <tr>
   <td><span style="font-family: 'Courier New','Andale Mono',monospace; line-height: normal;">DEBUG</span></td>
   <td>Set to <span style="font-family: 'Courier New','Andale Mono',monospace; line-height: normal;">true </span>on debug build configurations, non-existent otherwise.</td>
  </tr>
 </tbody>
</table>

<h2 id="OS.Constants.Path">OS.Constants.Path</h2>

<p>Paths of well-known files and directories.</p>

<table>
 <tbody>
  <tr>
   <td><code>libxul</code></td>
   <td>The path to the file containing libxul. Useful, for instance, to access the platform code from JavaScript in conjunction with <a href="/en/js-ctypes" title="/en/js-ctypes">js-ctypes</a>.</td>
  </tr>
  <tr>
   <td><code>profileDir</code></td>
   <td>The path to the current profile.</td>
  </tr>
  <tr>
   <td><code>homeDir</code></td>
   <td>The path to the user's home directory.</td>
  </tr>
  <tr>
   <td><code>winAppDataDir</code></td>
   <td>The path to the user's roaming application data directory.</td>
  </tr>
  <tr>
   <td><code>winLocalAppDataDir</code></td>
   <td>The path to the user's local application data directory.</td>
  </tr>
  <tr>
   <td><code>winStartMenuProgsDir</code></td>
   <td>The path to the programs subdirectory in the user's start menu.</td>
  </tr>
  <tr>
   <td><code>macUserLibDir</code></td>
   <td>The path to the user's Library directory.</td>
  </tr>
  <tr>
   <td><code>macLocalApplicationsDir</code></td>
   <td>The path to the local Applications directory.</td>
  </tr>
 </tbody>
</table>

<h2 id="OS.Constants.libc">OS.Constants.libc</h2>

<p>Constants for interacting with libc. Useful mostly for using <a href="/en/Mozilla/js-ctypes" title="en/js-ctypes">js-ctypes</a> to interact with the following platforms:</p>

<ul>
 <li>MacOS X;</li>
 <li>Android;</li>
 <li>Linux;</li>
 <li>other variants of Unix.</li>
</ul>

<p><code>OS.Constants.libc</code> is available on all platforms, although some constants are not defined everywhere. Before using a constant, you should check that it is defined.</p>

<h3 id="Error_values">Error values</h3>

<table>
 <tbody>
  <tr>
   <td>EACCES</td>
   <td>Permission denied</td>
  </tr>
  <tr>
   <td>EAGAIN</td>
   <td>Resource temporarily unavailable</td>
  </tr>
  <tr>
   <td>EBADF</td>
   <td>Bad file descriptor</td>
  </tr>
  <tr>
   <td>EEXIST</td>
   <td>File exists</td>
  </tr>
  <tr>
   <td>EFAULT</td>
   <td>Bad address</td>
  </tr>
  <tr>
   <td>EFBIG</td>
   <td>File too large</td>
  </tr>
  <tr>
   <td>EINVAL</td>
   <td>Invalid argument</td>
  </tr>
  <tr>
   <td>EIO</td>
   <td>Input/output error</td>
  </tr>
  <tr>
   <td>EISDIR</td>
   <td>Is a directory</td>
  </tr>
  <tr>
   <td>ELOOP</td>
   <td>
    <p><span style="color: #d3d3d3;">(Not always available under Windows)</span> Too many levels of symbolic links.</p>
   </td>
  </tr>
  <tr>
   <td>EMFILE</td>
   <td>Too many open files in the process</td>
  </tr>
  <tr>
   <td>ENAMETOOLONG</td>
   <td>Name too long</td>
  </tr>
  <tr>
   <td>ENFILE</td>
   <td>Too many open files on the system</td>
  </tr>
  <tr>
   <td>ENOENT</td>
   <td>No such file or directory</td>
  </tr>
  <tr>
   <td>ENOMEM</td>
   <td>Cannot allocate memory</td>
  </tr>
  <tr>
   <td>ENOSPC</td>
   <td>No space on device</td>
  </tr>
  <tr>
   <td>ENOTDIR</td>
   <td>Is not a directory</td>
  </tr>
  <tr>
   <td>ENXIO</td>
   <td>Device no configured or does not support operation</td>
  </tr>
  <tr>
   <td>EOPNOTSUPP</td>
   <td><span style="color: #d3d3d3;">(Not always available under Windows) </span>Operation not supported.</td>
  </tr>
  <tr>
   <td>EOVERFLOW</td>
   <td><span style="color: #d3d3d3;">(Not always available under Windows) </span>Value too large to be stored in datatype.</td>
  </tr>
  <tr>
   <td>EPERM</td>
   <td>Operation not permitted</td>
  </tr>
  <tr>
   <td>ERANGE</td>
   <td>Result too large</td>
  </tr>
  <tr>
   <td>ETIMEDOUT</td>
   <td><span style="color: #d3d3d3;">(Not always available under Windows) </span>Operation timed out.</td>
  </tr>
  <tr>
   <td>EWOULDBLOCK</td>
   <td><span style="color: #d3d3d3;">(Not always available under Windows) </span>Operation would block.</td>
  </tr>
  <tr>
   <td>EXDEV</td>
   <td>Cross-device link</td>
  </tr>
 </tbody>
</table>

<h3 id="Opening_files">Opening files<a name="libc_opening_files"></a></h3>

<p><a name="libc_opening_files"> </a></p>

<h4 id="Unix_access_rights"><a name="libc_opening_files">Unix access rights</a></h4>

<p><a name="libc_opening_files">Defined on all platforms but meaningful only on Unix.</a></p>

<table>
 <tbody>
  <tr>
   <td><a name="libc_opening_files">S_IRWXU</a></td>
   <td><a name="libc_opening_files">Current User can Read, Write, eXecute the file. Equivalent to <code>S_IRUSR | S_IWUSR | S_IXUSR</code>.</a></td>
  </tr>
  <tr>
   <td><a name="libc_opening_files">S_IRUSR</a></td>
   <td><a name="libc_opening_files">Current User can Read the file.</a></td>
  </tr>
  <tr>
   <td><a name="libc_opening_files">S_IWUSR</a></td>
   <td><a name="libc_opening_files">Current User can Write (modify) the file.</a></td>
  </tr>
  <tr>
   <td><a name="libc_opening_files">S_IXUSR</a></td>
   <td><a name="libc_opening_files">Current User can eXecute the file.</a></td>
  </tr>
  <tr>
   <td><a name="libc_opening_files">S_IRWXG</a></td>
   <td><a name="libc_opening_files">Current GRouP of the current user can Read, Write, eXecute the file. Equivalent to <code>S_IRGRP | S_IWGRP | S_IXGRP</code>.</a></td>
  </tr>
  <tr>
   <td><a name="libc_opening_files">S_IRGRP</a></td>
   <td><a name="libc_opening_files">Current GRouP of the current user can Read the file.</a></td>
  </tr>
  <tr>
   <td><a name="libc_opening_files">S_IWGRP</a></td>
   <td><a name="libc_opening_files">Current GRouP of the current user can Write (modify) the file.</a></td>
  </tr>
  <tr>
   <td><a name="libc_opening_files">S_IXGRP</a></td>
   <td><a name="libc_opening_files">Current GRouP of the current user can eXecute the file.</a></td>
  </tr>
  <tr>
   <td><a name="libc_opening_files">S_IRWXO</a></td>
   <td><a name="libc_opening_files">All Other users can Read, Write, eXecute the file. Equivalent to <code>S_IROTH | S_IWOTH | S_IXOTH</code>.</a></td>
  </tr>
  <tr>
   <td><a name="libc_opening_files">S_IROTH</a></td>
   <td><a name="libc_opening_files">All Other users can Read the file.</a></td>
  </tr>
  <tr>
   <td><a name="libc_opening_files">S_IWOTH</a></td>
   <td><a name="libc_opening_files">All Other users can Write (modify) the file.</a></td>
  </tr>
  <tr>
   <td><a name="libc_opening_files">S_IXOTH</a></td>
   <td><a name="libc_opening_files">All Other users can eXecute the file.</a></td>
  </tr>
 </tbody>
</table>

<h4 id="Unix_opening_mode"><a name="libc_opening_files">Unix opening mode</a></h4>

<table>
 <tbody>
  <tr>
   <td><a name="libc_opening_files">O_APPEND</a></td>
   <td><a name="libc_opening_files">Open the file for appending.</a></td>
  </tr>
  <tr>
   <td><a name="libc_opening_files">O_CREAT</a></td>
   <td><a name="libc_opening_files">Create the file if it does not exist yet.</a></td>
  </tr>
  <tr>
   <td><a name="libc_opening_files">O_DIRECTORY</a></td>
   <td><a name="libc_opening_files"><span style="color: #d3d3d3;">(Linux only)</span> Succeed only of the file is a directory.</a></td>
  </tr>
  <tr>
   <td><a name="libc_opening_files">O_EVTONLY</a></td>
   <td><a name="libc_opening_files">Descriptor requested for event notifications only.</a></td>
  </tr>
  <tr>
   <td><a name="libc_opening_files">O_EXCL</a></td>
   <td><a name="libc_opening_files">Raise an error if O_CREAT is set and the file exists.</a></td>
  </tr>
  <tr>
   <td><a name="libc_opening_files">O_EXLOCK</a></td>
   <td><a name="libc_opening_files">Atomically obtain an exclusive lock.</a></td>
  </tr>
  <tr>
   <td><a name="libc_opening_files">O_LARGEFILE</a></td>
   <td><a name="libc_opening_files"> </a></td>
  </tr>
  <tr>
   <td><a name="libc_opening_files">O_NOFOLLOW</a></td>
   <td><a name="libc_opening_files">Do not follow symbolic links.</a></td>
  </tr>
  <tr>
   <td><a name="libc_opening_files">O_NONBLOCK</a></td>
   <td><a name="libc_opening_files">Do not block on open or for data to become available.</a></td>
  </tr>
  <tr>
   <td><a name="libc_opening_files">O_RDONLY</a></td>
   <td><a name="libc_opening_files">Open the file for read only.</a></td>
  </tr>
  <tr>
   <td><a name="libc_opening_files">O_RDWR</a></td>
   <td><a name="libc_opening_files">Open the file for read and write.</a></td>
  </tr>
  <tr>
   <td><a name="libc_opening_files">O_RSYNC</a></td>
   <td><a name="libc_opening_files"> </a></td>
  </tr>
  <tr>
   <td><a name="libc_opening_files">O_SHLOCK</a></td>
   <td><a name="libc_opening_files">Atomically obtain a shared lock.</a></td>
  </tr>
  <tr>
   <td><a name="libc_opening_files">O_SYMLINK</a></td>
   <td><a name="libc_opening_files">Allow opening of symbolic links.</a></td>
  </tr>
  <tr>
   <td><a name="libc_opening_files">O_SYNC</a></td>
   <td><a name="libc_opening_files"><span style="color: #d3d3d3;">(Linux only)</span> Open for purely synchronous access.</a></td>
  </tr>
  <tr>
   <td><a name="libc_opening_files">O_TRUNC</a></td>
   <td><a name="libc_opening_files">Truncate the file.</a></td>
  </tr>
  <tr>
   <td><a name="libc_opening_files">O_WRONLY</a></td>
   <td><a name="libc_opening_files">Open the file for write only.</a></td>
  </tr>
 </tbody>
</table>

<h2 id="OS.Constants.Win"><a name="libc_opening_files">OS.Constants.Win</a></h2>

<p><a name="libc_opening_files">Constants for interacting with the Windows API. <code>OS.Constants.Win</code> is <code>undefined</code> on non-Windows platforms. Useful mostly in conjunction with </a><a href="/en/Mozilla/js-ctypes" title="en/js-ctypes">js-ctypes</a>.</p>

<p>(tbd)</p>