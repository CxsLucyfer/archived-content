---
title: PowerManager
slug: Web/API/PowerManager
tags:
  - API
  - B2G
  - Firefox OS
  - Non-standard
  - Power Management
  - Reference
  - WebAPI
translation_of: Archive/B2G_OS/API/MozPowerManager
---
<p></p><section class="Quick_links" id="Quick_Links"><ol><li><strong><a href="/fr/docs/Web/API/PowerManager"><code>PowerManager</code></a></strong></li></ol></section><p></p>
<p></p><div class="blockIndicator nonStandard nonStandardHeader">
      <p><strong><span class="icon-only-inline" title="Cette API n'a pas été standardisée."><i class="icon-warning-sign"> </i></span> Non standard</strong><br>
      Cette fonctionnalité n'est pas en voie de standardisation au W3C, mais elle est supportée par la plateforme Firefox OS. Bien que son implémentation puisse changer dans le futur et qu'elle n'est pas largement supportée par les différents navigateurs, elle est utilisable pour du code dédié aux applications Firefox OS.</p>
      </div><p></p>
<p></p><div class="blockIndicator warning">
    <p style="text-align: center;">Cette API est disponible sur <a href="/fr/docs/Mozilla/Firefox_OS">Firefox OS</a> pour <a href="/fr/docs/Mozilla/Firefox_OS/Security/Application_security#App_Types">des applications internes</a> seulement.</p>
</div><p></p>
<p>L'interface PowerManager permet de contrôler explicitement les composants de l'appareil consommant de l'énergie.</p>
<h2 id="Présentation_de_l'interface">Présentation de l'interface</h2>
<pre class="brush: js"><code class="idl-code">callback wakeLockListener = void (DOMString topic, DOMString state);</code>

interface PowerManager
{
  attribute boolean cpuSleepAllowed
  attribute double screenBrightness
  attribute boolean screenEnabled

  void addWakeLockListener(wakeLockListener listener);
  void factoryReset();
  DOMString getWakeLockState(DOMString topic)
  void powerOff();
  void reboot();
  void removeWakeLockListener(wakeLockListener listener);
};</pre>
<h2 id="Propriétés">Propriétés</h2>
<dl>
 <dt>
  <a href="/fr/docs/Web/API/PowerManager/screenEnabled" title="Cette documentation n'a pas encore été rédigée, vous pouvez aider en contribuant !"><code>PowerManager.screenEnabled</code></a></dt>
 <dd>
  Cette propriété est un booléen permettant de consulter ou définir l'état de l'écran de l'appareil. <code>true</code> correspond à un écran actif <code>false</code> à un écran éteint.</dd>
 <dt>
  <a href="/fr/docs/Web/API/PowerManager/screenBrightness" title="Cette documentation n'a pas encore été rédigée, vous pouvez aider en contribuant !"><code>PowerManager.screenBrightness</code></a></dt>
 <dd>
  Cette propriété définit la luminosité du rétro-éclairage de l'écran sur une échelle de 0 (min) à 1 (max). Définir cet attribut modifie la luminosité de l'écran.</dd>
 <dt>
  <a href="/fr/docs/Web/API/PowerManager/cpuSleepAllowed" title="Cette documentation n'a pas encore été rédigée, vous pouvez aider en contribuant !"><code>PowerManager.cpuSleepAllowed</code></a></dt>
 <dd>
  Cette propriété détermine si le processeur de l'appareil passera en veille après l'extinction de l'écran. Définir cet attribut à <code>false</code> inhibe la mise en veille du processeur de l'appareil.</dd>
</dl>
<h2 id="Méthodes">Méthodes</h2>
<dl>
 <dt>
  <a href="/fr/docs/Web/API/PowerManager/addWakeLockListener" title="Cette documentation n'a pas encore été rédigée, vous pouvez aider en contribuant !"><code>PowerManager.addWakeLockListener()</code></a></dt>
 <dd>
  Enregistre un gestionnaire d'événements qui sera appelé à chaque changement d'état par rapport à la mise en veille de la ressource donnée.</dd>
 <dt>
  <a href="/fr/docs/Web/API/PowerManager/factoryReset" title="Cette documentation n'a pas encore été rédigée, vous pouvez aider en contribuant !"><code>PowerManager.factoryReset()</code></a></dt>
 <dd>
  Appeler cette méthode reconfigure l'appareil dans sa configuration usine (toutes les données utilisateurs seront perdues).</dd>
 <dt>
  <a href="/fr/docs/Web/API/PowerManager/getWakeLockState" title="Cette documentation n'a pas encore été rédigée, vous pouvez aider en contribuant !"><code>PowerManager.getWakeLockState()</code></a></dt>
 <dd>
  Retourne l'état de verrouillage d'une ressource donnée de l'appareil.</dd>
 <dt>
  <a href="/fr/docs/Web/API/PowerManager/powerOff" title="Cette documentation n'a pas encore été rédigée, vous pouvez aider en contribuant !"><code>PowerManager.powerOff()</code></a></dt>
 <dd>
  Appeler cette méthode éteint l'appareil.</dd>
 <dt>
  <a href="/fr/docs/Web/API/PowerManager/reboot" title="Cette documentation n'a pas encore été rédigée, vous pouvez aider en contribuant !"><code>PowerManager.reboot()</code></a></dt>
 <dd>
  Cette méthode éteint l'appareil et le redémarre.</dd>
 <dt>
  <a href="/fr/docs/Web/API/PowerManager/removeWakeLockListener" title="Cette documentation n'a pas encore été rédigée, vous pouvez aider en contribuant !"><code>PowerManager.removeWakeLockListener()</code></a></dt>
 <dd>
  Permet de retirer un gestionnaire d'événements défini précédemment avec <a href="/fr/docs/Web/API/PowerManager/addWakeLockListener" title="Cette documentation n'a pas encore été rédigée, vous pouvez aider en contribuant !"><code>addWakeLockListener</code></a>.</dd>
</dl>
<h2 id="Specification" name="Specification">Exemple</h2>
<pre class="brush: js">var screenTimeout;
var power = window.navigator.mozPower;
var powerAction = {
  unlocked: function suspendDevice() {
    power.<code>cpuSleepAllowed = true;</code>
    power.screenEnabled   = false;
  },

  'locked-background': function shutOffOnlyScreen() {
    power.<code>cpuSleepAllowed = false;</code>
    power.screenEnabled   = false;
  }
}

function screenLockListener(topic, state) {
  if ('screen' !== topic) return;

  window.clearTimeout(screenTimeout);

  if (powerAction[state]) {
    screenTimeout = window.setTimeout(powerAction[state], 3000);
  }
}

power.addWakeLockListener(screenLockListener);
</pre>
<h2 id="Specification" name="Specification">Spécification</h2>
<p>Cette API ne fait partie d'aucune spécification.</p>
<h2 id="Voir_aussi">Voir aussi</h2>
<ul>
 <li><a href="/fr/docs/Web/API/Window/navigator/mozPower" title="Cette documentation n'a pas encore été rédigée, vous pouvez aider en contribuant !"><code>navigator.mozPower</code></a></li>
 <li><a href="/fr/docs/Web/API/Window/navigator/requestWakeLock" title="Cette documentation n'a pas encore été rédigée, vous pouvez aider en contribuant !"><code>navigator.requestWakeLock()</code></a></li>
</ul>
