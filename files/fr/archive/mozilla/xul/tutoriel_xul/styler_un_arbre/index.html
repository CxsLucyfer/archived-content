---
title: Styler un arbre
slug: Archive/Mozilla/XUL/Tutoriel_XUL/Styler_un_arbre
tags:
  - Tutoriel_XUL
  - Tutoriels
  - XUL
translation_of: Archive/Mozilla/XUL/Tutorial/Styling_a_Tree
---
<p> </p>
<div class="prevnext" style="text-align: right;">
    <p><a href="/fr/docs/Tutoriel_XUL:Ajouter_des_feuilles_de_style" style="float: left;" class="button">« Précédent</a><a href="/fr/docs/Tutoriel_XUL:Modification_du_thème_par_défaut" class="button">Suivant  »</a></p>
</div>
<p>Cette section explique comment styler un arbre.</p>
<h3 id="Styler_l.27arbre" name="Styler_l.27arbre">Styler l&apos;arbre</h3>
<p>Vous pouvez styler la bordure de l&apos;arbre et les en-têtes de colonnes de la même manière que pour d&apos;autres éléments. Les styles ajoutés à l&apos;élément <code><a href="/fr/docs/Mozilla/Tech/XUL/tree" title="tree">tree</a></code> seront appliqués à l&apos;arbre entier. L&apos;ajout d&apos;un style à l&apos;élément <code><a href="/fr/docs/Mozilla/Tech/XUL/treecol" title="treecol">treecol</a></code> ne l&apos;applique pas à la colonne mais seulement à son en-tête.</p>
<p>Le corps de l&apos;arbre doit être stylé d&apos;une manière un peu différente des autres éléments, parce que le corps de l&apos;arbre est stocké d&apos;une manière différente des autres éléments. Le <code><a href="/fr/docs/Mozilla/Tech/XUL/treechildren" title="treechildren">treechildren</a></code> extérieur est le seul vrai élément du corps de l&apos;arbre. Les éléments intérieurs n&apos;ont qu&apos;un rôle de conteneurs.</p>
<h4 id="D.C3.A9finition_de_propri.C3.A9t.C3.A9s" name="D.C3.A9finition_de_propri.C3.A9t.C3.A9s">Définition de propriétés</h4>
<p>Vous devez donc utiliser l&apos;attribut <code id="a-properties"><a href="https://developer.mozilla.org/fr/docs/Mozilla/Tech/XUL/Attributs/properties">properties</a></code> sur les lignes ou les cellules pour modifier une ou plusieurs propriétés nommées. Cet attribut peut être utilisé avec des arbres à contenu statique, <a href="/fr/Tutoriel_XUL/Arbres_et_Gabarits" title="fr/Tutoriel_XUL/Arbres_et_Gabarits">produit par RDF</a> ou avec <a href="/fr/Tutoriel_XUL/Vues_d&apos;arbre_personnalisées" title="fr/Tutoriel_XUL/Vues_d&apos;arbre_personnalisées">des arbres à vue personnalisée</a>. Supposons que nous voulions donner une couleur de fond bleue à une ligne particulière, comme il est possible de le remarquer sur les libellés dans la messagerie de Mozilla. Nous allons utiliser une propriété appelée &apos;makeItBlue&apos;. Vous pouvez utiliser le nom que vous voulez. Vous pouvez modifier plusieurs propriétés en les séparant par des espaces.</p>
<p>Modifiez la propriété sur une ligne ou une cellule, comme dans l&apos;exemple suivant :</p>
<pre>&lt;treerow properties=&quot;makeItBlue&quot;&gt;</pre>
<h4 id="S.C3.A9lecteurs_CSS_pour_l.27arbre" name="S.C3.A9lecteurs_CSS_pour_l.27arbre">Sélecteurs CSS pour l&apos;arbre</h4>
<p>La feuille de styles peut récupérer cette propriété et l&apos;utiliser pour changer l&apos;apparence d&apos;une ligne pour les messages non lus ou les libellés. Les propriétés fonctionnent en quelque sorte comme les classes de style, bien qu&apos;elles nécessitent une syntaxe un peu plus complexe à utiliser dans une feuille de styles. En effet, il est possible de spécifier un style pour chaque partie d&apos;une cellule. Vous pouvez styler non seulement la cellule et son texte, mais aussi le &quot;twisty&quot; (<abbr title="Note du traducteur">NdT</abbr> : petit &apos;+&apos; ou &apos;-&apos; permettant de développer et replier l&apos;arborescence) et l&apos;indentation. La syntaxe à utiliser est la suivante :</p>
<pre>treechildren::-moz-tree-row(makeItBlue)
{
  background-color: blue;
}
</pre>
<p>Ce pseudo-style spécial est utilisé pour styler la couleur de fond des lignes qui ont la propriété &apos;makeItBlue&apos;. Cette syntaxe spéciale est nécessaire parce que les cellules elles-mêmes ne sont pas des éléments séparés. Tout le contenu intérieur au corps de l&apos;arbre obtient son rendu par l&apos;élément <code><a href="/fr/docs/Mozilla/Tech/XUL/treechildren" title="treechildren">treechildren</a></code>. Cependant, CSS dispose d&apos;un concept pour accéder aux parties des éléments en les considérant comme des pseudo-éléments. Ce sélecteur correspond à quelques lignes de l&apos;arbre à l&apos;intérieur de l&apos;élément <code><a href="/fr/docs/Mozilla/Tech/XUL/treechildren" title="treechildren">treechildren</a></code> comme pseudo-élément. Le pseudo-style définit des règles de style pour des parties particulières de ce qu&apos;il affiche. Cette règle de style signifie, dans un élément <code><a href="/fr/docs/Mozilla/Tech/XUL/treechildren" title="treechildren">treechildren</a></code> : mettre une couleur de fond bleue à toutes les lignes de l&apos;arbre qui ont la propriété &apos;makeItBlue&apos;.</p>
<p>Le texte &apos;::-moz-tree-row&apos; spécifie quelle est la zone de contenu désirée, qui est dans ce cas une ligne. Vous pouvez aussi utiliser les valeurs suivantes :</p>
<dl> <dt><code>::-moz-tree-cell</code> </dt> <dd>une cellule. Utilisez ceci pour modifier les couleurs des bordures et du fond.</dd> <dt><code>::-moz-tree-cell-text</code> </dt> <dd>le texte d&apos;une cellule. Utilisez ceci pour modifier la police et la couleur du texte.</dd> <dt><code>::-moz-tree-twisty</code> </dt> <dd>l&apos;apparence du &quot;twisty&quot; utilisé pour développer et replier les lignes filles.</dd> <dt><code>::-moz-tree-image</code> </dt> <dd>l&apos;image pour une cellule. Vous pouvez indiquer l&apos;image avec la propriété <a href="/fr/CSS/list-style-image" title="fr/CSS/list-style-image">list-style-image</a>.</dd> <dt><code>::-moz-tree-row</code> </dt> <dd>une ligne. Utilisez ceci pour choisir la couleur de fond d&apos;une ligne.</dd> <dt><code>::-moz-tree-indentation</code> </dt> <dd>l&apos;indentation à gauche des lignes filles.</dd> <dt><code>::-moz-tree-column</code> </dt> <dd>une colonne.</dd> <dt><code>::-moz-tree-line</code> </dt> <dd>les lignes dessinées pour connecter les lignes filles aux lignes parentes.</dd> <dt><code>::-moz-tree-separator</code> </dt> <dd>un séparateur dans un arbre.</dd> <dt><code>::-moz-tree-progressmeter</code> </dt> <dd>contenu pour des cellules à indicateur de progression. Vous pouvez créer une colonne avec des indicateurs de progression en mettant l&apos;attribut <code id="a-type"><a href="https://developer.mozilla.org/fr/docs/Mozilla/Tech/XUL/Attributs/type">type</a></code> de la colonne à &apos;progressmeter&apos;.</dd> <dt><code>::-moz-tree-drop-feedback</code> </dt> <dd>le retour du glisser-déposer.</dd> <dt><code>::-moz-tree-checkbox</code> </dt> <dd>l&apos;image à utiliser pour les colonnes de case à cocher.</dd>
</dl>
<p>Vous pouvez tester la présence de plusieurs propriétés en les séparant par des virgules. L&apos;exemple ci-dessous met une couleur de fond grise aux lignes qui ont les propriétés &apos;readonly&apos; et &apos;unread&apos;. Pour les propriétés qui sont &apos;readonly&apos;, il ajoute une bordure rouge autour de la ligne. Notez que la première règle s&apos;appliquera à toute ligne qui est &apos;readonly&apos;, peu importe la présence d&apos;autres propriétés comme &apos;unread&apos;.</p>
<pre>treechildren::-moz-tree-row(readonly)
{
  border: 1px solid red;
}
treechildren::-moz-tree-row(readonly, unread)
{
  background-color: rgb(80%, 80%, 80%);
}
</pre>
<h4 id="Propri.C3.A9t.C3.A9s_par_d.C3.A9faut" name="Propri.C3.A9t.C3.A9s_par_d.C3.A9faut">Propriétés par défaut</h4>
<p>La liste des propriétés des éléments <code><a href="/fr/docs/Mozilla/Tech/XUL/tree" title="tree">tree</a></code> contient un petit nombre de propriétés par défaut que vous pouvez aussi utiliser dans une feuille de styles. Vous pouvez utiliser ces propriétés supplémentaires pour modifier l&apos;apparence des conteneurs ou des lignes sélectionnées. Les propriétés suivantes sont modifiées automatiquement en cas de besoin :</p>
<dl> <dt><code id="a-focus"><a href="https://developer.mozilla.org/fr/docs/Mozilla/Tech/XUL/Attributs/focus">focus</a></code></dt> <dd>cette propriété est mise si l&apos;arbre a le focus.</dd> <dt><code id="a-selected"><a href="https://developer.mozilla.org/fr/docs/Mozilla/Tech/XUL/Attributs/selected">selected</a></code></dt> <dd>cette propriété est mise pour les lignes ou les cellules actuellement sélectionnées.</dd> <dt><code id="a-current"><a href="https://developer.mozilla.org/fr/docs/Mozilla/Tech/XUL/Attributs/current">current</a></code></dt> <dd>cette propriété est mise si le curseur est sur la ligne. Seule une ligne à la fois peut avoir cette propriété.</dd> <dt><code id="a-container"><a href="https://developer.mozilla.org/fr/docs/Mozilla/Tech/XUL/Attributs/container">container</a></code></dt> <dd>cette propriété est mise pour les lignes ou les cellules qui ont des lignes filles.</dd> <dt><code id="a-leaf"><a href="https://developer.mozilla.org/fr/docs/Mozilla/Tech/XUL/Attributs/leaf">leaf</a></code></dt> <dd>cette propriété est mise pour les lignes ou les cellules qui n&apos;ont pas de lignes filles.</dd> <dt><code id="a-open"><a href="https://developer.mozilla.org/fr/docs/Mozilla/Tech/XUL/Attributs/open">open</a></code></dt> <dd>cette propriété est mise pour les lignes ou les cellules qui sont développées.</dd> <dt><code id="a-closed"><a href="https://developer.mozilla.org/fr/docs/Mozilla/Tech/XUL/Attributs/closed">closed</a></code></dt> <dd>cette propriété est mise pour les lignes ou les cellules qui sont repliées.</dd> <dt><code id="a-primary"><a href="https://developer.mozilla.org/fr/docs/Mozilla/Tech/XUL/Attributs/primary">primary</a></code></dt> <dd>cette propriété est mise pour les cellules de la colonne primaire.</dd> <dt><code id="a-sorted"><a href="https://developer.mozilla.org/fr/docs/Mozilla/Tech/XUL/Attributs/sorted">sorted</a></code></dt> <dd>cette propriété est mise pour les cellules de la colonne actuellement triées.</dd> <dt><code id="a-even"><a href="https://developer.mozilla.org/fr/docs/Mozilla/Tech/XUL/Attributs/even">even</a></code></dt> <dd>cette propriété est mise pour les lignes paires.</dd> <dt><code id="a-odd"><a href="https://developer.mozilla.org/fr/docs/Mozilla/Tech/XUL/Attributs/odd">odd</a></code></dt> <dd>cette propriété est mise pour les lignes impaires. Cette propriété ainsi que la propriété <code id="a-even"><a href="https://developer.mozilla.org/fr/docs/Mozilla/Tech/XUL/Attributs/even">even</a></code> vous permettent, par exemple, d&apos;alterner les couleurs entre chaque ligne.</dd> <dt><code id="a-dragSession"><a href="https://developer.mozilla.org/fr/docs/Mozilla/Tech/XUL/Attributs/dragSession">dragSession</a></code></dt> <dd>cette propriété est mise si quelque chose est en train d&apos;être déplacé.</dd> <dt><code id="a-dropOn"><a href="https://developer.mozilla.org/fr/docs/Mozilla/Tech/XUL/Attributs/dropOn">dropOn</a></code></dt> <dd>si un déplacement a lieu au-dessus de l&apos;arbre, cette propriété est mise pour la ligne en train d&apos;être survolée par le déplacement, tant que le pointeur de la souris est au-dessus de la ligne.</dd> <dt><code id="a-dropBefore"><a href="https://developer.mozilla.org/fr/docs/Mozilla/Tech/XUL/Attributs/dropBefore">dropBefore</a></code></dt> <dd>cette propriété est mise si le pointeur de la souris survole avant la ligne en cours de déplacement.</dd> <dt><code id="a-dropAfter"><a href="https://developer.mozilla.org/fr/docs/Mozilla/Tech/XUL/Attributs/dropAfter">dropAfter</a></code></dt> <dd>cette propriété est mise si le pointeur de la souris survole après la ligne en cours de déplacement.</dd> <dt><code id="a-progressNormal"><a href="https://developer.mozilla.org/fr/docs/Mozilla/Tech/XUL/Attributs/progressNormal">progressNormal</a></code></dt> <dd>cette propriété est mise pour les cellules à indicateur de progression.</dd> <dt><code id="a-progressUndetermined"><a href="https://developer.mozilla.org/fr/docs/Mozilla/Tech/XUL/Attributs/progressUndetermined">progressUndetermined</a></code></dt> <dd>cette propriété est mise pour les cellules à indicateur de progression indéterminé.</dd> <dt><code id="a-progressNone"><a href="https://developer.mozilla.org/fr/docs/Mozilla/Tech/XUL/Attributs/progressNone">progressNone</a></code></dt> <dd>cette propriété est mise pour les cellules sans indicateur de progression.</dd>
</dl>
<p>Les propriétés sont mises pour les lignes ou les cellules d&apos;une ligne à l&apos;état correspondant. Pour les colonnes et les cellules, une propriété additionnelle, l&apos;<code id="a-id"><a href="https://developer.mozilla.org/fr/docs/Mozilla/Tech/XUL/Attributs/id">id</a></code> de la colonne ou la colonne dans laquelle est la cellule, sera mise.</p>
<h4 id="D.C3.A9finition_des_propri.C3.A9t.C3.A9s_pour_les_arbres_g.C3.A9n.C3.A9r.C3.A9s_par_RDF" name="D.C3.A9finition_des_propri.C3.A9t.C3.A9s_pour_les_arbres_g.C3.A9n.C3.A9r.C3.A9s_par_RDF">Définition des propriétés pour les arbres générés par RDF</h4>
<p>Pour <a href="/fr/Tutoriel_XUL/Sources_de_données_RDF" title="fr/Tutoriel_XUL/Sources_de_données_RDF">les arbres générés par RDF</a>, vous pouvez utiliser la même syntaxe. Cependant, vous affecterez souvent les propriétés en vous basant sur des valeurs de la source de données.</p>
<h4 id="D.C3.A9finition_des_propri.C3.A9t.C3.A9s_pour_les_vues_personnalis.C3.A9es" name="D.C3.A9finition_des_propri.C3.A9t.C3.A9s_pour_les_vues_personnalis.C3.A9es">Définition des propriétés pour les vues personnalisées</h4>
<p>Pour des arbres avec un script de vue personnalisée, vous pouvez modifier des propriétés en fournissant les fonctions <code>getRowProperties()</code>, <code>getColumnProperties()</code> et <code>getCellProperties()</code> dans la vue. Elles renvoient des informations à propos d&apos;une ligne, d&apos;une colonne et d&apos;une cellule individuelle. Les arguments à ces fonctions indiquent quelle ligne et/ou colonne. Le dernier argument de chacune de ces fonctions est une liste de propriétés que la vue est supposée remplir avec une liste de propriétés. La fonction <code>getColumnProperties()</code> fournit aussi l&apos;élément <code><a href="/fr/docs/Mozilla/Tech/XUL/treecol" title="treecol">treecol</a></code> correspondant pour la colonne.</p>
<pre>getRowProperties : function(row,prop){}
getColumnProperties : function(column,columnElement,prop){}
getCellProperties : function(row,column,prop){}
</pre>
<p>Regardons un exemple de modification d&apos;une cellule spécifique. Rendons le texte bleu une ligne sur quatre, en utilisant l&apos;exemple d&apos;<a href="/fr/Tutoriel_XUL/Vues_d&apos;arbre_personnalisées" title="fr/Tutoriel_XUL/Vues_d&apos;arbre_personnalisées">une section précédente</a>. Nous allons avoir besoin d&apos;ajouter du code à la fonction <code>getCellProperties()</code> pour ajouter une propriété &apos;makeItBlue&apos; aux cellules toutes les quatres lignes (Nous n&apos;utilisons pas <code>getRowProperties()</code> puisque la couleur du texte ne sera pas héritée dans chaque cellule).</p>
<p>L&apos;objet <code>properties</code> qui est passé en dernier argument de <code>getCellProperties()</code> est un objet <a href="/fr/XPCOM" title="fr/XPCOM">XPCOM</a> qui implémente <code>nslSupportsArray</code>. Il s&apos;agit en fait une version XPCOM d&apos;un tableau. Il contient une fonction <code>AppendElement()</code> qui peut être utilisée pour ajouter un élément au tableau. Nous pouvons utiliser l&apos;interface <code>nslAtomService</code> pour construire des atomes de chaînes pour les propriétés.</p>
<pre>getCellProperties: function(row,col,props){
  if ((row %4) == 0){
    var aserv=Components.classes[&quot;@mozilla.org/atom-service;1&quot;].
              getService(Components.interfaces.nsIAtomService);
    props.AppendElement(aserv.getAtom(&quot;makeItBlue&quot;));
  }
}
</pre>
<p>Cette fonction sera définie comme partie d&apos;un objet de vue. Elle vérifie d&apos;abord quelle ligne est demandée et affecte une propriété pour les cellules toutes les quatres lignes. La liste des propriétés nécessite un tableau d&apos;objets atom qui peuvent être considérés comme des chaînes de caractères constantes. Nous les créons en utilisant l&apos;interface XPCOM <code>nslAtomService</code> et nous les ajoutons au tableau en utilisant la fonction <code>AppendElement()</code>. Ici, nous créons un atome &apos;makeItBlue&apos;. Vous pouvez appeler <code>AppendElement()</code> à nouveau pour ajouter des propriétés additionnelles.</p>
<h4 id="Exemple_de_feuille_de_styles" name="Exemple_de_feuille_de_styles">Exemple de feuille de styles</h4>
<pre>treechildren::-moz-tree-row(selected)            { background-color: #FFFFAA; }
treechildren::-moz-tree-row(odd)                 { background-color: #EEEEEE; }
treechildren::-moz-tree-row(odd, selected)       { background-color: #FFFFAA; }
treechildren::-moz-tree-cell-text(selected)      { color: #000000; }
treechildren::-moz-tree-cell-text(odd, selected) { color: #000000; }
</pre>
<hr>
<p>Dans la suite, nous allons voir comment modifier le thème par défaut.</p>
<div class="prevnext" style="text-align: right;">
    <p><a href="/fr/docs/Tutoriel_XUL:Ajouter_des_feuilles_de_style" style="float: left;" class="button">« Précédent</a><a href="/fr/docs/Tutoriel_XUL:Modification_du_thème_par_défaut" class="button">Suivant  »</a></p>
</div>
<p><span class="comment">Interwiki</span></p>
