---
title: Création d'un assistant
slug: Archive/Mozilla/XUL/Tutoriel_XUL/Création_d'un_assistant
tags:
  - Tutoriel_XUL
  - Tutoriels
  - XUL
translation_of: Archive/Mozilla/XUL/Tutorial/Creating_a_Wizard
---
<p> </p>

<div class="prevnext" style="text-align: right;">
    <p><a href="/fr/docs/Tutoriel_XUL:Boîte_de_dialogue_de_fichier" style="float: left;" class="button">« Précédent</a><a href="/fr/docs/Tutoriel_XUL:Assistant_avançé" class="button">Suivant  »</a></p>
</div>

<p>Beaucoup d&apos;applications utilisent des assistants pour aider l&apos;utilisateur dans des tâches complexes. XUL fournit un moyen de créer des assistants facilement.</p>

<h3 id="L.27.C3.A9l.C3.A9ment_XULElemwizard" name="L.27.C3.A9l.C3.A9ment_XULElemwizard">L&apos;élément <code><a href="/fr/docs/Mozilla/Tech/XUL/wizard" title="wizard">wizard</a></code></h3>

<p>Un assistant est un type spécial de boîte de dialogue, contenant un certain nombre de pages. Des boutons de navigation apparaissent en bas de la boîte de dialogue pour passer d&apos;une page à l&apos;autre. Les assistants sont habituellement utilisés pour aider l&apos;utilisateur à effectuer des tâches complexes. Chaque page contient une seule question ou un ensemble de questions associées. À la dernière page, l&apos;opération est effectuée.</p>

<p>XUL fournit un élément <code><a href="/fr/docs/Mozilla/Tech/XUL/wizard" title="wizard">wizard</a></code> qui peut être utilisé pour créer des assistants. Le contenu à l&apos;intérieur de l&apos;élément <code><a href="/fr/docs/Mozilla/Tech/XUL/wizard" title="wizard">wizard</a></code> inclut tout le contenu de chaque page. Les attributs placés sur l&apos;élément <code><a href="/fr/docs/Mozilla/Tech/XUL/wizard" title="wizard">wizard</a></code> sont utilisés pour contrôler la navigation. Quand vous créez un assistant, utilisez la balise <code><a href="/fr/docs/Mozilla/Tech/XUL/wizard" title="wizard">wizard</a></code> à la place de la balise <code><a href="/fr/docs/Mozilla/Tech/XUL/window" title="window">window</a></code>.</p>

<div class="note">Notez que pour le moment les assistants ne fonctionnent correctement qu&apos;à partir d&apos;URLs chrome.</div>

<p>Un assistant consiste en un ensemble de sections, bien que la mise en page exacte variera pour chaque plateforme. L&apos;aspect visuel de l&apos;assistant s&apos;adaptera à la plateforme de l&apos;utilisateur. Une mise en page type inclura un titre en haut, un ensemble de boutons de navigations en bas, et le contenu de la page entre les deux.</p>

<p>Le titre du haut est créé en utilisant l&apos;attribut <code id="a-title"><a href="https://developer.mozilla.org/fr/docs/Mozilla/Tech/XUL/Attributs/title">title</a></code> comme on le ferait pour les fenêtres normales. Les boutons de navigation sont créés automatiquement. Les pages de l&apos;assistant sont créées en utilisant l&apos;élément <code><a href="/fr/docs/Mozilla/Tech/XUL/wizardpage" title="wizardpage">wizardpage</a></code>. Vous pouvez y placer tout contenu que vous voulez.</p>

<h4 id="Exemple_d.27assistant" name="Exemple_d.27assistant">Exemple d&apos;assistant</h4>

<p><span id="Exemple_1"><a id="Exemple_1"></a><strong>Exemple 1</strong></span> : <a href="https://developer.mozilla.org/samples/xultu/examples/ex_wizard_1.xul.txt">Source</a></p>

<pre>&lt;?xml version=&quot;1.0&quot; encoding=&quot;iso-8859-1&quot;?&gt;

&lt;?xml-stylesheet href=&quot;chrome://global/skin/&quot; type=&quot;text/css&quot;?&gt;

&lt;wizard id=&quot;example-window&quot; title=&quot;Assistant de sélection de chien&quot;
  xmlns=&quot;http://www.mozilla.org/keymaster/gatekeeper/there.is.only.xul&quot;&gt;

  &lt;wizardpage&gt;
    &lt;description&gt;
      Cet assistant vous aidera à sélectionner le type de chien qui sera le mieux pour vous.
    &lt;/description&gt;
    &lt;label value=&quot;Pourquoi voulez vous un chien ?&quot;/&gt;
    &lt;menulist&gt;
      &lt;menupopup&gt;
        &lt;menuitem label=&quot;Pour faire peur aux gens&quot;/&gt;
        &lt;menuitem label=&quot;Pour se débarrasser d&apos;un chat&quot;/&gt;
        &lt;menuitem label=&quot;J&apos;ai besoin d&apos;un meilleur ami&quot;/&gt;
      &lt;/menupopup&gt;
    &lt;/menulist&gt;
  &lt;/wizardpage&gt;

  &lt;wizardpage description=&quot;Détails sur le chien&quot;&gt;
    &lt;label value=&quot;Fournissez plus de détails sur le chien que vous désirez :&quot;/&gt;
    &lt;radiogroup&gt;
      &lt;caption label=&quot;Taille&quot;/&gt;
      &lt;radio value=&quot;small&quot; label=&quot;Petit&quot;/&gt;
      &lt;radio value=&quot;large&quot; label=&quot;Grand&quot;/&gt;
    &lt;/radiogroup&gt;
    &lt;radiogroup&gt;
      &lt;caption label=&quot;Sexe&quot;/&gt;
      &lt;radio value=&quot;male&quot; label=&quot;Male&quot;/&gt;
      &lt;radio value=&quot;female&quot; label=&quot;Femelle&quot;/&gt;
    &lt;/radiogroup&gt;
  &lt;/wizardpage&gt;

&lt;/wizard&gt;
</pre>

<div class="float-right"><img alt="Image:xultu_wizard1.jpg" class="internal" src="/@api/deki/files/1567/=Xultu_wizard1.jpg"></div>

<p>L&apos;assistant a deux pages, une qui a une liste déroulante et une autre qui a un ensemble de boutons radios. L&apos;assistant sera formaté automatiquement, avec un titre en haut et un ensemble de boutons le long du bas de la fenêtre. L&apos;utilisateur peut naviguer entre les pages de l&apos;assistant avec les boutons &apos;Précédent&apos; et &apos;Suivant&apos;. Ces boutons s&apos;activeront ou se désactiveront eux-mêmes aux moments appropriés. De plus, sur la dernière page, le bouton &apos;Terminer&apos; apparaîtra. Tout ceci est automatique, aussi, vous n&apos;avez rien à faire pour manipuler les pages.</p>

<p>L&apos;attribut <code id="a-description"><a href="https://developer.mozilla.org/fr/docs/Mozilla/Tech/XUL/Attributs/description">description</a></code> peut être éventuellement placé sur l&apos;élément <code><a href="/fr/docs/Mozilla/Tech/XUL/wizardpage" title="wizardpage">wizardpage</a></code> pour fournir un sous-titre pour la page concernée. Dans l&apos;exemple du dessus, il est placé sur la seconde page, mais pas sur la première.</p>

<h3 id="Gestion_des_changements_de_page" name="Gestion_des_changements_de_page">Gestion des changements de page</h3>

<p>Généralement, vous souhaitez réaliser une action après que le bouton &apos;Terminer&apos; ait été pressé. Vous pouvez mettre un attribut <code id="a-onwizardfinish"><a href="https://developer.mozilla.org/fr/docs/Mozilla/Tech/XUL/Attributs/onwizardfinish">onwizardfinish</a></code> sur l&apos;élément <code><a href="/fr/docs/Mozilla/Tech/XUL/wizard" title="wizard">wizard</a></code> pour accomplir cette tâche. Spécifiez-y un script qui exécutera ce que vous voulez et qui renverra &apos;true&apos;. Le script peut être utilisé pour sauvegarder les informations que l&apos;utilisateur a saisi dans l&apos;assistant. Par exemple :</p>

<pre>&lt;wizard id=&quot;example-window&quot; title=&quot;Assistant de sélection de chien&quot;
  onwizardfinish=&quot;return saveDogInfo();&quot;
  xmlns=&quot;http://www.mozilla.org/keymaster/gatekeeper/there.is.only.xul&quot;&gt;
</pre>

<p>Quand l&apos;utilisateur clique sur le bouton &apos;Terminer&apos;, la fonction <code>saveDogInfo</code> définie dans un script sera appelée pour sauvegarder les informations saisies. Si la fonction renvoie &apos;true&apos;, l&apos;assistant se fermera. Si elle renvoie &apos;false&apos;, alors l&apos;assistant ne se fermera pas, ce qui pourrait signifier par exemple que la fonction <code>saveDogInfo</code> a rencontré une saisie invalide.</p>

<p>Il existe également les attributs similaires <code id="a-onwizardback"><a href="https://developer.mozilla.org/fr/docs/Mozilla/Tech/XUL/Attributs/onwizardback">onwizardback</a></code>, <code id="a-onwizardnext"><a href="https://developer.mozilla.org/fr/docs/Mozilla/Tech/XUL/Attributs/onwizardnext">onwizardnext</a></code> et <code id="a-onwizardcancel"><a href="https://developer.mozilla.org/fr/docs/Mozilla/Tech/XUL/Attributs/onwizardcancel">onwizardcancel</a></code> qui sont appelés quand les boutons &apos;Précédent&apos;, &apos;Suivant&apos; et &apos;Annuler&apos; sont respectivement pressés. Ces fonctions sont appelées quelque soit la page en cours affichée.</p>

<p>Pour appeler un code différent en fonction de la page où vous êtes, utilisez les attributs <code id="a-onpagerewound"><a href="https://developer.mozilla.org/fr/docs/Mozilla/Tech/XUL/Attributs/onpagerewound">onpagerewound</a></code> ou <code id="a-onpageadvanced"><a href="https://developer.mozilla.org/fr/docs/Mozilla/Tech/XUL/Attributs/onpageadvanced">onpageadvanced</a></code> sur un élément <code><a href="/fr/docs/Mozilla/Tech/XUL/wizardpage" title="wizardpage">wizardpage</a></code>. Ils fonctionnent de manière similaire aux autres fonctions, excepté que vous pouvez utiliser un script différent pour chaque page. Cette méthode vous permet de valider les informations saisies sur chaque page avant que l&apos;utilisateur ne continue.</p>

<p>Une troisième méthode est l&apos;utilisation des attributs <code id="a-onpagehide"><a href="https://developer.mozilla.org/fr/docs/Mozilla/Tech/XUL/Attributs/onpagehide">onpagehide</a></code> et <code id="a-onpageshow"><a href="https://developer.mozilla.org/fr/docs/Mozilla/Tech/XUL/Attributs/onpageshow">onpageshow</a></code> sur l&apos;élément <code><a href="/fr/docs/Mozilla/Tech/XUL/wizardpage" title="wizardpage">wizardpage</a></code>. Ils sont appelés lorsque la page est cachée ou affichée, indifféremment du bouton pressé (excepté quand le bouton &apos;Annuler&apos; est pressé ; vous devez utiliser <code id="a-onwizardcancel"><a href="https://developer.mozilla.org/fr/docs/Mozilla/Tech/XUL/Attributs/onwizardcancel">onwizardcancel</a></code> pour le vérifier).</p>

<p>Ces trois méthodes devraient fournir suffisamment de souplesse pour gérer la navigation comme vous le souhaitez. Ce qui suit est un résumé des fonctions d&apos;attributs appelées quand l&apos;utilisateur presse &apos;Suivant&apos;, dans l&apos;ordre dans lequel elles sont vérifiées. Dés que l&apos;une renvoie &apos;false&apos;, la navigation est annulée.</p>

<table class="fullwidth-table">
 <tbody>
  <tr>
   <th>Attribut</th>
   <th>Placé sur la balise</th>
   <th>Quand est-il appelé ?</th>
  </tr>
  <tr>
   <td>pagehide</td>
   <td>wizardpage</td>
   <td>Appelé sur la page que l&apos;utilisateur quitte.</td>
  </tr>
  <tr>
   <td>pageadvanced</td>
   <td>wizardpage</td>
   <td>Appelé sur la page que l&apos;utilisateur quitte.</td>
  </tr>
  <tr>
   <td>wizardnext</td>
   <td>wizard</td>
   <td>Appelé sur l&apos;assistant.</td>
  </tr>
  <tr>
   <td>pageshow</td>
   <td>wizardpage</td>
   <td>Appelé sur la page sur laquelle l&apos;utilisateur entre.</td>
  </tr>
 </tbody>
</table>

<p>Un processus similaire existe pour le bouton &apos;Précédent&apos;.</p>

<div class="note">À chaque fois que vous utiliserez une fonction dans un des événements ci-dessus, tel que pageadvanced, vous devrez utiliser <code>return NomFonct()</code> au lieu de simplement appeler <code>NomFonct()</code>.

<pre>&lt;wizardpage pageadvanced=&apos;return NomFonct()&apos;&gt;&lt;/wizardpage&gt;</pre>
</div>

<hr>
<p>Dans la prochaine section, nous verrons des fonctionnalités supplémentaires sur les assistants.</p>

<div class="prevnext" style="text-align: right;">
    <p><a href="/fr/docs/Tutoriel_XUL:Boîte_de_dialogue_de_fichier" style="float: left;" class="button">« Précédent</a><a href="/fr/docs/Tutoriel_XUL:Assistant_avançé" class="button">Suivant  »</a></p>
</div>

<p><span class="comment">Interwiki</span></p>
