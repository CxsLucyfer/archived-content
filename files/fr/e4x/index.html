---
title: E4X
slug: E4X
tags:
  - E4X
  - JavaScript
translation_of: Archive/Web/E4X
---
<p>
<b>ECMAScript pour XML</b> (<b>E4X</b>) est une extension de langage de programmation ajoutant un support <a href="fr/XML">XML</a> natif à <a href="fr/JavaScript">JavaScript</a>. Cela se fait en fournissant un accès aux documents XML dans une forme qui semblera naturelle aux programmeurs ECMAScript. Son but est de proposer une syntaxe alternative et plus simple que les interfaces <a href="fr/DOM">DOM</a> pour accéder aux documents XML.
</p><p>E4X est standardisé par l&apos;Ecma International dans <a href="http://www.ecma-international.org/publications/standards/Ecma-357.htm" class="external">le standard ECMA-357</a> (actuellement dans sa seconde édition, de décembre 2005).
</p><p>E4X est implémenté (au moins partiellement) dans <a href="fr/SpiderMonkey">SpiderMonkey</a> (le moteur JavaScript de <a href="fr/Gecko">Gecko</a>) et dans <a href="fr/Rhino">Rhino</a> (moteur JavaScript écrit en Java).
</p>
<div class="note"><b>Note :</b> Dans les navigateurs basés sur Gecko 1.8 comme Firefox 1.5, E4X est déjà partiellement activé pour les auteurs de pages Web. Pour activer complètement E4X, l&apos;élément <code>&lt;script&gt;</code> doit avoir le type MIME « text/javascript;e4x=1 » (c&apos;est-à-dire avoir un attribut de la forme <code>type=&quot;text/javascript;e4x=1&quot;</code>). La différence entre les deux modes est que sans le type MIME indiquant « e4x=1 », tous les littéraux de commentaires XML/HTML au niveau déclaratif (<code><span class="nowiki">&lt;!--...--&gt;</span></code>) sont ignorés afin d&apos;assurer une rétro-compatibilité avec les astuces de masquage des scripts dans des commentaires. De plus, les sections CDATA (<code>&lt;![CDATA[...]]&gt;</code>) ne sont pas analysées comme des littéraux CDATA (ce qui mènerait à une erreur de syntaxe JS en HTML puisque l&apos;élément <code>&lt;script&gt;</code> génère une section CDATA implicite, et ne peut donc pas contenir de sections CDATA explicites).
</div>
<h3 id="Bogues_connus_et_limitations" name="Bogues_connus_et_limitations"> Bogues connus et limitations </h3>
<ul><li> Il n&apos;est actuellement pas possible d&apos;accéder à un objet DOM depuis E4X (<a href="https://bugzilla.mozilla.org/show_bug.cgi?id=270553">bug 270553</a>)
</li><li> E4X ne supporte pas le traitement d&apos;une déclaration XML (<code>&lt;?xml version=...?&gt;</code>) (voir <a href="https://bugzilla.mozilla.org/show_bug.cgi?id=336551">bug 336551</a>). Vous obtiendrez une erreur SyntaxError &quot;xml is a reserved identifier&quot; (même si le XML est une chaîne de caractères).
</li></ul>
<p>Solution :
</p>
<pre class="eval">var response = xmlhttprequest.responseText; // bug 270553
response = response.replace(&apos;&lt;?xml version=&quot;1.0&quot;?&gt;&apos;, &quot;&quot;); // bug 336551
var e4x = new XML(response);
</pre>
<h3 id="Ressources" name="Ressources"> Ressources </h3>
<ul><li> Consultez la liste des <a>pages concernant E4X</a> sur Mozilla Developer Center.
</li><li> <a href="http://www.ecma-international.org/publications/standards/Ecma-357.htm" class="external">Le standard ECMA-357 (en)</a>
</li><li> <a href="http://developer.mozilla.org/presentations/xtech2005/e4x/" class="external">Présentation de Brendan Eich (en)</a>
</li><li> <a href="http://www.faqts.com/knowledge_base/index.phtml/fid/1762" class="external">E4X sur faqts.com (en)</a>
</li></ul>
<div class="noinclude">
</div>
