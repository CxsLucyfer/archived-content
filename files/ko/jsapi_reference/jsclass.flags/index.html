---
title: JSClass.flags
slug: JSAPI_Reference/JSClass.flags
translation_of: Mozilla/Projects/SpiderMonkey/JSAPI_reference/JSClass.flags
---
<div><section class="Quick_links" id="Quick_Links">
 <ol>
  <li><a href="/ko/docs/Mozilla/Projects/SpiderMonkey"><strong><em>SpiderMonkey</em></strong></a></li>

  <li><strong>References:</strong></li>
  <li class="toggle">
    <details open>
        <summary>JSAPI reference</summary>

    </details>
  </li>
  <li class="toggle">
    <details>
      <summary>Debugger-API</summary>

    </details>
  </li>
  <li><strong>Guides:</strong></li>
  <li class="toggle">
    <details>
      <summary>General</summary>
      <ol>
        <li><a href="/ko/docs/Mozilla/Projects/SpiderMonkey/Build_Documentation">Build documentation</a></li>
        <li><a href="/ko/docs/Mozilla/Projects/SpiderMonkey/Introduction_to_the_JavaScript_shell">Introduction to the JavaScript shell</a></li>
        <li><a href="/ko/docs/Mozilla/Projects/SpiderMonkey/JSAPI_User_Guide">JSAPI user guide</a></li>
        <li><a href="/ko/docs/Mozilla/Projects/SpiderMonkey/JSAPI_Cookbook">JSAPI cookbook</a></li>
        <li><a href="/ko/docs/Mozilla/Projects/SpiderMonkey/How_to_embed_the_JavaScript_engine">How to embed the JavaScript engine</a></li>
        <li><a href="/ko/docs/Mozilla/Projects/SpiderMonkey/GC_Rooting_Guide">GC Rooting Guide</a></li>
      </ol>
    </details>
  </li>
  <li class="toggle">
    <details>
      <summary>SpiderMonkey internals</summary>

    </details>
  </li>

  <li><strong>Contributing to SpiderMonkey:</strong></li>
  <li class="toggle">
    <details>
      <summary>Getting started</summary>
      <ol>
        <li><a href="https://wiki.mozilla.org/JavaScript:New_to_SpiderMonkey">New to SpiderMonkey</a></li>
        <li><a href="/ko/docs/Mozilla/Projects/SpiderMonkey/Setting_up_CDT_to_work_on_SpiderMonkey">Setting up CDT to work on SpiderMonkey</a></li>
        <li><a href="/ko/docs/Mozilla/Projects/SpiderMonkey/Hacking_Tips">Hacking tips</a></li>
      </ol>
    </details>
  </li>
  <li class="toggle">
    <details>
      <summary>Tests</summary>
      <ol>
        <li><a href="/ko/docs/Mozilla/Projects/SpiderMonkey/Running_Automated_JavaScript_Tests">Running Automated JavaScript Tests</a></li>
        <li><a href="/ko/docs/Mozilla/Projects/SpiderMonkey/Creating_JavaScript_tests">Creating JavaScript tests</a></li>
        <li><a href="/ko/docs/Mozilla/Projects/SpiderMonkey/Running_Parsemark">Running Parsemark</a></li>
       </ol>
    </details>
  </li>

  <li><strong>Releases:</strong></li>
  <li class="toggle">
    <details>
      <summary>Release notes</summary>

    </details>
  </li>
  <li><strong><a href="/ko/docs/MDN">Documentation:</a></strong></li>
  <li class="toggle">
    <details>
      <summary>Useful lists</summary>
      <ol>
        <li><a href="/ko/docs/Mozilla/Projects/SpiderMonkey/Index">All pages index</a></li>
        <li><a href="/ko/docs/tag/SpiderMonkey">Pages tagged &quot;SpiderMonkey&quot;</a></li>
      </ol>
    </details>
  </li>
  <li class="toggle">
    <details>
      <summary>Contribute</summary>
      <ol>
        <li><a href="/ko/docs/MDN/Doc_status/SpiderMonkey">SpiderMonkey doc status</a></li>
        <li><a href="/ko/docs/MDN">The MDN project</a></li>
      </ol>
    </details>
  </li>
 </ol>
</section></div>

<div class="summary">
<p>The <strong><a href="/ko/docs/Mozilla/Projects/SpiderMonkey/JSAPI_reference/JSClass" title="The documentation about this has not yet been written; please consider contributing!"><code>JSClass.flags</code></a></strong> field allows an application to enable optional <code>JSClass</code> features on a per-class basis.</p>
</div>

<p>The <code>flags</code> field is of type <code>uint32_t</code>. Its value is the logical OR of zero or more of the following constants:</p>

<table class="fullwidth-table">
 <tbody>
  <tr>
   <th>Flag</th>
   <th>Meaning</th>
  </tr>
  <tr>
   <td>
    <p><code>JSCLASS_HAS_PRIVATE</code></p>
   </td>
   <td>
    <p>This class uses private data. If this flag is set, each instance of the class has a field for private data. The field can be accessed using <a href="/ko/docs/Mozilla/Projects/SpiderMonkey/JSAPI_reference/JS_GetPrivate"><code>JS_GetPrivate</code></a> and <a href="/ko/docs/Mozilla/Projects/SpiderMonkey/JSAPI_reference/JS_SetPrivate"><code>JS_SetPrivate</code></a>.</p>

    <p><a href="http://mxr.mozilla.org/mozilla-central/ident?i=JSCLASS_HAS_PRIVATE">MXR ID Search for <code>JSCLASS_HAS_PRIVATE</code></a></p>
   </td>
  </tr>
  <tr>
   <td>
    <p><code>JSCLASS_PRIVATE_IS_NSISUPPORTS</code></p>
   </td>
   <td>
    <p>Mozilla extension. The private field of each object of this class points to an <a href="/en/XPCOM">XPCOM</a> object (see <code><a href="/en/XPCOM_Interface_Reference/nsISupports">nsISupports</a></code>). This is only meaningful if SpiderMonkey is built with <a href="/en/XPConnect">XPConnect</a> and the <code>JSCLASS_HAS_PRIVATE</code> flag is also set.</p>

    <p><a href="http://mxr.mozilla.org/mozilla-central/ident?i=JSCLASS_PRIVATE_IS_NSISUPPORTS">MXR ID Search for <code>JSCLASS_PRIVATE_IS_NSISUPPORTS</code></a></p>
   </td>
  </tr>
  <tr>
   <td>
    <p><code>JSCLASS_IS_DOMJSCLASS</code></p>
   </td>
   <td>
    <p><span style="border: 1px solid rgb(129, 129, 81); background: rgb(255, 255, 225); font-size: 9px; vertical-align: text-top;">Added in <a href="https://developer.mozilla.org/ko/docs/SpiderMonkey/17">SpiderMonkey 17</a></span> Objects are DOM.</p>

    <p><a href="http://mxr.mozilla.org/mozilla-central/ident?i=JSCLASS_IS_DOMJSCLASS">MXR ID Search for <code>JSCLASS_IS_DOMJSCLASS</code></a></p>
   </td>
  </tr>
  <tr>
   <td><code>JSCLASS_EMULATES_UNDEFINED</code></td>
   <td>
    <p><span style="border: 1px solid rgb(129, 129, 81); background: rgb(255, 255, 225); font-size: 9px; vertical-align: text-top;">Added in <a href="https://developer.mozilla.org/ko/docs/SpiderMonkey/24">SpiderMonkey 24</a></span> Causes objects which have this class to <dfn>emulate <code>undefined</code></dfn> in certain circumstances.  An object <code>obj</code> that emulates <code>undefined</code> behaves like any other object, except in the following ways:</p>

    <ul>
     <li><code>typeof obj === &quot;undefined&quot;</code></li>
     <li><code>obj</code> converts to <code>false</code> when <code>obj</code> is converted to a boolean when used in boolean contexts (<code>if</code> conditions, loop continuation/termination conditions [<code>for</code>/<code>while</code>/<code>do { } while</code>], the condition in a ternary <code>?:</code> expression, and so on)</li>
     <li><code>(obj == undefined)</code> is true, and <code>(obj != undefined)</code> is <code>false</code></li>
     <li><code>(obj == null)</code> is true, and <code>(obj != null)</code> is <code>false</code></li>
    </ul>

    <p><code>==</code> and <code>!=</code> comparisons to values other than <code>null</code> or <code>undefined</code> (including to an object that emulates <code>undefined</code>) are unaffected by this flag.  Strict equality (<code>===</code> and <code>!==</code>) comparisons are also unaffected by this flag.</p>

    <p><a href="http://mxr.mozilla.org/mozilla-central/ident?i=JSCLASS_EMULATES_UNDEFINED">MXR ID Search for <code>JSCLASS_EMULATES_UNDEFINED</code></a></p>
   </td>
  </tr>
  <tr>
   <td>
    <p><code>JSCLASS_HAS_RESERVED_SLOTS(n)</code></p>
   </td>
   <td>
    <p>Indicates that instances of this class have <code>n</code> <em>reserved slots</em>. <code>n</code> is an integer in the range <code>[0..255]</code>. The slots initially contain unspecified valid <code>jsval</code> values. They can be accessed using <a href="/ko/docs/Mozilla/Projects/SpiderMonkey/JSAPI_reference/JS_GetReservedSlot"><code>JS_GetReservedSlot</code></a> and <a href="/ko/docs/Mozilla/Projects/SpiderMonkey/JSAPI_reference/JS_GetReservedSlot"><code>JS_SetReservedSlot</code></a>.</p>

    <p>(The <a href="/ko/docs/Mozilla/Projects/SpiderMonkey/JSAPI_reference/JSClass.reserveSlots"><code>JSClass.reserveSlots</code></a> hook also allocates reserved slots to objects.)</p>

    <p><a href="http://mxr.mozilla.org/mozilla-central/ident?i=JSCLASS_HAS_RESERVED_SLOTS">MXR ID Search for <code>JSCLASS_HAS_RESERVED_SLOTS</code></a></p>
   </td>
  </tr>
  <tr>
   <td>
    <p><code>JSCLASS_GLOBAL_FLAGS</code></p>
   </td>
   <td>
    <p>This flag is only relevant for the class of an object that is used as a global object. (ECMAScript specifies a single global object, but in SpiderMonkey the global object is the last object in the <a href="/ko/docs/Mozilla/Projects/SpiderMonkey/JSAPI_reference/JS_GetScopeChain">scope chain</a>, which can be different objects at different times. This is actually quite subtle. <a href="/ko/docs/Mozilla/Projects/SpiderMonkey/JSAPI_reference/JS_ExecuteScript"><code>JS_ExecuteScript</code></a> and similar APIs set the global object for the code they execute. <a href="/ko/docs/Mozilla/Projects/SpiderMonkey/JSAPI_reference/JS_SetGlobalObject"><code>JS_SetGlobalObject</code></a> sets an object which is sometimes used as the global object, as a last resort.)</p>

    <p>Enable standard ECMAScript behavior for setting the prototype of certain objects, such as <code>Function</code> objects. If the global object does not have this flag, then scripts may cause nonstandard behavior by replacing standard constructors or prototypes (such as <code>Function.prototype</code>.)</p>

    <p>Objects that can end up with the wrong prototype object, if this flag is not present, include: <code>arguments</code> objects (<span class="pl-s1"><span class="pl-s">ECMA 262-3 §</span></span>10.1.8 specifies &quot;the original <code>Object</code> prototype&quot;), <code>Function</code> objects (<span class="pl-s1"><span class="pl-s">ECMA 262-3 </span></span>§13.2 specifies &quot;the original <code>Function</code> prototype&quot;), and objects created by many standard constructors (<span class="pl-s1"><span class="pl-s">ECMA 262-3 §</span></span>15.4.2.1 and others).</p>

    <p><a href="http://mxr.mozilla.org/mozilla-central/ident?i=JSCLASS_GLOBAL_FLAGS">MXR ID Search for <code>JSCLASS_GLOBAL_FLAGS</code></a></p>
   </td>
  </tr>
  <tr>
   <td><code>JSCLASS_FOREGROUND_FINALIZE</code></td>
   <td>
    <p>Objects of this class must be finalized on the main thread. </p>

    <p>If this class has a finalizer that makes use of state shared with the main thread then this option must be specified.  It is always safe to specify this option.</p>

    <p>One of <code>JSCLASS_FOREGROUND_FINALIZE</code> and <code>JSCLASS_BACKGROUND_FINALIZE</code> must be specified.</p>
   </td>
  </tr>
  <tr>
   <td><code>JSCLASS_BACKGROUND_FINALIZE</code></td>
   <td>
    <p>It is safe to finalize objects of this class on a background thread.</p>

    <p>If this class has a finalizer that can be safely run concurrently with the main thread then this option can be specified.  It results in finalization work being offloaded to another thread which improves performance.</p>

    <p>One of <code>JSCLASS_FOREGROUND_FINALIZE</code> and <code>JSCLASS_BACKGROUND_FINALIZE</code> must be specified.</p>
   </td>
  </tr>
  <tr>
   <td><code>JSCLASS_IMPLEMENTS_BARRIERS</code></td>
   <td><span class="obsolete obsoleteInline notecard inline" title>안씀 JSAPI 43</span> Correctly implements GC read and write barriers.</td>
  </tr>
  <tr>
   <td>
    <p><code>JSCLASS_NEW_ENUMERATE</code></p>
   </td>
   <td><span class="obsolete obsoleteInline notecard inline" title>안씀 JSAPI 37</span> This class&apos;s <code>enumerate</code> hook is actually a <a href="/ko/docs/Mozilla/Projects/SpiderMonkey/JSAPI_reference/JSClass.enumerate"><code>JSNewEnumerateOp</code></a>, not a <a href="/ko/docs/Mozilla/Projects/SpiderMonkey/JSAPI_reference/JSEnumerateOp"><code>JSEnumerateOp</code></a>.</td>
  </tr>
  <tr>
   <td>
    <p><code>JSCLASS_NEW_RESOLVE</code></p>
   </td>
   <td><span class="obsolete obsoleteInline notecard inline" title>안씀 JSAPI 36</span> This class&apos;s <code>resolve</code> hook is actually a <a href="/ko/docs/Mozilla/Projects/SpiderMonkey/JSAPI_reference/JSNewResolveOp"><code>JSNewResolveOp</code></a>, not a <a href="/ko/docs/Mozilla/Projects/SpiderMonkey/JSAPI_reference/JSClass.resolve"><code>JSResolveOp</code></a>.</td>
  </tr>
  <tr>
   <td>
    <p><code>JSCLASS_SHARE_ALL_PROPERTIES</code></p>
   </td>
   <td><span class="obsolete obsoleteInline notecard inline" title>안씀 <a href="/ko/docs/JavaScript/New_in_JavaScript/1.8.5">JavaScript 1.8.5</a></span> Instructs SpiderMonkey to automatically give all properties of objects of this class the <a href="/ko/docs/Mozilla/Projects/SpiderMonkey/JSAPI_reference/JS_GetPropertyAttributes"><code>JSPROP_SHARED</code></a> attribute.</td>
  </tr>
  <tr>
   <td>
    <p><code>JSCLASS_NEW_RESOLVE_GETS_START</code></p>
   </td>
   <td><span class="obsolete obsoleteInline notecard inline" title>안씀 JSAPI 16</span> The <code>resolve</code> hook expects to receive the starting object in the prototype chain passed in via the <code>*objp</code> in/out parameter. (This is meaningful only if the <code>JSCLASS_NEW_RESOLVE</code> flag is also set.)</td>
  </tr>
  <tr>
   <td id="JSCLASS_CONSTRUCT_PROTOTYPE">
    <p><code>JSCLASS_CONSTRUCT_PROTOTYPE</code></p>
   </td>
   <td><span class="obsolete obsoleteInline notecard inline" title>안씀 JSAPI 11</span> Instructs <a href="/ko/docs/Mozilla/Projects/SpiderMonkey/JSAPI_reference/JS_InitClass"><code>JS_InitClass</code></a> to invoke the constructor when creating the class prototype.</td>
  </tr>
  <tr>
   <td>
    <p><code>JSCLASS_IS_EXTENDED</code></p>
   </td>
   <td><span class="obsolete obsoleteInline notecard inline" title>안씀 JSAPI 17</span>Indicates that this <code>JSClass</code> is really a <a href="/ko/docs/Mozilla/Projects/SpiderMonkey/JSAPI_reference/JSExtendedClass"><code>JSExtendedClass</code></a>.</td>
  </tr>
  <tr>
   <td>
    <p><code>JSCLASS_MARK_IS_TRACE</code></p>
   </td>
   <td><span class="obsolete obsoleteInline notecard inline" title>안씀 JSAPI 5</span> Indicates that the <a href="/ko/docs/Mozilla/Projects/SpiderMonkey/JSAPI_reference/JSClass.mark"><code>mark</code></a> hook implements the new <a href="/ko/docs/Mozilla/Projects/SpiderMonkey/JSAPI_reference/JSTraceOp"><code>JSTraceOp</code></a> signature instead of the old <a href="/ko/docs/Mozilla/Projects/SpiderMonkey/JSAPI_reference/JSClass.mark"><code>JSMarkOp</code></a> signature. This is recommended for all new code that needs custom marking.</td>
  </tr>
 </tbody>
</table>

<p>SpiderMonkey reserves a few other flags for its internal use. They are <code>JSCLASS_IS_ANONYMOUS</code>, <code>JSCLASS_IS_GLOBAL</code>, <code>JSCLASS_IS_PROXY</code>, and <code>JSCLASS_HAS_CACHED_PROTO</code>. JSAPI applications should not use these flags.</p>

<h2 id="See_Also" name="See_Also">See Also</h2>

<ul>
 <li><a href="https://bugzilla.mozilla.org/show_bug.cgi?id=527805">bug 527805</a> - removed <code>JSCLASS_SHARE_ALL_PROPERTIES</code></li>
 <li><a href="https://bugzilla.mozilla.org/show_bug.cgi?id=571789">bug 571789</a> - removed <code>JSCLASS_IS_EXTENDED</code></li>
 <li><a href="https://bugzilla.mozilla.org/show_bug.cgi?id=638291">bug 638291</a> - removed <code>JSCLASS_MARK_IS_TRACE</code></li>
 <li><a href="https://bugzilla.mozilla.org/show_bug.cgi?id=641025">bug 641025</a> - added <code>JSCLASS_IMPLEMENTS_BARRIERS</code></li>
 <li><a href="https://bugzilla.mozilla.org/show_bug.cgi?id=702507">bug 702507</a> - removed <code>JSCLASS_CONSTRUCT_PROTOTYPE</code></li>
 <li><a href="https://bugzilla.mozilla.org/show_bug.cgi?id=758913">bug 758913</a> - removed <code>JSCLASS_NEW_RESOLVE_GETS_START</code></li>
 <li><a href="https://bugzilla.mozilla.org/show_bug.cgi?id=766447">bug 766447</a> - added <code>JSCLASS_IS_DOMJSCLASS</code></li>
 <li><a href="https://bugzilla.mozilla.org/show_bug.cgi?id=792108">bug 792108</a> - added <code>JSCLASS_EMULATES_UNDEFINED</code></li>
 <li><a href="https://bugzilla.mozilla.org/show_bug.cgi?id=993026">bug 993026</a> - removed <code>JSCLASS_NEW_RESOLVE</code></li>
 <li><a href="https://bugzilla.mozilla.org/show_bug.cgi?id=1097267">bug 1097267</a> - removed <code>JSCLASS_NEW_ENUMERATE</code></li>
</ul>
